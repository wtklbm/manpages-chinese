.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright (c) 1993 Michael Haardt (michael@cantor.informatik.rwth-aachen.de)
.\" and 1994,1995 Alain Knaff (Alain.Knaff@imag.fr)
.\"
.\" SPDX-License-Identifier: GPL-2.0-or-later
.\"
.\" Modified, Sun Feb 26 15:00:02 1995, faith@cs.unc.edu
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH fd 4 2022\-12\-15 "Linux man\-pages 6.03" 
.SH NAME
fd\-\- 软盘设备
.SH CONFIGURATION
软盘驱动器是主设备号为 2 的块设备。 通常它们由 root:floppy (即用户 root、组软盘) 所有，并且具有模式 0660
(通过组成员身份进行访问检查) 或模式 0666 (每个人都可以访问)。 次要编号编码设备类型、驱动器编号和控制器编号。 对于每种设备类型
(即密度和磁道数的组合)，都有一个基本次要编号。 在此基数中，加上驱动器在其控制器上的编号，如果驱动器在辅助控制器上，则添加 128。
在下面的设备表中，\fIn\fP 代表驱动器号。
.PP
\fBWarning: if you use formats with more tracks than supported by your drive, you may cause it mechanical damage.\fP 如果支持的曲目比通常的 40/80
多，请尝试一次应该不会损坏它，但对此不提供任何保证。 如果不确定，请不要为这些格式创建设备条目，以防止使用它们。
.PP
自动检测媒体格式和容量的独立于驱动器的设备文件:
.TS
l c
l c.
Name	Base
	minor #
_
\fBfd\fP\fIn\fP	0
.TE
.PP
5.25 英寸双密度设备文件:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
Name	Capacity	Cyl.	Sect.	Heads	Base
	KiB				minor #
_
\fBfd\fP\fIn\fP\fBd360\fP	360	40	9	2	4
.TE
.PP
5.25 英寸高密度器件文件:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
Name	Capacity	Cyl.	Sect.	Heads	Base
	KiB				minor #
_
\fBfd\fP\fIn\fP\fBh360\fP	360	40	9	2	20
\fBfd\fP\fIn\fP\fBh410\fP	410	41	10	2	48
\fBfd\fP\fIn\fP\fBh420\fP	420	42	10	2	64
\fBfd\fP\fIn\fP\fBh720\fP	720	80	9	2	24
\fBfd\fP\fIn\fP\fBh880\fP	880	80	11	2	80
\fBfd\fP\fIn\fP\fBh1200\fP	1200	80	15	2	8
\fBfd\fP\fIn\fP\fBh1440\fP	1440	80	18	2	40
\fBfd\fP\fIn\fP\fBh1476\fP	1476	82	18	2	56
\fBfd\fP\fIn\fP\fBh1494\fP	1494	83	18	2	72
\fBfd\fP\fIn\fP\fBh1600\fP	1600	80	20	2	92
.TE
.PP
3.5 英寸双密度设备文件:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
Name	Capacity	Cyl.	Sect.	Heads	Base
	KiB				minor #
_
\fBfd\fP\fIn\fP\fBu360\fP	360	80	9	1	12
\fBfd\fP\fIn\fP\fBu720\fP	720	80	9	2	16
\fBfd\fP\fIn\fP\fBu800\fP	800	80	10	2	120
\fBfd\fP\fIn\fP\fBu1040\fP	1040	80	13	2	84
\fBfd\fP\fIn\fP\fBu1120\fP	1120	80	14	2	88
.TE
.PP
3.5 英寸高密度器件文件:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
Name	Capacity	Cyl.	Sect.	Heads	Base
	KiB				minor #
_
\fBfd\fP\fIn\fP\fBu360\fP	360	40	9	2	12
\fBfd\fP\fIn\fP\fBu720\fP	720	80	9	2	16
\fBfd\fP\fIn\fP\fBu820\fP	820	82	10	2	52
\fBfd\fP\fIn\fP\fBu830\fP	830	83	10	2	68
\fBfd\fP\fIn\fP\fBu1440\fP	1440	80	18	2	28
\fBfd\fP\fIn\fP\fBu1600\fP	1600	80	20	2	124
\fBfd\fP\fIn\fP\fBu1680\fP	1680	80	21	2	44
\fBfd\fP\fIn\fP\fBu1722\fP	1722	82	21	2	60
\fBfd\fP\fIn\fP\fBu1743\fP	1743	83	21	2	76
\fBfd\fP\fIn\fP\fBu1760\fP	1760	80	22	2	96
\fBfd\fP\fIn\fP\fBu1840\fP	1840	80	23	2	116
\fBfd\fP\fIn\fP\fBu1920\fP	1920	80	24	2	100
.TE
.PP
3.5 英寸超密度设备文件:
.TS
lw(1i) l l l l c
lw(1i) c c c c c.
Name	Capacity	Cyl.	Sect.	Heads	Base
	KiB				minor #
_
\fBfd\fP\fIn\fP\fBu2880\fP	2880	80	36	2	32
\fBfd\fP\fIn\fP\fBCompaQ\fP	2880	80	36	2	36
\fBfd\fP\fIn\fP\fBu3200\fP	3200	80	40	2	104
\fBfd\fP\fIn\fP\fBu3520\fP	3520	80	44	2	108
\fBfd\fP\fIn\fP\fBu3840\fP	3840	80	48	2	112
.TE
.SH DESCRIPTION
\fBfd\fP 特殊文件以原始模式访问软盘驱动器。 \fBfd\fP 设备支持以下 \fBioctl\fP(2) 调用:
.TP 
\fBFDCLRPRM\fP
清除驱动器的媒体信息 (驱动器中磁盘的几何结构)。
.TP 
\fBFDSETPRM\fP
设置驱动器的介质信息。 更换介质时，介质信息将丢失。
.TP 
\fBFDDEFPRM\fP
设置驱动器的媒体信息 (驱动器中磁盘的几何形状)。 更换介质时，介质信息不会丢失。 这将禁用自动检测。 为了重新启用自动检测，您必须发出
\fBFDCLRPRM\fP。
.TP 
\fBFDGETDRVTYP\fP
返回驱动器的类型 (名称参数)。 对于适用于多种驱动器类型的格式，\fBFDGETDRVTYP\fP 返回一个适合支持该格式的最旧驱动器类型的名称。
.TP 
\fBFDFLUSH\fP
使给定驱动器的缓冲区缓存无效。
.TP 
\fBFDSETMAXERRS\fP
设置报告错误的错误阈值、停止操作、重新校准、重置和逐个扇区读取。
.TP 
\fBFDSETMAXERRS\fP
获取当前的错误阈值。
.TP 
\fBFDGETDRVTYP\fP
获取驱动器的内部名称。
.TP 
\fBFDWERRORCLR\fP
清除写入错误统计信息。
.TP 
\fBFDWERRORGET\fP
读取写入错误统计信息。 其中包括写错误的总数、第一个写错误的位置和磁盘以及最后一个写错误的位置和磁盘。 磁盘由世代号标识，每次磁盘更改时该代号递增
(almost)。
.TP 
\fBFDTWADDLE\fP
关闭驱动电机几微秒。 为了访问扇区靠得太近的磁盘，可能需要这样做。
.TP 
\fBFDSETDRVPRM\fP
设置各种驱动参数。
.TP 
\fBFDGETDRVPRM\fP
读回这些参数。
.TP 
\fBFDGETDRVSTAT\fP
获取缓存的驱动器状态 (磁盘更改、写保护等)
.TP 
\fBFDPOLLDRVSTAT\fP
轮询驱动器并返回其状态。
.TP 
\fBFDGETFDCSTAT\fP
获取软盘控制器状态。
.TP 
\fBFDRESET\fP
在某些情况下重置软盘控制器。
.TP 
\fBFDRAWCMD\fP
向软盘控制器发送原始命令。
.PP
有关更精确的信息，另请参见 \fI<linux/fd.h>\fP 和 \fI<linux/fdreg.h>\fP 包含文件以及
\fBfloppycontrol\fP(1) 手册页。
.SH FILES
\fI/dev/fd*\fP
.SH NOTES
各种格式允许读取和写入多种类型的磁盘。 但是，如果软盘的扇区间隙太小，性能可能会下降，以至于需要几秒钟才能访问整个磁道。
为防止这种情况，请使用交错格式。
.PP
无法读取使用 Apple II 和 Macintosh 计算机 (800k 磁盘) 使用的 GCR (组代码记录) 格式化的软盘。
.PP
.\" .SH AUTHORS
.\" Alain Knaff (Alain.Knaff@imag.fr), David Niemi
.\" (niemidc@clark.net), Bill Broadhurst (bbroad@netcom.com).
不支持读取硬扇区的软盘 (每个扇区一个 hole，索引 hole 有点倾斜)。 这在旧的 8 英寸软盘上很常见。
.SH "SEE ALSO"
\fBchown\fP(1), \fBfloppycontrol\fP(1), \fBgetfdprm\fP(1), \fBmknod\fP(1),
\fBsuperformat\fP(1), \fBmount\fP(8), \fBsetfdprm\fP(8)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
