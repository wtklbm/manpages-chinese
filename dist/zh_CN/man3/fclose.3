.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright (c) 1990, 1991 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Chris Torek and the American National Standards Committee X3,
.\" on Information Processing Systems.
.\"
.\" SPDX-License-Identifier: BSD-4-Clause-UC
.\"
.\"     @(#)fclose.3	6.7 (Berkeley) 6/29/91
.\"
.\" Converted for Linux, Mon Nov 29 15:19:14 1993, faith@cs.unc.edu
.\"
.\" Modified 2000-07-22 by Nicolás Lichtmaier <nick@debian.org>
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH fclose 3 2022\-12\-29 "Linux man\-pages 6.03" 
.SH NAME
fclose \- 关闭流
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <stdio.h>\fP
.PP
\fBint fclose(FILE *\fP\fIstream\fP\fB);\fP
.fi
.SH DESCRIPTION
\fBfclose\fP() 函数刷新 \fIstream\fP 指向的流 (使用 \fBfflush\fP(3)) 写入任何缓冲输出数据并关闭底层文件描述符。
.SH "RETURN VALUE"
成功完成后，返回 0。 否则，返回 \fBEOF\fP 并设置 \fIerrno\fP 以指示错误。 在任何一种情况下，任何进一步的访问 (包括对流的
\fBfclose\fP()) 的另一个调用) 都会导致未定义的行为。
.SH ERRORS
.TP 
\fBEBADF\fP
.\"  This error cannot occur unless you are mixing ANSI C stdio operations and
.\"  low-level file operations on the same stream. If you do get this error,
.\"  you must have closed the stream's low-level file descriptor using
.\"  something like close(fileno(stream)).
\fIstream\fP 下的文件描述符无效。
.PP
\fBfclose\fP() 函数也可能会失败，并为例程 \fBclose\fP(2)、\fBwrite\fP(2) 或 \fBfflush\fP(3) 指定的任何错误设置
\fIerrno\fP。
.SH ATTRIBUTES
有关本节中使用的术语的解释，请参见 \fBattributes\fP(7)。
.ad l
.nh
.TS
allbox;
lbx lb lb
l l l.
Interface	Attribute	Value
T{
\fBfclose\fP()
T}	Thread safety	MT\-Safe
.TE
.hy
.ad
.sp 1
.SH STANDARDS
POSIX.1\-2001, POSIX.1\-2008, C99.
.SH NOTES
请注意，\fBfclose\fP() 仅刷新 C 库提供的用户空间缓冲区。 为确保数据物理存储在磁盘上，内核缓冲区也必须刷新，例如，使用 \fBsync\fP(2)
或 \fBfsync\fP(2)。
.SH "SEE ALSO"
\fBclose\fP(2), \fBfcloseall\fP(3), \fBfflush\fP(3), \fBfileno\fP(3), \fBfopen\fP(3),
\fBsetbuf\fP(3)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
