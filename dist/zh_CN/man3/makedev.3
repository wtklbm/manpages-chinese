.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright (c) 2008 Linux Foundation, written by Michael Kerrisk
.\"     <mtk.manpages@gmail.com>
.\"
.\" SPDX-License-Identifier: Linux-man-pages-copyleft
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH makedev 3 2022\-12\-15 "Linux man\-pages 6.03" 
.SH NAME
makedev, major, minor \- 管理一个设备号
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <sys/sysmacros.h>\fP
.PP
\fBdev_t makedev(unsigned int \fP\fImaj\fP\fB, unsigned int \fP\fImin\fP\fB);\fP
.PP
\fBunsigned int major(dev_t \fP\fIdev\fP\fB);\fP
\fBunsigned int minor(dev_t \fP\fIdev\fP\fB);\fP
.fi
.SH DESCRIPTION
设备 ID 由两部分组成: 主要 ID，标识设备的类别，以及次要 ID，标识该类别中设备的特定实例。 设备 ID 使用类型 \fIdev_t\fP 表示。
.PP
给定主要和次要设备 ID，\fBmakedev\fP() 将这些结合起来生成一个设备 ID，作为函数结果返回。 例如，可以将此设备 ID 指定给
\fBmknod\fP(2)。
.PP
\fBmajor\fP() 和 \fBminor\fP() 函数执行相反的任务: 给定设备 ID，它们分别返回主要和次要组件。 例如，这些宏可用于分解
\fBstat\fP(2) 返回的结构体中的设备 ID。
.SH ATTRIBUTES
有关本节中使用的术语的解释，请参见 \fBattributes\fP(7)。
.ad l
.nh
.TS
allbox;
lbx lb lb
l l l.
Interface	Attribute	Value
T{
\fBmakedev\fP(),
\fBmajor\fP(),
\fBminor\fP()
T}	Thread safety	MT\-Safe
.TE
.hy
.ad
.sp 1
.SH STANDARDS
.\" The BSDs, HP-UX, Solaris, AIX, Irix.
.\" The header location is inconsistent:
.\" Could be sys/mkdev.h, sys/sysmacros.h, or sys/types.h.
\fBmakedev\fP()、\fBmajor\fP() 和 \fBminor\fP() 函数未在 POSIX.1 中指定，但存在于许多其他系统中。
.SH NOTES
这些接口被定义为宏。 自 glibc 2.3.3 以来，它们一直是三个 GNU 特定函数的别名:
\fBgnu_dev_makedev\fP()、\fBgnu_dev_major\fP() 和 \fBgnu_dev_minor\fP()。
后一种名称是导出的，但传统名称更便于携带。
.PP
.\" glibc commit dbab6577c6684c62bd2521c1c29dc25c3cac966f
.\" glibc commit e16deca62e16f645213dffd4ecd1153c37765f17
BSD 通过 \fI<sys/types.h>\fP 公开这些宏的定义。 根据版本的不同，如果定义了合适的特性测试宏，glibc
还会从该头文件中公开这些宏的定义。 但是，此行为在 glibc 2.25 中已被弃用，并且自 glibc 2.28
以来，\fI<sys/types.h>\fP 不再提供这些定义。
.SH "SEE ALSO"
\fBmknod\fP(2), \fBstat\fP(2)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
