.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright (C) 1993 David Metcalfe (david@prism.demon.co.uk)
.\"
.\" SPDX-License-Identifier: Linux-man-pages-copyleft
.\"
.\" References consulted:
.\"     Linux libc source code
.\"     Lewine's _POSIX Programmer's Guide_ (O'Reilly & Associates, 1991)
.\"     386BSD man pages
.\" Modified Sat Jul 24 18:46:01 1993 by Rik Faith (faith@cs.unc.edu)
.\" Modified 11 June 1995 by Andries Brouwer (aeb@cwi.nl)
.\" 2007-07-30 Ulrich Drepper <drepper@redhat.com>: document fdopendir().
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH opendir 3 2022\-12\-15 "Linux man\-pages 6.03" 
.SH NAME
opendir, fdopendir \- 打开一个目录
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <sys/types.h>\fP
\fB#include <dirent.h>\fP
.PP
\fBDIR *opendir(const char *\fP\fIname\fP\fB);\fP
\fBDIR *fdopendir(int \fP\fIfd\fP\fB);\fP
.fi
.PP
.RS -4
特性测试宏 glibc 的要求 (参见 \fBfeature_test_macros\fP(7)):
.RE
.PP
\fBfdopendir\fP():
.nf
    由于 glibc 2.10:
        _POSIX_C_SOURCE >= 200809L
    在 glibc 2.10 之前:
        _GNU_SOURCE
.fi
.SH DESCRIPTION
\fBopendir\fP() 函数打开目录 \fIname\fP 对应的目录流，并返回指向目录流的指针。 流位于目录中的第一个条目。
.PP
\fBfdopendir\fP() 函数类似于 \fBopendir\fP()，但返回打开文件描述符 \fIfd\fP 引用的目录的目录流。 在成功调用
\fBfdopendir\fP() 后，\fIfd\fP 由实现在内部使用，应用程序不应以其他方式使用。
.SH "RETURN VALUE"
\fBopendir\fP() 和 \fBfdopendir\fP() 函数返回指向目录流的指针。 出错时返回 NULL，并设置 \fIerrno\fP 以指示错误。
.SH ERRORS
.TP 
\fBEACCES\fP
没有权限。
.TP 
\fBEBADF\fP
\fIfd\fP 不是为读取而打开的有效文件描述符。
.TP 
\fBEMFILE\fP
已达到打开文件描述符数量的每个进程限制。
.TP 
\fBENFILE\fP
已达到系统范围内打开文件总数的限制。
.TP 
\fBENOENT\fP
目录不存在，或者 \fIname\fP 是一个空字符串。
.TP 
\fBENOMEM\fP
内存不足，无法完成操作。
.TP 
\fBENOTDIR\fP
\fIname\fP 不是目录。
.SH VERSIONS
\fBfdopendir\fP() 自 glibc 2.4 起可用。
.SH ATTRIBUTES
有关本节中使用的术语的解释，请参见 \fBattributes\fP(7)。
.ad l
.nh
.TS
allbox;
lbx lb lb
l l l.
Interface	Attribute	Value
T{
\fBopendir\fP(),
\fBfdopendir\fP()
T}	Thread safety	MT\-Safe
.TE
.hy
.ad
.sp 1
.SH STANDARDS
\fBopendir\fP() 出现在 SVr4、4.3BSD 上，并在 POSIX.1\-2001 中指定。 \fBfdopendir\fP() 在
POSIX.1\-2008 中指定。
.SH NOTES
可以使用 \fBreaddir\fP(3) 从目录流中读取文件名条目。
.PP
可以使用 \fBdirfd\fP(3) 获取目录流的底层文件描述符。
.PP
\fBopendir\fP() 函数为 \fIDIR *\fP 下的文件描述符设置 close\-on\-exec 标志。 \fBfdopendir\fP()
函数保留文件描述符 \fIfd\fP 的 close\-on\-exec 标志设置不变。 POSIX.1\-200x 未指定对 \fBfdopendir\fP()
的成功调用是否会为文件描述符 \fIfd\fP 设置 close\-on\-exec 标志。
.SH "SEE ALSO"
\fBopen\fP(2), \fBclosedir\fP(3), \fBdirfd\fP(3), \fBreaddir\fP(3), \fBrewinddir\fP(3),
\fBscandir\fP(3), \fBseekdir\fP(3), \fBtelldir\fP(3)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
