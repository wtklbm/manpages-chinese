.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright (c) 1990, 1991 The Regents of the University of California.
.\" and Copyright (C) 2021 Michael Kerrisk <mtk.manpages@gmail.com>
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Chris Torek and the American National Standards Committee X3,
.\" on Information Processing Systems.
.\"
.\" SPDX-License-Identifier: BSD-4-Clause-UC
.\"
.\"     @(#)ferror.3	6.8 (Berkeley) 6/29/91
.\"
.\"
.\" Converted for Linux, Mon Nov 29 14:24:40 1993, faith@cs.unc.edu
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH ferror 3 2022\-12\-29 "Linux man\-pages 6.03" 
.SH NAME
clearerr, feof, ferror \- 检查并重置流状态
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <stdio.h>\fP
.PP
\fBvoid clearerr(FILE *\fP\fIstream\fP\fB);\fP
\fBint feof(FILE *\fP\fIstream\fP\fB);\fP
\fBint ferror(FILE *\fP\fIstream\fP\fB);\fP
.fi
.SH DESCRIPTION
函数 \fBclearerr\fP() 清除 \fIstream\fP 指向的流的文件结束和错误指示符。
.PP
函数 \fBfeof\fP() 测试 \fIstream\fP 指向的流的文件结束指示符，如果设置则返回非零值。 文件结束标志只能由函数 \fBclearerr\fP()
清除。
.PP
函数 \fBferror\fP() 测试 \fIstream\fP 指向的流的错误指示符，如果已设置则返回非零值。 错误指示器只能由 \fBclearerr\fP()
函数复位。
.PP
对于非锁定对应项，请参见 \fBunlocked_stdio\fP(3)。
.SH "RETURN VALUE"
如果为 \fIstream\fP 设置了文件结束指示符，则 \fBfeof\fP() 函数返回非零值; 否则，它返回零。
.PP
如果为 \fIstream\fP 设置了错误指示符，则 \fBferror\fP() 函数返回非零; 否则，它返回零。
.SH ERRORS
这些函数不应该失败，不要设置 \fIerrno\fP。
.SH ATTRIBUTES
有关本节中使用的术语的解释，请参见 \fBattributes\fP(7)。
.ad l
.nh
.TS
allbox;
lbx lb lb
l l l.
Interface	Attribute	Value
T{
\fBclearerr\fP(),
\fBfeof\fP(),
\fBferror\fP()
T}	Thread safety	MT\-Safe
.TE
.hy
.ad
.sp 1
.SH STANDARDS
函数 \fBclearerr\fP()、\fBfeof\fP() 和 \fBferror\fP() 符合 C99、POSIX.1\-2001 和 POSIX.1\-2008。
.SH NOTES
.\"https://www.austingroupbugs.net/view.php?id=401
POSIX.1\-2008 指定如果 \fIstream\fP 有效，这些函数不得更改 \fIerrno\fP 的值。
.SH CAVEATS
通常，程序应该在使用 \fBfeof\fP(3) 系列的函数之前读取输入函数的返回值，例如 \fBfgetc\fP(3)。 只有当函数返回标记值 \fBEOF\fP
时，才有意义区分文件结束或 \fBfeof\fP(3) 或 \fBferror\fP(3) 错误。
.SH "SEE ALSO"
\fBopen\fP(2), \fBfdopen\fP(3), \fBfileno\fP(3), \fBstdio\fP(3), \fBunlocked_stdio\fP(3)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
