.\" -*- coding: UTF-8 -*-
.\" Copyright (c) Bruno Haible <haible@clisp.cons.org>
.\"
.\" SPDX-License-Identifier: GPL-2.0-or-later
.\"
.\" References consulted:
.\"   GNU glibc-2 source code and manual
.\"   Dinkumware C library reference http://www.dinkumware.com/
.\"   OpenGroup's Single UNIX specification http://www.UNIX-systems.org/online.html
.\"   ISO/IEC 9899:1999
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH fwide 3 2023\-02\-05 "Linux man\-pages 6.03" 
.SH NAME
fwide \- 设置和确定文件流的方向
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <wchar.h>\fP
.PP
\fBint fwide(FILE *\fP\fIstream\fP\fB, int \fP\fImode\fP\fB);\fP
.fi
.PP
.RS -4
特性测试宏 glibc 的要求 (参见 \fBfeature_test_macros\fP(7)):
.RE
.PP
\fBfwide\fP():
.nf
    _XOPEN_SOURCE >= 500 ||_ISOC99_ 来源
        || _POSIX_C_SOURCE >= 200112L
.fi
.SH DESCRIPTION
当 \fImode\fP 为零时，\fBfwide\fP() 函数决定了 \fIstream\fP 的当前方向。 如果 \fIstream\fP
是面向宽字符的，即如果允许使用宽字符 I/O 但不允许使用字符 I/O，则它返回一个正值。 如果 \fIstream\fP 是面向字节的
\[em]，也就是说，如果允许使用字符 I/O 但不允许使用宽字符 I/O，则它返回一个 negative 值。 如果 \fIstream\fP
还没有方向，它返回零; 在这种情况下，下一个 I/O 操作可能会改变方向 (如果是字符 I/O 操作，则为字节导向，如果是宽字符 I/O
操作，则为宽字符导向)。
.PP
一旦流有方向，它就不能改变并一直存在，直到流关闭。
.PP
当 \fImode\fP 非零时，\fBfwide\fP() 函数首先尝试设置 \fIstream\fP's 方向 (如果 \fImode\fP 大于 0，则为宽字符方向，如果
\fImode\fP 小于 0，则为字节方向)。 然后它返回一个表示当前方向的值，如上所述。
.SH "RETURN VALUE"
\fBfwide\fP() 函数在可能更改之后返回流的方向。 正返回值意味着面向宽字符。 negative 返回值表示面向字节。 返回值为零表示未定。
.SH STANDARDS
POSIX.1\-2001, POSIX.1\-2008, C99.
.SH NOTES
可以通过 \fBfprintf\fP(3) 函数以及 \fB%lc\fP 和 \fB%ls\fP 指令将宽字符输出到面向字节的流。
.PP
面向宽字符流的面向字符的输出可以通过带有 \fB%c\fP 和 \fB%s\fP 指令的 \fBfwprintf\fP(3) 函数执行。
.SH "SEE ALSO"
\fBfprintf\fP(3), \fBfwprintf\fP(3)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
