.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright (c) 1993 Michael Haardt
.\" (michael@moria.de)
.\" Fri Apr  2 11:32:09 MET DST 1993
.\"
.\" SPDX-License-Identifier: GPL-2.0-or-later
.\"
.\" Modified Sat Jul 24 14:23:14 1993 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sun Oct 18 17:31:43 1998 by Andries Brouwer (aeb@cwi.nl)
.\" 2008-06-23, mtk, minor rewrites, added some details
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH ftime 3 2022\-12\-15 "Linux man\-pages 6.03" 
.SH NAME
ftime \- 返回日期和时间
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <sys/timeb.h>\fP
.PP
\fBint ftime(struct timeb *\fP\fItp\fP\fB);\fP
.fi
.SH DESCRIPTION
\fBNOTE\fP: 这个函数不再由 GNU C 库提供。 请改用 \fBclock_gettime\fP(2)。
.PP
此函数返回自纪元 1970\-01\-01 00:00:00 +0000 (UTC) 以来的当前时间 (秒和毫秒)。 时间在 \fItp\fP 中返回，声明如下:
.PP
.in +4n
.EX
struct timeb {
    time_t         time;
    unsigned short millitm;
    short          timezone;
    short          dstflag;
};
.EE
.in
.PP
这里的 \fItime\fP 是自 Epoch 以来的秒数，\fImillitm\fP 是自 Epoch 以来的毫秒数 \fItime\fP 秒。 \fItimezone\fP
字段是本地时区，以格林威治以西的时间分钟为单位 (negative 值表示格林威治以东的分钟数)。 \fIdstflag\fP
字段是一个标志，如果非零，则表示夏令时适用于当地一年中的适当时间。
.PP
POSIX.1\-2001 表示 \fItimezone\fP 和 \fIdstflag\fP 字段的内容未指定; 避免依赖他们。
.SH "RETURN VALUE"
这个函数总是返回 0。 (POSIX.1\-2001 指定，以及一些系统文档，\-1 错误返回。)
.SH VERSIONS
从 glibc 2.33 开始，\fBftime\fP() 函数和 \fI<sys/timeb.h>\fP 标头已被删除。
为了支持旧的二进制文件，glibc 继续为链接到 glibc 2.32 和更早版本的应用程序提供兼容性符号。
.SH ATTRIBUTES
有关本节中使用的术语的解释，请参见 \fBattributes\fP(7)。
.ad l
.nh
.TS
allbox;
lbx lb lb
l l l.
Interface	Attribute	Value
T{
\fBftime\fP()
T}	Thread safety	MT\-Safe
.TE
.hy
.ad
.sp 1
.SH STANDARDS
4.2BSD, POSIX.1\-2001。POSIX.1\-2008 删除了 \fBftime\fP() 的规范。
.PP
这个函数已经过时了。 不要使用它。 如果以秒为单位的时间足够，可以使用 \fBtime\fP(2); \fBgettimeofday\fP(2) 给出微秒;
\fBclock_gettime\fP(2) 提供纳秒，但没有广泛使用。
.SH BUGS
.\" .SH HISTORY
.\" The
.\" .BR ftime ()
.\" function appeared in 4.2BSD.
早期的 glibc2 是 buggy，在 \fImillitm\fP 字段返回 0; glibc 2.1.1 再次正确。
.SH "SEE ALSO"
\fBgettimeofday\fP(2), \fBtime\fP(2)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
