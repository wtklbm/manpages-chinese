.\" -*- coding: UTF-8 -*-
'\" t
.\" Copyright 2022 Alejandro Colomar <alx@kernel.org>
.\" SPDX-License-Identifier:  Linux-man-pages-copyleft
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH scanf 3 2022\-12\-29 "Linux man\-pages 6.03" 
.SH NAME
scanf, fscanf, vscanf, vfscanf \- 输入文件格式转换
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <stdio.h>\fP
.PP
\fBint scanf(const char *restrict \fP\fIformat\fP\fB, ...);\fP
\fBint fscanf(FILE *restrict \fP\fIstream\fP\fB,\fP
\fB           const char *restrict \fP\fIformat\fP\fB, ...);\fP
.PP
\fB#include <stdarg.h>\fP
.PP
\fBint vscanf(const char *restrict \fP\fIformat\fP\fB, va_list \fP\fIap\fP\fB);\fP
\fBint vfscanf(FILE *restrict \fP\fIstream\fP\fB,\fP
\fB           const char *restrict \fP\fIformat\fP\fB, va_list \fP\fIap\fP\fB);\fP
.fi
.PP
.RS -4
特性测试宏 glibc 的要求 (参见 \fBfeature_test_macros\fP(7)):
.RE
.PP
\fBvscanf\fP(), \fBvfscanf\fP():
.nf
    _ISOC99_ 源 ||_POSIX_C_SOURCE >= 200112L
.fi
.SH DESCRIPTION
函数的 \fBscanf\fP() 系列像 \fBsscanf\fP(3) 一样扫描输入，但从 \fIFILE\fP 读取。 正确使用这些函数非常困难，最好使用
\fBfgets\fP(3) 或 \fBgetline\fP(3) 读取整行，然后使用 \fBsscanf\fP(3) 或更专业的函数 (如 \fBstrtol\fP(3))
解析它们。
.PP
\fBscanf\fP() 函数从标准输入流 \fIstdin\fP 读取输入，\fBfscanf\fP() 从流指针 \fIstream\fP 读取输入。
.PP
\fBvfscanf\fP() 函数类似于 \fBvfprintf\fP(3) 并使用变量参数指针列表从流指针 \fIstream\fP 读取输入 (参见
\fBstdarg\fP(3).  \fBvscanf\fP() 函数类似于 \fBvprintf\fP(3) 并从标准输入读取。
.SH "RETURN VALUE"
成功时，这些函数返回输入项成功匹配分配的个数; 在早期匹配失败的情况下，这可能比规定的要少，甚至为零。
.PP
如果在第一次成功转换或匹配失败发生之前到达输入末尾，则返回值 \fBEOF\fP。 如果发生读取错误，也会返回 \fBEOF\fP，在这种情况下，流的错误指示符
(请参见设置 \fBferror\fP(3))，设置 \fIerrno\fP 以指示错误。
.SH ERRORS
.TP 
\fBEAGAIN\fP
\fIstream\fP 下的文件描述符被标记为非阻塞，读取操作将阻塞。
.TP 
\fBEBADF\fP
\fIstream\fP 下的文件描述符无效，或未打开以供读取。
.TP 
\fBEILSEQ\fP
输入字节序列未形成有效字符。
.TP 
\fBEINTR\fP
读取操作被信号中断; 请参见 \fBsignal\fP(7)。
.TP 
\fBEINVAL\fP
参数不够; 或 \fIformat\fP 为 NULL。
.TP 
\fBENOMEM\fP
内存不足。
.SH ATTRIBUTES
有关本节中使用的术语的解释，请参见 \fBattributes\fP(7)。
.ad l
.nh
.TS
allbox;
lbx lb lb
l l l.
Interface	Attribute	Value
T{
\fBscanf\fP(),
\fBfscanf\fP(),
\fBvscanf\fP(),
\fBvfscanf\fP()
T}	Thread safety	MT\-Safe locale
.TE
.hy
.ad
.sp 1
.SH STANDARDS
这些函数符合 C99 和 POSIX.1\-2001。
.SH "SEE ALSO"
\fBfgets\fP(3), \fBgetline\fP(3), \fBsscanf\fP(3)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
