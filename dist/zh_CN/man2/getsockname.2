.\" -*- coding: UTF-8 -*-
.\" Copyright (c) 1983, 1991 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" SPDX-License-Identifier: BSD-4-Clause-UC
.\"
.\"     @(#)getsockname.2	6.4 (Berkeley) 3/10/91
.\"
.\" Modified Sat Jul 24 16:30:29 1993 by Rik Faith <faith@cs.unc.edu>
.\" Modified Tue Oct 22 00:22:35 EDT 1996 by Eric S. Raymond <esr@thyrsus.com>
.\" Modified Sun Mar 28 21:26:46 1999 by Andries Brouwer <aeb@cwi.nl>
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH getsockname 2 2022\-10\-30 "Linux man\-pages 6.03" 
.SH NAME
getsockname \- 获取套接字名称
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <sys/socket.h>\fP
.PP
\fBint getsockname(int \fP\fIsockfd\fP\fB, struct sockaddr *restrict \fP\fIaddr\fP\fB,\fP
\fB                socklen_t *restrict \fP\fIaddrlen\fP\fB);\fP
.fi
.SH DESCRIPTION
\fBgetsockname\fP() 在 \fIaddr\fP 指向的缓冲区中返回套接字 \fIsockfd\fP 绑定到的当前地址。 \fIaddrlen\fP
参数应该被初始化以指示 \fIaddr\fP 指向的空间量 (以字节为单位)。 返回时它包含套接字地址的实际大小。
.PP
如果提供的缓冲区太小，返回的地址将被截断; 在这种情况下，\fIaddrlen\fP 将返回一个大于提供给调用的值。
.SH "RETURN VALUE"
成功时，返回零。 出错时返回 \-1，并设置 \fIerrno\fP 以指示错误。
.SH ERRORS
.TP 
\fBEBADF\fP
参数 \fIsockfd\fP 不是有效的文件描述符。
.TP 
\fBEFAULT\fP
\fIaddr\fP 参数指向的内存不在进程地址空间的有效部分。
.TP 
\fBEINVAL\fP
\fIaddrlen\fP 无效 (例如，是 negative)。
.TP 
\fBENOBUFS\fP
系统中可用资源不足，无法执行该操作。
.TP 
\fBENOTSOCK\fP
文件描述符 \fIsockfd\fP 不引用套接字。
.SH STANDARDS
.\" SVr4 documents additional ENOMEM
.\" and ENOSR error codes.
POSIX.1\-2001、POSIX.1\-2008、SVr4、4.4BSD (\fBgetsockname\fP() 首次出现在 4.2BSD)。
.SH NOTES
有关 \fIsocklen_t\fP 类型的背景，请参见 \fBaccept\fP(2)。
.SH "SEE ALSO"
\fBbind\fP(2), \fBsocket\fP(2), \fBgetifaddrs\fP(3), \fBip\fP(7), \fBsocket\fP(7),
\fBunix\fP(7)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
