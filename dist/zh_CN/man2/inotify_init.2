.\" -*- coding: UTF-8 -*-
.\" Copyright (C) 2005 Robert Love
.\" and Copyright (C) 2008, Michael Kerrisk <mtk.manpages@gmail.com>
.\"
.\" SPDX-License-Identifier: GPL-2.0-or-later
.\"
.\" 2005-07-19 Robert Love <rlove@rlove.org> - initial version
.\" 2006-02-07 mtk, minor changes
.\" 2008-10-10 mtk: add description of inotify_init1()
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH inotify_init 2 2022\-12\-04 "Linux man\-pages 6.03" 
.SH NAME
inotify_init, inotify_init1 \- 初始化一个 inotify 实例
.SH LIBRARY
标准 C 库 (\fIlibc\fP、\fI\-lc\fP)
.SH SYNOPSIS
.nf
\fB#include <sys/inotify.h>\fP
.PP
\fBint inotify_init(void);\fP
\fBint inotify_init1(int \fP\fIflags\fP\fB);\fP
.fi
.SH DESCRIPTION
有关 inotify API 的概述，请参见 \fBinotify\fP(7)。
.PP
\fBinotify_init\fP() 初始化一个新的 inotify 实例并返回一个与新的 inotify 事件队列关联的文件描述符。
.PP
如果 \fIflags\fP 为 0，则 \fBinotify_init1\fP() 与 \fBinotify_init\fP() 相同。 可以在 \fIflags\fP
中对以下值进行按位或运算以获得不同的行为:
.TP 
\fBIN_NONBLOCK\fP
在打开的文件描述中设置 \fBO_NONBLOCK\fP 文件状态标志 (请参见新文件描述符引用的 \fBopen\fP(2))。 使用此标志可节省对
\fBfcntl\fP(2) 的额外调用以实现相同的结果。
.TP 
\fBIN_CLOEXEC\fP
在新文件描述符上设置 close\-on\-exec (\fBFD_CLOEXEC\fP) 标志。 请参见 \fBopen\fP(2) 中 \fBO_CLOEXEC\fP
标志的描述，了解这可能有用的原因。
.SH "RETURN VALUE"
成功时，这些系统调用返回一个新的文件描述符。 出错时返回 \-1，并设置 \fIerrno\fP 以指示错误。
.SH ERRORS
.TP 
\fBEINVAL\fP
(\fBinotify_init1\fP()) 在 \fIflags\fP 中指定了无效值。
.TP 
\fBEMFILE\fP
已达到 inotify 实例总数的用户限制。
.TP 
\fBEMFILE\fP
已达到打开文件描述符数量的每个进程限制。
.TP 
\fBENFILE\fP
已达到系统范围内打开文件总数的限制。
.TP 
\fBENOMEM\fP
可用内核内存不足。
.SH VERSIONS
\fBinotify_init\fP() 最早出现在 Linux 2.6.13; glibc 2.4 中添加了库支持。 \fBinotify_init1\fP()
在 Linux 2.6.27 中加入; glibc 2.9 中添加了库支持。
.SH STANDARDS
这些系统调用是特定于 Linux 的。
.SH "SEE ALSO"
\fBinotify_add_watch\fP(2), \fBinotify_rm_watch\fP(2), \fBinotify\fP(7)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
