.\" -*- coding: UTF-8 -*-
.\" Copyright (C) 1995, Thomas K. Dyas <tdyas@eden.rutgers.edu>
.\"
.\" SPDX-License-Identifier: Linux-man-pages-copyleft
.\"
.\" Created   Wed Aug  9 1995     Thomas K. Dyas <tdyas@eden.rutgers.edu>
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH sysfs 2 2022\-10\-30 "Linux man\-pages 6.03" 
.SH NAME
sysfs \- 获取文件系统类型信息
.SH SYNOPSIS
.nf
\fB[[deprecated]] int sysfs(int \fP\fIoption\fP\fB，常量字符 *\fP\fIfsname\fP\fB);\fP
\fB[[deprecated]] int sysfs(int \fP\fIoption\fP\fB, unsigned int \fP\fIfs_index\fP\fB, char *\fP\fIbuf\fP\fB);\fP
\fB[[deprecated]] int sysfs(int \fP\fIoption\fP\fB);\fP
.fi
.SH DESCRIPTION
\fBNote\fP: 如果您要查找有关通常安装在 \fI/sys\fP 的 \fBsysfs\fP 文件系统的信息，请参见 \fBsysfs\fP(5)。
.PP
(obsolete) \fBsysfs\fP() 系统调用返回有关内核中当前存在的文件系统类型的信息。 \fBsysfs\fP()
调用的具体形式和返回的信息取决于生效的 \fIoption\fP:
.TP  3
\fB1\fP
将文件系统标识符字符串 \fIfsname\fP 转换为文件系统类型索引。
.TP 
\fB2\fP
将文件系统类型索引 \fIfs_index\fP 转换为以 null 结尾的文件系统标识符字符串。 该字符串将写入 \fIbuf\fP 指向的缓冲区。 确保
\fIbuf\fP 有足够的空间来接受字符串。
.TP 
\fB3\fP
返回内核中当前存在的文件系统类型的总数。
.PP
文件系统类型索引的编号从零开始。
.SH "RETURN VALUE"
成功时，\fBsysfs\fP() 为选项 \fB1\fP 返回文件系统索引，为选项 \fB2\fP 返回零，为选项 \fB3\fP 返回当前配置的文件系统数。 出错时返回
\-1，并设置 \fIerrno\fP 以指示错误。
.SH ERRORS
.TP 
\fBEFAULT\fP
\fIfsname\fP 或 \fIbuf\fP 在您的可访问地址空间之外。
.TP 
\fBEINVAL\fP
\fIfsname\fP 不是有效的文件系统类型标识符; \fIfs_index\fP 越界; \fIoption\fP 无效。
.SH STANDARDS
SVr4.
.SH NOTES
此 System\-V 派生系统调用已过时; 不要使用它。 在具有 \fI/proc\fP 的系统上，可以通过 \fI/proc\fP 获取相同的信息;
请改用该界面。
.SH BUGS
没有 libc 或 glibc 支持。 没有办法猜测 \fIbuf\fP 应该有多大。
.SH "SEE ALSO"
\fBproc\fP(5), \fBsysfs\fP(5)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
