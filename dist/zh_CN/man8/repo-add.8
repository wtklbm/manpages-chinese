.\" -*- coding: UTF-8 -*-
'\" t
.\"     Title: repo-add
.\"    Author: [see the "Authors" section]
.\" Generator: DocBook XSL Stylesheets vsnapshot <http://docbook.sf.net/>
.\"      Date: 2022-11-01
.\"    Manual: Pacman Manual
.\"    Source: Pacman 6.0.2
.\"  Language: English
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH REPO\-ADD 8 2022\-11\-01 "Pacman 6\&.0\&.2" "Pacman Manual"
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH NAME
repo\-add \- 包数据库维护实用程序
.SH SYNOPSIS
.sp
\fIrepo\-add\fP [options] <path\-to\-db> <package>
[<package> \&...]
.sp
\fIrepo\-remove\fP [options] <path\-to\-db> <packagename>
[<packagename> \&...]
.SH DESCRIPTION
.sp
\fIrepo\-add\fP 和 \fIrepo\-remove\fP 是两个脚本，用于帮助为使用 \fBmakepkg\fP(8) 构建并使用
\fBpacman\fP(8)\& 安装的包构建包数据库。
.sp
\fIrepo\-add\fP 将通过读取构建的包文件更新包数据库。可以在命令行 \& 上指定要添加的多个包。
.sp
如果在包文件旁边找到匹配的 \(lq\&.sig\(rq 文件，签名将自动嵌入到数据库中 \&。
.sp
\fIrepo\-remove\fP 将通过删除命令行中指定的包名称来更新包数据库 \&。可以在命令行 \& 上指定要删除的多个包。
.sp
包数据库是一个 tar 文件，可以选择压缩 \&。有效扩展名是 \(lq\&.db\(rq 后跟
\(lq\&.tar\(rq,\(lq\&.tar\&.gz\(rq,\(lq\&.tar\&.bz2\(rq,\(lq\&.tar\&.xz\(rq,
或 \(lq\&.tar\&.Z\(rq\&. 该文件不需要存在，但所有父目录必须存在 \&。
.SH "COMMON OPTIONS"
.PP
\fB\-q, \-\-quiet\fP
.RS 4
强制此程序保持安静并静默运行，警告和错误消息除外 \&。
.RE
.PP
\fB\-s, \-\-sign\fP
.RS 4
使用 GnuPG\& 生成 PGP 签名文件。这将在生成的数据库上执行 gpg\-\-detach\-sign\-\-use\-agent
以生成分离的签名文件，如果 GPG 代理可用 \&。签名文件将是数据库的整个文件名，带有 \(lq\&.sig\(rq 扩展名 \&。
.RE
.PP
\fB\-k, \-\-key\fP <key>
.RS 4
指定在对包进行签名时使用的密钥 \&。也可以使用 GPGKEY 环境变量 \& 指定。如果在任一位置均未指定，则将使用密钥环中的默认密钥 \&。
.RE
.PP
\fB\-v, \-\-verify\fP
.RS 4
在更新数据库之前验证数据库的 PGP 签名 \&。如果签名无效，则会产生错误并且不会继续更新 \&。
.RE
.PP
\fB\-\-nocolor\fP
.RS 4
从 \fIrepo\-add\fP 和 \fIrepo\-remove\fP 输出中移除颜色 \&。
.RE
.SH "REPO\-ADD OPTIONS"
.PP
\fB\-n, \-\-new\fP
.RS 4
只添加数据库中不存在的包 \&。警告将在检测到现有包时打印，但不会重新添加 \&。
.RE
.PP
\fB\-R, \-\-remove\fP
.RS 4
更新数据库中的条目时从磁盘中删除旧包文件 \&。
.RE
.SH EXAMPLE
.sp
\fIrepo\-add\fP foo\&.db\&.tar\&.xz <pkg1> [<pkg2> \&...]
.sp
这将创建两个独立的数据库; 一个较小的数据库 \(lqfoo\&.db\&.tar\&.xz\(pacman 使用的 rq
和一个包含包文件列表的大型数据库 \(lqfoo\&.files\&.tar\&.xz\(rq 供其他实用工具 \& 使用。虽然 pacman
可以使用大型数据库 (如果重命名为 db\&.tar* 扩展名)，但目前对于更大的下载 \& 没有额外的好处。
.SH "SEE ALSO"
.sp
\fBmakepkg\fP(8), \fBpacman\fP(8)
.sp
有关 pacman 及其相关工具的最新信息，请参见 pacman 网站 https://archlinux\&.org/pacman/。
.SH BUGS
.sp
虫子? 您一定在开玩笑; 此软件中没有错误 \&。但如果我们碰巧错了，请在 Pacman 部分的 Arch Linux Bug Tracker
提交尽可能详细的错误报告 \&。
.SH AUTHORS
.sp
目前的维护者:
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Allan McRae <allan@archlinux\&.org>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Andrew Gregory <andrew\&.gregory\&.8@gmail\&.com>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Eli Schwartz <eschwartz@archlinux\&.org>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Morgan Adamiec <morganamilo@archlinux\&.org>
.RE
.sp
过去的主要贡献者:
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Judd Vinet <jvinet@zeroflux\&.org>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Aurelien Foret <aurelien@archlinux\&.org>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Aaron Griffin <aaron@archlinux\&.org>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Dan McGee <dan@archlinux\&.org>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Xavier Chantry <shiningxc@gmail\&.com>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Nagy Gabor <ngaba@bibl\&.u\-szeged\&.hu>
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
Dave Reisner <dreisner@archlinux\&.org>
.RE
.sp
对于其他贡献者，请在 pacman\&.git 库 \& 上使用 git shortlog \-s。
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
