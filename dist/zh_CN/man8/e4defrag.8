.\" -*- coding: UTF-8 -*-
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH E4DEFRAG 8 "May 2009" "e4defrag version 2.0" 
.SH NAME
e4defrag\-ext4 文件系统在线碎片整理程序
.SH SYNOPSIS
\fBe4defrag\fP [ \fB\-c\fP ] [ \fB\-v\fP ] \fItarget\fP \& ...
.SH DESCRIPTION
\fBe4defrag\fP 减少了基于扩展的文件的碎片。\fBe4defrag\fP 的目标文件是在使用 "\-O extent" 选项创建的 ext4
文件系统上创建的 (请参见 \fBmke2fs\fP(8)).  目标文件获得更多连续块并提高文件访问速度。
.PP
\fItarget\fP 是一个常规文件、一个目录或一个被挂载为 ext4 文件系统的设备。 如果 \fItarget\fP 是目录，则 \fBe4defrag\fP
会减少其中所有文件的碎片。如果 \fItarget\fP 是一个设备，\fBe4defrag\fP 获取它的挂载点并减少这个挂载点中所有文件的碎片。
.SH OPTIONS
.TP 
\fB\-c\fP
获取当前碎片数和理想碎片数，并根据它们计算碎片分数。看到这个分数，我们就可以判断是否应该执行 \fBe4defrag\fP 到 \fItarget\fP。 当与
\fB\-v\fP 选项一起使用时，将为每个文件打印当前碎片计数和理想碎片计数。
.IP
此选项还输出一个范围内的平均数据大小。如果您看到它，您会发现该文件是否具有理想的范围。请注意，ext4 文件系统中的最大扩展区大小为 131072KB
(如果块大小为 4KB)。
.IP
如果指定此选项，则永远不会对 \fItarget\fP 进行碎片整理。
.TP 
\fB\-v\fP
打印每个文件碎片整理前后的错误消息和碎片计数。
.SH NOTES
\fBe4defrag\fP 不支持交换文件、lost+found 目录中的文件和间接块中分配的文件。当 \fItarget\fP
是一个设备或挂载点时，\fBe4defrag\fP 不对其他设备挂载点中的文件进行碎片整理。
.PP
当文件正被另一个应用程序使用时，对文件运行 e4defrag 是安全的。
由于文件块的内容是使用页面缓存复制的，因此由于对系统内存和磁盘带宽的争用，这可能会导致 e4defrag 和应用程序的性能下降。
.PP
如果文件系统的可用空间碎片化，或者没有足够的可用空间，e4defrag 可能无法改善文件的碎片化。
.PP
非特权用户可以对自己的文件执行 \fBe4defrag\fP，但如果指定了 \fB\-c\fP 选项，则不会打印分数。因此，最好由 root 用户执行。
.SH AUTHOR
由 Akira Fujita <a\-fujita@rs.jp.nec.com> 和 Takashi Sato
<t\-sato@yk.jp.nec.com> 编写。
.SH "SEE ALSO"
\fBmke2fs\fP(8), \fBmount\fP(8).

.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
