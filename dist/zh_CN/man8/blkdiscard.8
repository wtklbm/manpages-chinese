.\" -*- coding: UTF-8 -*-
'\" t
.\"     Title: blkdiscard
.\"    Author: [see the "AUTHOR(S)" section]
.\" Generator: Asciidoctor 2.0.15
.\"      Date: 2022-05-11
.\"    Manual: System Administration
.\"    Source: util-linux 2.38.1
.\"  Language: English
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH BLKDISCARD 8 2022\-05\-11 "util\-linux 2.38.1" "System Administration"
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de  URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if  \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.SH NAME
blkdiscard \- 丢弃设备上的扇区
.SH SYNOPSIS
.sp
\fBblkdiscard\fP [options] [\fB\-o\fP \fIoffset\fP] [\fB\-l\fP \fIlength\fP] \fIdevice\fP
.SH DESCRIPTION
.sp
\fBblkdiscard\fP 用于丢弃设备扇区。这对于固态驱动程序 (SSDs) 和精简配置存储非常有用。与 \fBfstrim\fP(8)
不同的是，该命令直接在块设备上使用。
.sp
默认情况下，\fBblkdiscard\fP 将丢弃设备上的所有块。选项可用于根据范围或大小修改此行为，如下所述。
.sp
\fIdevice\fP 参数是块设备的路径名。
.sp
\fBWARNING: All data in the discarded region on the device will be lost!\fP
.SH OPTIONS
.sp
\fIoffset\fP 和 \fIlength\fP 参数后面可以跟乘数后缀 KiB (=1024), MiB (=1024*1024), 等等 GiB,
TiB, PiB, EiB, ZiB 和 YiB ("iB" 是可选的，例如，"K" 与 "KiB" 具有相同的含义) 或 GB、TB、PB、EB、ZB
和 YB 的后缀 KB (=1000)、MB (=1000*1000) 等等。
.sp
\fB\-f\fP, \fB\-\-force\fP
.RS 4
禁用所有检查。由于 v2.36，块设备默认以独占模式 (\fBO_EXCL\fP)
打开，以避免与挂载的文件系统或另一个内核子系统发生冲突。\fB\-\-force\fP 选项禁用独占访问模式。
.RE
.sp
\fB\-o\fP, \fB\-\-offset\fP \fIoffset\fP
.RS 4
开始丢弃的设备中的字节偏移量。提供的值必须与设备扇区大小对齐。默认值为零。
.RE
.sp
\fB\-l\fP, \fB\-\-length\fP \fIlength\fP
.RS 4
要丢弃的字节数 (从起点开始计算)。提供的值必须与设备扇区大小对齐。如果指定值超出设备末尾，\fBblkdiscard\fP
将停在设备大小边界处。默认值延伸到设备的末尾。
.RE
.sp
\fB\-p\fP, \fB\-\-step\fP \fIlength\fP
.RS 4
一次迭代中要丢弃的字节数。默认是通过一个 ioctl 调用全部丢弃。
.RE
.sp
\fB\-s\fP, \fB\-\-secure\fP
.RS 4
执行安全丢弃。安全丢弃与常规丢弃相同，除了可能由垃圾集合创建的丢弃块的所有副本也必须是 erased。这需要设备的支持。
.RE
.sp
\fB\-z\fP, \fB\-\-zeroout\fP
.RS 4
填零而不是丢弃。
.RE
.sp
\fB\-v\fP, \fB\-\-verbose\fP
.RS 4
显示对齐的 \fIoffset\fP 和 \fIlength\fP 值。如果指定了 \fB\-\-step\fP 选项，它会每秒打印一次丢弃进度。
.RE
.sp
\fB\-h\fP, \fB\-\-help\fP
.RS 4
显示帮助文本并退出。
.RE
.sp
\fB\-V\fP, \fB\-\-version\fP
.RS 4
打印版本并退出。
.RE
.SH AUTHORS
.sp
.MTO lczerner\(atredhat.com "Lukas Czerner" ""
.SH "SEE ALSO"
.sp
\fBfstrim\fP(8)
.SH "REPORTING BUGS"
.sp
对于错误报告，请使用问题跟踪器
.URL https://github.com/util\-linux/util\-linux/issues "" .
.SH AVAILABILITY
.sp
\fBblkdiscard\fP 命令是 util\-linux 包的一部分，可以从
.URL https://www.kernel.org/pub/linux/utils/util\-linux/ "Linux Kernel Archive" .
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
