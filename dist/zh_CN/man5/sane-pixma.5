.\" -*- coding: UTF-8 -*-
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH sane\-pixma 5 "15 Aug 2020" "" "SANE Scanner Access Now Easy"
.IX sane\-pixma
.SH NAME
sane\-pixma \- 佳能多功能打印机和 CanoScan 扫描仪的 SANE 后端
.SH DESCRIPTION
\fBsane\-pixma\fP 库实现了一个 SANE (现在轻松访问扫描仪) 后端，可以访问 Canon PIXMA/imageRUNNER 多函数设备
(一体化打印机) 和 Canon CanoScan Flatbed/TPU 扫描仪。 后端实现 USB 接口和网络接口 (使用 Canon 的 BJNP
和 MFNP 协议)。网络接口支持 IPv4 和 IPv6 上的扫描仪 (IPv6 上的 MFNP 未经测试)。
.PP
目前，以下模型适用于此后端:


.PP
.RS
PIXMA E410, E510, E4500
.br
PIXMA G600, G2000, G2010, G2100, G4000, G4511
.br
PIXMA GX6000, GX7000
.br
PIXMA MG2100, MG2200, MG2400, MG2500, MG2900, MG3000, MG3100
.br
PIXMA MG3200, MG3500, MG3600, MG4200, MG5100, MG5200, MG5300
.br
PIXMA MG5400, MG5500, MG5600, MG5700, MG6100, MG6200, MG6300
.br
PIXMA MG6400, MG7100, MG7500, MG7700, MG8200
.br
PIXMA MP140, MP150, MP160, MP170, MP180, MP190
.br
PIXMA MP210, MP220, MP230, MP240, MP250, MP260, MP270, MP280
.br
PIXMA MP360, MP370, MP390
.br
PIXMA MP450, MP460, MP470, MP480, MP490, MP495
.br
PIXMA MP500, MP510, MP520, MP530, MP540, MP550, MP560
.br
PIXMA MP600, MP600R, MP610, MP620, MP630, MP640
.br
PIXMA MP700, MP710, MP730, PIXMA MP750 (no grayscale)
.br
PIXMA MP800, MP800R, MP810, MP830
.br
PIXMA MP960, MP970, MP980, MP990
.br
PIXMA MX300, MX310, MX330, MX340, MX350, MX360, MX370
.br
PIXMA MX410, MX420, MX470, MX510, MX520, MX530, MX700, MX720
.br
PIXMA MX850, MX860, MX870, MX882, MX885, MX890, MX920, MX7600
.br
PIXMA TR4500, TR4600, TR4700
.br
PIXMA TS2400, TS2600, TS3100, TS3300, TS3450, TS3451, TS3452
.br
PIXMA TS3500, TS5000, TS5100, TS5350i, TS5400, TS6100, TS6200
.br
PIXMA TS7530, TS7450i ,TS8000, TS8530, TS8200
.br
PIXUS MP10
.br
imageCLASS MF634Cdw, MF733Cdw
.br
imageCLASS MF3110, MF3240, MF4010, MF4018
.br
imageCLASS MF4120, MF4122, MF4140, MF4150
.br
imageCLASS MF4270, MF4350d, MF4370dn, MF4380dn
.br
imageCLASS MF4410, MF4430, MF4570dw, MF4660, MF4690
.br
imageCLASS MF5730, MF5770, MF6550, MPC200
.br
imageCLASS D420, D480, D530, D570
.br
i\-SENSYS MF210, MF230, MF240, MF440, MF620, MF630, MF640
.br
i\-SENSYS MF645C, MF730, MF731/733, MF741/743
.br
i\-SENSYS MF3010, MF4320d, MF4330d, MF4500, MF4700, MF4800
.br
i\-SENSYS MF6100, MF8030, MF8200C, MF8300
.br
imageRUNNER 1018/1022/1023, 1020/1024/1025, 1133
.br
CanoScan 8800F, 9000F, 9000F Mark II
.br
CanoScan LiDE 300, 400
.br
MAXIFY MB2000, MB2100, MB2300, MB2700, MB5000, MB5100, MB5400
.RE
.PP
以下型号未经过充分测试或者扫描仪有时会挂起，必须关闭再打开。
.PP
.RS
PIXMA MP760, MP770, MP780, MP790
.RE
.PP
以下模型可能使用与上面列出的相同的 Pixma 协议，但尚未报告工作 (或不工作)。它们在后端声明，以便它们被识别和激活。 欢迎在 sane\-devel
邮件列表中提供反馈。
.PP
.RS
PIXMA E400, E460, E470, E480, E500, E560, E600, E610
.br
PIXMA E3100, E3300, E3400, E4200
.br
PIXMA G2020, G2060, G3020, G3060, G7000, G7080
.br
PIXMA MG4100, MG6500, MG6600, MG6800, MG6900, MG8100
.br
PIXMA MP375R, MP493, MP740
.br
PIXMA MX320, MX390, MX430, MX450, MX490, MX710
.br
PIXMA G3000, G3010, G4010, G6000, G6080, G7000, GM4000, GM4080
.br
PIXMA TR7500, TR7530, TR7600, TR8500, TR8530, TR8580, TR8600
.br
PIXMA TR8630, TR9530
.br
PIXMA TS3400, TS5100, TS6000, TS6130, TS6180, TS6230, TS6280, TS6300
.br
PIXMA TS6330, TS6330, TS6380, TS6400, TS7330, TS7400, TS7430, TS8100
.br
PIXMA TS8130, TS8180, TS8230, TS8280, TS8300, TS8330, TS8380, TS9000
.br
PIXMA TS9100, TS9180, TS9500, TS9580
.br
PIXUS MP5, XK50, XK60, XK70, XK80, XK90, XK100, XK500
.br
imageCLASS MF720, MF810/820, MF5630, MF5650, MF5750, MF8170c
.br
imageCLASS MPC190, D550
.br
i\-SENSYS MF110, MF220, MF260, MF410, MF420, MF510, MF520, MF740
.br
i\-SENSYS MF5880dn, MF5900, MF6680dn, MF8500C
.br
最大化 MB5300
.RE
.PP
以下模型可能使用与上面列出的其他设备部分相同的 Pixma 协议，但可能仍需要一些工作。它们在后端被声明为实验性的，需要环境变量
PIXMA_EXPERIMENT=1 才能被识别和激活。需要进一步调查 Snoop 日志，请联系 sane\-devel 邮件列表。
.PP
.RS
\-\- none \-\-
.RE
.PP
后台支持:
.PP
.RS
* 75、150、300、600、1200、2400、4800 和 9600 DPI 的分辨率 (有些可能是 buggy)，
.br
* 颜色和灰度模式，以及某些型号的线稿，
.br
* 自定义伽玛表，
.br
* 自动文档进纸器，单面和双面。
.br
* 透明元，24 或 48 位深度。某些型号的红外通道。
.RE
.PP
USB 设备的设备名称格式为 pixma:xxxxyyyy_zzzzz，其中 x、y 和 z 分别是供应商 ID、产品 ID 和序列号。
.PP
示例: pixma:04A91709_123456 是 MP150。
.PP
BJNP/MFNP 设备的设备名称采用 pixma:aaaa_bbbbb 形式，其中 aaaa 是扫描仪型号，bbbb 是主机名或 ip 地址。
.PP
示例: pixma:MF4800_192.168.1.45 是 MF4800 系列的多频外设。
.PP
这个基于克隆原始佳能驱动程序协议的后端正处于生产阶段。设计是在没有任何适用的制造商文件的情况下进行的，可能永远不会提供。但是，我们已经尽我们所能对其进行了测试，但它可能并非在所有情况下都有效。您将在项目主页上找到最新状态。(见下文)。
用户反馈对于帮助改进特性和性能至关重要。
.SH OPTIONS
除了 "well\-known" 选项 (例如分辨率、模式等)，\fBsane\-pixma\fP 后端还提供以下选项，即这些选项可能会在 future
中发生变化。
.br
可以轮询按钮状态，即使用 \fIscanimage \-A.\fP
.br
由于 darwin libusb 不处理 usb 中断读取中的超时，因此在 MAC OS X 上禁用按钮扫描，但在使用网络协议时可能会工作。
.TP 
\fIadf\-wait\fP
此选项启用并设置等待文档插入 \fBAutomatic\fP \fBDocument\fP \fBFeeder\fP 的时间 (以秒为单位)。 允许的最长等待时间为
3600 秒 (=1 小时)。
.TP 
\fIbutton\-controlled\fP
此选项可由应用程序 (如批处理模式下的 \fBscanadf\fP(1) 和 \fBscanimage\fP(1)))
使用，例如，当您要扫描多张照片或多页文档时。如果启用 (即设置为 true 或 yes)，后端会在每次扫描前等待，直到用户按下 "SCAN" 按钮
(对于 MP150) 或彩色扫描按钮
(对于其他型号)。只需将第一页放入扫描仪，按下按钮，然后是下一页，按下按钮，依此类推。完成后，按灰度扫描按钮。(例如，对于 MP150，您必须通过按
Ctrl\-C 来停止前端。)
.TP 
\fIbutton\-update (deprecated)\fP
(只写) 过去需要设置此选项以强制读取 \fIbutton\-1\fP 和 \fIbutton\-2.\fP 的按钮状态 \fBsane\-pixma\fP
后端不再需要使用此选项: 如果没有可用的新数据，现在将自动请求从扫描仪。出于向后兼容的原因，保留此选项。
.TP 
\fIbutton\-1 button\-2\fP
(只读) 这些选项将返回相应按钮的值。 值 0 表示未按下按钮，按下按钮时返回 1。一些带有两个以上按钮的扫描仪发送按钮编号作为目标。
.TP 
\fIoriginal\fP
(只读) 如果扫描仪提供该数据，则返回要扫描的原件类型或尺寸的值。类型的已知值: 1 = 文档，2 = 照片，5 = 电影。已知尺寸值: 1=
A4，2=Letter，8=10x15，9=13x18，b=auto。 并非所有扫描仪都可以提供此数据。
.TP 
\fItarget\fP
(只读) 如果扫描器提供该数据，则返回扫描操作目标的值。这些值取决于扫描仪类型。已知值: 1 = 保存到磁盘，2 = 保存为 pdf，3 =
发送到电子邮件，4 = 发送到应用程序或 1=JPEG，2=TIFF，3=PDF，4 = 压缩
PDF。对于某些扫描仪，此值等于按下的按钮的编号。并非所有扫描仪都可以提供此数据。
.TP 
\fIscan\-resolution\fP
(只读) 如果扫描仪提供该数据，则返回扫描操作的分辨率。已知值: 1=75 dpi，2=150 dpi，3=300 dpi，4=600
dpi。并非所有扫描仪都可以提供此数据。
.TP 
\fIdocument\-type\fP
(只读) 如果扫描仪提供该数据，则返回扫描文档的类型。已知值: 1 = 文档，2 = 照片，3 = 自动扫描。并非所有扫描仪都可以提供此数据。
.TP 
\fIadf\-status\fP
(只读) 如果扫描仪提供该数据，则返回文档进纸器的状态。已知值: 1=ADF 空，2=ADF 满。并非所有扫描仪都可以提供此数据。
.TP 
\fIadf\-orientation\fP
(只读) 如果扫描仪提供该数据，则返回从 ADF 扫描的介质的扫描方向。已知值: 1 = 肖像，2 = 风景。并非所有扫描仪都可以提供此数据。
.SH FILES
.TP 
\fI/usr/lib/sane/libsane\-pixma.a\fP
实现此后端的静态库。
.TP 
\fI/usr/lib/sane/libsane\-pixma.so\fP
实现此后端的共享库 (存在于支持动态加载的系统上)。
.TP 
\fI/etc/sane.d/pixma.conf\fP
后端配置文件 (另见下面对 \fBSANE_CONFIG_DIR\fP 的描述)。
.RS
.PP
该文件包含使用 BJNP 或 MFNP protools 的网络扫描仪的可选列表
(有关扫描仪网络支持的数据，请参见下文)。通常只应在此处列出因位于不同子网上而无法自动检测到的扫描仪。如果您不使用 Linux
并且您的操作系统不允许接口枚举 (即它不支持 \fBgetifaddrs\fP() qfunction)，您也可能需要在此处添加您的扫描仪。
.PP
扫描仪应在配置文件中列出如下:
.PP
.RS
\fI<method>://<host>[:port][/timeout=<value>]\fP
.RE
.PP
其中 method 表示使用的协议 (bjnp 用于喷墨多功能，mfnp 用于激光多功能)。
.PP
host 是扫描仪的主机名或 IP 地址，例如 bjnp://10.0.1.4 对于
IPv4，bjnp://[2001:888:118e:18e2:21e:8fff:fe36:b64a] 对于字面量 IPv6 地址或
bjnp://myscanner.mydomain.org 作为主机名。
.PP
端口号是可选的，通常由方法隐含。 端口 8610 是 mfnp 的标准端口，8612 是 bjnp 的标准端口。
.PP
可以使用 bjnp\-timeout 参数设置网络协议的扫描器特定超时值。该值以毫秒为单位。
.PP
在新行中定义每个扫描仪。
.PP
可以使用 bjnp\-timeout 参数设置更多全局适用的超时，如下所示:
.PP
.RS
\fIbjnp\-timeout=<value>\fP
.RE
.PP
使用 bjnp\-timeout 定义的超时将应用于文件中的以下扫描器定义。如果需要，可以多次定义 bjnp\-timeout
设置，其中每个设置将仅应用于遵循该设置的扫描仪。最后一个设置用于自动发现的扫描仪。 如果未明确设置，将应用默认的 1000 毫秒设置。
.PP
只有在特殊情况下才需要设置超时。
.PP
.RE
.PP
如果需要，可以按如下方式禁用网络:
.RS
.IP \-
如果第一个非注释行包含 \fBnetworking=no\fP，所有网络都将被禁用。 这将导致配置文件中所有进一步的语句被忽略。
.IP \-
包含 \fBauto_detection=no\fP 的行将导致跳过自动检测。仍然会探测明确定义的网络扫描器。
.SH "USB SUPPORT"
USB 扫描仪将被自动检测，无需配置。
.SH "NETWORKING SUPPORT"
\fBsane\-pixma\fP 后端支持使用所谓的 Canon BJNP 和 MFNP 协议的网络扫描仪。
.PP
佳能似乎放弃了在最近的扫描仪中对这些协议的支持。 要验证您的扫描仪是否支持这些协议之一，请检查 mDNS/DNS\-SD 中 _scanner._tcp
服务条目的内容 (例如使用 \fBavahi\-discover\fP(1)).  如果没有列出端口 8610 或 8612，则您的扫描仪可能不支持 mfmp
或 bjnp 协议。
.PP
IPv4 和 IPv6 均受支持，但 IPv6 尚未使用 MFNP 进行测试。请在邮件列表中报告您的结果。
.PP
通常不需要配置。 如果您的操作系统支持，\fBsane\-pixma\fP 后端将自动检测您的扫描仪是否与您的计算机位于同一子网中。
.PP
如果您的扫描仪无法被自动检测到，您可以将其添加到 \fBsane\-pixma\fP 配置文件中 (见上文)。
.SH "FIREWALLING FOR NETWORKED SCANNERS"
\fBsane\-pixma\fP 后端与扫描器上的 MFNP 端口 8610 或 BJNP 端口 8612 通信。因此，您必须允许传出流量到公共子网上的端口
8610 或 8612 以进行扫描。
.PP
扫描仪检测稍微复杂一些。\fBsane\-pixma\fP 后端在它能找到的所有直接连接的子网上发送广播
(前提是您的操作系统允许枚举所有网络接口)。广播从每个接口的广播地址上的端口 8612 发送到端口 8610 或 8612。 上述规则将允许传出数据包。
.PP
来自扫描仪的响应被发送回计算机的 TO 端口 8612。 然而，连接跟踪看不到匹配项，因为响应不是来自广播地址，而是来自扫描器自己的地址。
因此，为了自动检测您的扫描仪，您必须允许传入的数据包到达您计算机上的端口 8612。这适用于 MFNP 和 BJNP。
.PP
简而言之: 为从您的计算机到端口 8610 (对于 MFNP) 或 8612 (对于 BJNP) 和端口 8612 (对于 BJNP 和 MFNP)
到您的计算机的所有流量打开防火墙。
.PP
使用上述防火墙规则，无需将扫描仪添加到 \fIpixma.conf\fP 文件，除非扫描仪所在的网络未直接连接到您的计算机。
.SH ENVIRONMENT
.TP 
\fBSANE_DEBUG_PIXMA\fP
如果库是在启用调试支持的情况下编译的，则此环境变量控制此后端本身的调试级别。较高的值会增加冗长程度并包括在较低级别打印的信息。
.RS
0 什么都不打印 (default)
.br
1 打印错误和警告信息 (recommended)
.br
2 打印信息性消息
.br
3 打印调试级信息
.br
4 打印详细的调试级消息
.br
11 转储 USB 流量
.br
21 完全转储 USB 流量
.br
.RE
.TP 
\fBSANE_DEBUG_BJNP\fP
如果库是在启用调试支持的情况下编译的，则此环境变量控制此后端的 \fBBJNP and MFNP\fP
网络协议的调试级别。较高的值会增加冗长程度并包括在较低级别打印的信息。
.RS
0 什么都不打印 (default)
.br
1 打印错误和警告信息 (recommended)
.br
2 打印高级函数跟踪信息
.br
3 打印更详细的协议跟踪信息
.br
4 打印协议头
.br
5 打印完整的协议内容
.RE
.TP 
\fBPIXMA_EXPERIMENT\fP
设置为非零值将启用对实验模型的支持。 您还应该将 SANE_DEBUG_PIXMA 设置为 11。
.TP 
\fBSANE_CONFIG_DIR\fP
此环境变量指定可能包含配置文件的目录列表。 在 *NIX 系统上，目录由冒号 (`:') 分隔，在 OS/2 下，目录由分号 (`;') 分隔。
如果未设置此变量，则在两个默认目录中搜索配置文件: 首先是当前工作目录 (".")，然后是 \fI/etc/sane.d\fP。
如果环境变量的值以目录分隔符结尾，则在明确指定的目录之后搜索默认目录。 例如，将 \fBSANE_CONFIG_DIR\fP 设置为
"/tmp/config:" 将导致搜索目录 \fItmp/config\fP、\fI.\fP 和 \fI/etc/sane.d\fP (按此顺序)。
.SH "SEE ALSO"
\fBsane\fP(7), \fBsane\-dll\fP(5), \fBscanimage\fP(1), \fBscanadf\fP(1),
\fBgamma4scanimage\fP(1), \fBgetifaddrs\fP(3)
.PP
如果最近的 Pixma 模型出现问题，请尝试 \fBsane\-pixma\fP 后端的最新代码，该代码位于 Sane git 库中:
.br
\fIhttps://gitlab.com/sane\-project/backends.git\fP
.PP
您还可以在 Sane\-devel 邮件列表中发帖寻求支持。

.SH AUTHORS
Wittawat Yamwong, Nicolas Martin, Dennis Lou, Louis Lagendijk, Rolf Bensch
.PP
我们要感谢所有测试人员和帮助者。没有它们，我们就无法为我们没有的模型编写子驱动程序。另请参见项目主页。
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
