.\" -*- coding: UTF-8 -*-
.de  EX		\"Begin example
.ne 5
.if n .sp 1
.if t .sp .5
.nf
.in +.5i
..
.\" Copyright (c) 1987, 2010, Oracle and/or its affiliates. All rights reserved.
.\"
.\" Permission is hereby granted, free of charge, to any person obtaining a
.\" copy of this software and associated documentation files (the "Software"),
.\" to deal in the Software without restriction, including without limitation
.\" the rights to use, copy, modify, merge, publish, distribute, sublicense,
.\" and/or sell copies of the Software, and to permit persons to whom the
.\" Software is furnished to do so, subject to the following conditions:
.\"
.\" The above copyright notice and this permission notice (including the next
.\" paragraph) shall be included in all copies or substantial portions of the
.\" Software.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
.\" IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
.\" FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
.\" THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
.\" LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
.\" FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
.\" DEALINGS IN THE SOFTWARE.
.\"
.\" Copyright 1988, 1989, 1990, 1998  The Open Group
.\" Permission to use, copy, modify, distribute, and sell this software and its
.\" documentation for any purpose is hereby granted without fee, provided that
.\" the above copyright notice appear in all copies and that both that
.\" copyright notice and this permission notice appear in supporting
.\" documentation.
.\" The above copyright notice and this permission notice shall be included
.\" in all copies or substantial portions of the Software.
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
.\" OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
.\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
.\" IN NO EVENT SHALL THE OPEN GROUP BE LIABLE FOR ANY CLAIM, DAMAGES OR
.\" OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
.\" ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
.\" OTHER DEALINGS IN THE SOFTWARE.
.\" Except as contained in this notice, the name of The Open Group shall
.\" not be used in advertising or otherwise to promote the sale, use or
.\" other dealings in this Software without prior written authorization
.\" from The Open Group.
.de  EE
.fi
.in -.5i
.if n .sp 1
.if t .sp .5
..
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH XMODMAP 1 "xmodmap 1.0.11" "X Version 11" 
.SH NAME
xmodmap \- 用于在 X 中修改键盘映射和指针按钮映射的实用程序
.SH SYNOPSIS
\fBxmodmap\fP [\-options ...] [filename]
.SH DESCRIPTION
.PP
\fIxmodmap\fP 程序用于编辑和显示键盘 \fImodifier map\fP 和 \fIkeymap table\fP，客户端应用程序使用这些键盘将事件键码转换为键符号。 它通常从用户的会话启动脚本运行，以根据个人喜好配置键盘。
.SH OPTIONS
.PP
以下选项可与 \fIxmodmap\fP: 一起使用
.TP  8
\fB\-display \fP\fIdisplay\fP
此选项指定要使用的主机和显示器。
.TP  8
\fB\-help\fP
该选项表示在标准错误通道上打印命令行参数的简要说明。 只要将未处理的参数提供给 \fIxmodmap.\fP，就会执行此操作
.TP  8
\fB\-grammar\fP
此选项指示应在标准错误上打印描述文件中使用的表达式语法和 \-e 表达式的帮助消息。
.TP  8
\fB\-version\fP
此选项表示 \fIxmodmap\fP 应打印其版本信息并退出。
.TP  8
\fB\-verbose\fP
此选项指示 \fIxmodmap\fP 在解析其输入时应打印日志记录信息。
.TP  8
\fB\-quiet\fP
此选项关闭详细日志记录。 这是默认设置。
.TP  8
\fB\-n\fP
此选项指示 \fIxmodmap\fP 不应更改映射，但应显示其将执行的操作，就像给定此选项时 \fImake(1)\fP 所做的那样。
.TP  8
\fB\-e \fP\fIexpression\fP
此选项指定要执行的表达式。 可以从命令行指定任意数量的表达式。
.TP  8
\fB\-pm\fP
此选项表示当前修饰符 map 应打印在标准输出上。 如果未指定其他模式选项，则这是默认操作模式。
.TP  8
\fB\-pk\fP
该选项表示当前的键盘映射表应该打印在标准输出上。
.TP  8
\fB\-pke\fP
该选项表示当前的键映射表应该以可以反馈给 \fIxmodmap\fP 的表达式的形式打印在标准输出上。
.TP  8
\fB\-pp\fP
此选项表示当前指针 map 应打印在标准输出上。
.TP  8
\fB\-\fP
单破折号表示标准输入应该用作输入文件。
.PP
\fIfilename\fP 指定包含要执行的 \fIxmodmap\fP 表达式的文件。 该文件通常保存在用户的主目录中，名称如 \fI.xmodmaprc\fP。
.SH "EXPRESSION GRAMMAR"
.PP
\fIxmodmap\fP 程序读取表达式列表并在尝试执行其中任何一个之前解析它们。 这使得可以引用以自然方式重新定义的键符，而不必担心名称冲突。
.PP
keysym 名称列表可以在头文件 \fI<X11/keysymdef.h>\fP (没有 \fIXK_\fP 前缀) 中找到。 对于所有可能的
Unicode 字符，匹配 Unicode 字符的键符可以指定为 "U0020" 到 "U007E" 和 "U00A0" 到 "U10FFFF"。
.TP  8
\fBkeycode \fP\fINUMBER\fP\fB = \fP\fIKEYSYMNAME ...\fP
keysyms 列表被分配给指示的键码 (可以十进制、十六进制或八进制指定，并且可以通过运行 \fIxev\fP 程序来确定)。
最多可以将八个键符附加到一个键上，但是最后四个键符在任何主要的 X 服务器实现中都不使用。 当没有修饰键与此键一起按下时使用第一个键符，第二个键符与
Shift 键一起使用，第三个键符在 Mode_switch 键与此键一起使用时使用，第四个键符在同时使用 Mode_switch 键和 Shift
键时使用。
.TP  8
\fBkeycode any = \fP\fIKEYSYMNAME ...\fP
如果现有键没有指定的键符号列表分配给它，则选择键盘上的备用键并为其分配键符号。 keysyms 列表可以用十进制、十六进制或八进制指定。
.TP  8
\fBkeysym \fP\fIKEYSYMNAME\fP\fB = \fP\fIKEYSYMNAME ...\fP
左侧的 \fIKEYSYMNAME\fP 被翻译成匹配的键码，用于执行相应的 \fBkeycode\fP 表达式集。
请注意，如果相同的键符绑定到多个键，则将为每个匹配的键码执行表达式。
.TP  8
\fBclear \fP\fIMODIFIERNAME\fP
这将删除给定修饰符的修饰符 map 中的所有条目，其中有效名称为:
\fBShift\fP、\fBLock\fP、\fBControl\fP、\fBMod1\fP、\fBMod2\fP、\fBMod3\fP、\fBMod4\fP 和 \fBMod5\fP
(修饰符名称中的大小写无关紧要，尽管它对所有其他修饰符很重要名)。 例如，`clear Lock` 将删除所有绑定到 shift lock 修饰符的键。
.TP  8
\fBadd \fP\fIMODIFIERNAME\fP\fB = \fP\fIKEYSYMNAME ...\fP
这会将包含给定键符号的所有键添加到指示的修饰符 map。 keysym 名称在读取所有输入表达式后进行评估，以便轻松编写表达式来交换键
(请参见示例部分)。
.TP  8
\fBremove \fP\fIMODIFIERNAME\fP\fB = \fP\fIKEYSYMNAME ...\fP
这将从指示的修饰符 map 中删除所有包含给定键符的键。 与 \fBadd,\fP 不同，keysym 名称在读入该行时进行评估。
这使您可以从修饰符中删除键，而不必担心它们是否已被重新分配。
.TP  8
\fBpointer = default\fP
这会将指针 map 设置回其默认设置 (按钮 1 生成代码 1，按钮 2 生成代码 2，等等)。
.TP  8
\fBpointer = \fP\fINUMBER ...\fP
这会将指针 map 设置为包含指示的按钮代码。 该列表始终从第一个物理按钮开始。 将按钮代码设置为 0 会禁用来自该按钮的事件。
.PP
以感叹号 (!) 开头的行被视为注释。
.PP
如果要更改修改键的绑定，还必须将其从相应的修改键 map 中删除。
.SH EXAMPLES
.PP
许多指针被设计成使用右手的食指按下第一个按钮。 惯用左手的人经常发现将生成的按钮代码反转以便使用左手的食指按下主按钮会更舒服。 这可以在 3
按钮指针上完成，如下所示:
.EX
%  xmodmap \-e "pointer = 3 2 1"
.EE
.PP
许多应用程序支持 Meta 键的概念 (类似于 Control 键，只是按下的是 Meta 而不是 Control)。
但是，有些服务器在默认键映射表中没有 Meta keysym，因此需要手动添加一个。 以下命令将元附加到多语言键 (有时标记为撰写字符)。
它还利用了这样一个事实，即需要元密钥的应用程序只需要获取密钥代码，而不需要密钥符号位于密钥映射表的第一列中。 这意味着正在寻找 Multi_key
(包括默认修饰符 map) 的应用程序不会注意到任何变化。
.EX
%  xmodmap \-e "keysym Multi_key = Multi_key Meta_L"
.EE
.PP
同样，某些键盘有 Alt 键但没有 Meta 键。 在这种情况下，以下内容可能会有用:
.EX
%  xmodmap \-e "keysym Alt_L = Meta_L Alt_L"
.EE
.PP
\fIxmodmap\fP 的一种更简单但方便的用途是设置键盘的 "rubout" 键以生成备用键符。 这通常涉及将 Backspace 与 Delete
进行交换以使用户更舒适。 如果 \fIxterm\fP 中的 \fIttyModes\fP 资源也被设置，所有终端模拟器 windows 将使用相同的密钥擦除字符:
.EX
%  xmodmap \-e "keysym BackSpace = Delete"
% 回声 "XTerm*ttyModes: erase ^?" |xrdb \-merge
.EE
.PP
移动逗号和句点键时，某些键盘不会自动生成小于号和大于号的字符。 这可以通过使用以下脚本重置逗号和句点的绑定来使用 \fIxmodmap\fP 进行补救:
.EX
!
! make shift\-, 为 < 和 shift\-。是 >
!
keysym 逗号 = 少逗号
keysym period=period 更大
.EE
.PP
键盘之间最令人恼火的差异之一是 Control 和 CapsLock 键的位置。 \fIxmodmap\fP 的一个常见用途是交换这两个密钥，如下所示:
.EX
!
! 交换 Caps_Lock 和 Control_L
!
删除 Lock=Caps_Lock
删除控件 = Control_L
键盘符号 Control_L=Caps_Lock
键盘符号 Caps_Lock=Control_L
添加 Lock=Caps_Lock
添加控件 = Control_L
.EE
.PP
可以再次运行此示例以将密钥交换回它们之前的分配。
.PP
\fIkeycode\fP 命令可用于将相同的键符号分配给多个键码。 虽然不可移植，但它也使得编写可以将键盘重置为已知状态的脚本成为可能。
以下脚本设置退格键生成 Delete (如上所示)，刷新所有现有的大写锁定绑定，使 CapsLock 键成为控制键，使 F5 生成 Escape，并使
Break/Reset 成为移位锁。
.EX
!
! 在 HP 上，以下键码具有所列的键帽:
!
! 101 退格键
! 55 粒
! 14 控制键
!      15  Break/Reset
! 86 停止
!      89  F5
!
键码 101 = 删除
键码 55=Control_R
清除锁定
添加控件 = Control_R
键码 89 = 退出
键码 15=Caps_Lock
添加 Lock=Caps_Lock
.EE
.SH ENVIRONMENT
.PP
.TP  8
\fBDISPLAY\fP
获取默认主机和显示编号。
.SH "SEE ALSO"
关于键和指针事件的 X(7)、xev(1)、setxkbmap(1)、XStringToKeysym(3)、\fIXlib\fP 文档
.SH BUGS
.PP
每次计算 \fBkeycode\fP 表达式时，服务器都会在每个客户端上生成一个 \fIMappingNotify\fP 事件。 这可能会引起一些颠簸。
所有更改都应该一起批处理并立即完成。 接收键盘输入并忽略 \fIMappingNotify\fP 事件的客户端不会注意到对键盘映射所做的任何更改。
.PP
每当更改已绑定到修饰符的键码时，\fIXmodmap\fP 应自动生成 "add" 和 "remove" 表达式。
.PP
应该有一种方法可以让 \fIremove\fP 表达式在您真正弄乱映射的时候接受键码和键符。
.SH AUTHOR
MIT X Consortium 的 Jim Fulton，由 Sun Microsystems 的 David Rosenthal 从早期版本重写。

.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
