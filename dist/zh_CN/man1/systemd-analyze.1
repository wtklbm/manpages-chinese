.\" -*- coding: UTF-8 -*-
'\" t
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH SYSTEMD\-ANALYZE 1 "" "systemd 253" systemd\-analyze
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH NAME
systemd\-analyze \- åˆ†æå’Œè°ƒè¯•ç³»ç»Ÿç®¡ç†å™¨
.SH SYNOPSIS
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] [time]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] blame
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] critical\-chain [\fIUNIT\fP...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] dump [\fIPATTERN\fP...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] plot [>file\&.svg]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] dot [\fIPATTERN\fP...] [>file\&.dot]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] unit\-paths
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] exit\-status [\fISTATUS\fP...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] capability [\fICAPABILITY\fP...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] condition \fICONDITION\fP\& ...
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] syscall\-filter [\fISET\fP\&...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] filesystems [\fISET\fP\&...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] calendar \fISPEC\fP ...
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] timestamp \fITIMESTAMP\fP ...
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] timespan \fISPAN\fP ...
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] cat\-config \fINAME\fP|\fIPATH\fP ...
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] compare\-versions \fIVERSION1\fP [\fIOP\fP]
\fIVERSION2\fP
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] verify [\fIFILE\fP...]
.HP \w'\fBsystemd\-analyze\fR\ 'u
\fBsystemd\-analyze\fP [OPTIONS...] security \fIUNIT\fP ...
.SH DESCRIPTION
.PP
\fBsystemd\-analyze\fP
å¯ç”¨äºç¡®å®šç³»ç»Ÿå¯åŠ¨æ€§èƒ½ç»Ÿè®¡ä¿¡æ¯å¹¶ä»ç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†å™¨ä¸­æ£€ç´¢å…¶ä»–çŠ¶æ€å’Œè·Ÿè¸ªä¿¡æ¯ï¼Œå¹¶éªŒè¯å…ƒæ–‡ä»¶çš„æ­£ç¡®æ€§ã€‚å®ƒè¿˜ç”¨äºè®¿é—®å¯¹é«˜çº§ç³»ç»Ÿç®¡ç†å™¨è°ƒè¯•æœ‰ç”¨çš„ç‰¹æ®Šå‡½æ•° \&ã€‚
.PP
å¦‚æœæ²¡æœ‰ä¼ é€’å‘½ä»¤ï¼Œåˆ™éšå« \fBsystemd\-analyze time\fP\&ã€‚
.SS "systemd\-analyze time"
.PP
æ­¤å‘½ä»¤æ‰“å°åœ¨åˆ°è¾¾ç”¨æˆ·ç©ºé—´ä¹‹å‰åœ¨å†…æ ¸ä¸­èŠ±è´¹çš„æ—¶é—´ï¼Œåœ¨åˆ°è¾¾æ­£å¸¸ç³»ç»Ÿç”¨æˆ·ç©ºé—´ä¹‹å‰åœ¨ initrd ä¸­èŠ±è´¹çš„æ—¶é—´ï¼Œä»¥åŠæ­£å¸¸ç³»ç»Ÿç”¨æˆ·ç©ºé—´åˆå§‹åŒ– \&
æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚è¯·æ³¨æ„ï¼Œè¿™äº›æµ‹é‡åªæ˜¯æµ‹é‡åˆ°æ‰€æœ‰ç³»ç»ŸæœåŠ¡å·²ç”Ÿæˆçš„æ—¶é—´ç‚¹ï¼Œä½†ä¸ä¸€å®šè¦åˆ°å®ƒä»¬å®Œå…¨å®Œæˆåˆå§‹åŒ–æˆ–ç£ç›˜ç©ºé—² \&ã€‚
.PP
\fBExample\ \&1.\ \&Show how long the boot took\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
# åœ¨å®¹å™¨ä¸­
$ systemd \- åˆ†ææ—¶é—´
å¯åŠ¨åœ¨ 296 æ¯«ç§’å†…å®Œæˆ (userspace)
multi\-user\&.target åœ¨ç”¨æˆ·ç©ºé—´ 275 æ¯«ç§’ååˆ°è¾¾

# åœ¨çœŸæœºä¸Š
$ systemd \- åˆ†ææ—¶é—´
å¯åŠ¨å®Œæˆ 2\&.584s (kernel) + 19\&.176s (initrd) + 47\&.847s (userspace) =1min 9\&.608s
multi\-user\&.target åœ¨ç”¨æˆ·ç©ºé—´ä¸­åˆ°è¾¾ 47\&.820s ä¹‹å
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze blame"
.PP
æ­¤å‘½ä»¤æ‰“å°æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å•å…ƒçš„åˆ—è¡¨ï¼ŒæŒ‰å®ƒä»¬åˆå§‹åŒ–çš„æ—¶é—´æ’åº \&ã€‚æ­¤ä¿¡æ¯å¯ç”¨äºä¼˜åŒ–å¯åŠ¨æ—¶é—´
\&ã€‚è¯·æ³¨æ„ï¼Œè¾“å‡ºå¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼ï¼Œå› ä¸ºä¸€é¡¹æœåŠ¡çš„åˆå§‹åŒ–å¯èƒ½å¾ˆæ…¢ï¼Œä»…ä»…æ˜¯å› ä¸ºå®ƒç­‰å¾…å¦ä¸€é¡¹æœåŠ¡çš„åˆå§‹åŒ–å®Œæˆ \&ã€‚å¦è¯·æ³¨æ„:
\fBsystemd\-analyze blame\fP ä¸ä¼š \*(Aqt æ˜¾ç¤ºå¸¦æœ‰ \fIType=simple\fP çš„æœåŠ¡çš„ç»“æœï¼Œå› ä¸º systemd
è®¤ä¸ºæ­¤ç±»æœåŠ¡ä¼šç«‹å³å¯åŠ¨ï¼Œå› æ­¤æ— æ³•æµ‹é‡åˆå§‹åŒ–å»¶è¿Ÿ \&ã€‚å¦è¯·æ³¨æ„ï¼Œæ­¤å‘½ä»¤ä»…æ˜¾ç¤ºå¯åŠ¨æ‰€èŠ±è´¹çš„æ—¶é—´å•ä½ï¼Œè€Œä¸ä¼šæ˜¾ç¤ºå…ƒä½œä¸šåœ¨æ‰§è¡Œé˜Ÿåˆ—ä¸­èŠ±è´¹çš„æ—¶é—´
\&ã€‚ç‰¹åˆ«æ˜¯å®ƒæ˜¾ç¤ºäº†åœ¨ "activating" çŠ¶æ€ä¸‹èŠ±è´¹çš„æ—¶é—´å•ä½ï¼Œè¿™ä¸æ˜¯ä¸ºç›´æ¥ä» "inactive" è½¬æ¢ä¸º `æ´»åŠ¨`\&
çš„è®¾å¤‡å•å…ƒç­‰å•ä½å®šä¹‰çš„ã€‚å› æ­¤ï¼Œè¯¥å‘½ä»¤ç»™å‡ºäº†ç¨‹åºä»£ç æ€§èƒ½çš„å°è±¡ï¼Œä½†ä¸èƒ½å‡†ç¡®åæ˜ ç­‰å¾…ç¡¬ä»¶å’Œç±»ä¼¼äº‹ä»¶å¼•å…¥çš„å»¶è¿Ÿ \&ã€‚
.PP
\fBExample\ \&2.\ \&Show which units took the most time during boot\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd \- åˆ†æè´£å¤‡
         32\&.875s pmlogger\&.service
         20\&.905s systemd\-networkd\-wait\-online\&.service
         13\&.299s dev\-vda1\&.device
         \&.\&.\&.
            23 æ¯«ç§’ sysroot\&.mount
            11 æ¯«ç§’ initrd\-udevadm\-cleanup\-db\&.service
             3 æ¯«ç§’ sys\-kernel\-config\&.mount
        
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze critical\-chain [\fIUNIT\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤æ‰“å°æ—¶é—´å…³é”®å•å…ƒé“¾çš„æ ‘ (å¯¹äºæ¯ä¸ªæŒ‡å®šçš„ \fIUNIT\fPs æˆ–é»˜è®¤ç›®æ ‡) \&ã€‚"@" å­—ç¬¦ \&
åæ‰“å°å…ƒå…ƒæ¿€æ´»æˆ–å¯åŠ¨åçš„æ—¶é—´ã€‚å…ƒå¼€å§‹çš„æ—¶é—´æ‰“å°åœ¨ "+" å­—ç¬¦ \&
ä¹‹åã€‚è¯·æ³¨æ„ï¼Œè¾“å‡ºå¯èƒ½ä¼šäº§ç”Ÿè¯¯å¯¼ï¼Œå› ä¸ºæœåŠ¡çš„åˆå§‹åŒ–å¯èƒ½å–å†³äºå¥—æ¥å­—æ¿€æ´»ä»¥åŠå•å…ƒçš„å¹¶è¡Œæ‰§è¡Œ \&ã€‚æ­¤å¤–ï¼Œç±»ä¼¼äº \fBblame\fP å‘½ä»¤ï¼Œè¿™åªè€ƒè™‘äº†åœ¨
"activating" çŠ¶æ€ä¸‹èŠ±è´¹çš„æ—¶é—´å•ä½ï¼Œå› æ­¤ä¸åŒ…æ‹¬ä»æœªç»å†è¿‡ "activating" çŠ¶æ€çš„å•ä½ (ä¾‹å¦‚ç›´æ¥ä» "inactive" è½¬æ¢åˆ°
"active" çš„è®¾å¤‡å•ä½) \&ã€‚æ­¤å¤–ï¼Œå®ƒä¸æ˜¾ç¤ºæœ‰å…³ä½œä¸šçš„ä¿¡æ¯ (ç‰¹åˆ«æ˜¯ä¸æ˜¾ç¤ºè¶…æ—¶çš„ä½œä¸š) \&ã€‚
.PP
\fBExample\ \&3.\ \&systemd\-analyze critical\-chain\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd \- åˆ†æå…³é”®é“¾
multi\-user\&.target @47\&.820s
â””â”€pmie\&.service @35\&.968s +548ms
  â””â”€pmcd\&.service @33\&.715s +2\&.247s
    â””â”€ç½‘ç»œåœ¨çº¿ \&.target@33\&.712s
      â””â”€systemd\-networkd\-wait\-online\&.service @12\&.804s +20\&.905s
        â””â”€systemd\-networkd\&.service @11\&.109s +1\&.690s
          â””â”€systemd\-udevd\&.service @9\&.201s +1\&.904s
            â””â”€systemd\-tmpfiles\-setup\-dev\&.service @7\&.306s +1\&.776s
              â””â”€kmod\-static\-nodes\&.service @6\&.976s +177ms
                â””â”€systemd\-journald\&.socket
                  â””â”€ç³»ç»Ÿ \&. åˆ‡ç‰‡
                    â””â”€\-\&. åˆ‡ç‰‡
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze dump [\fIpattern\fP\fR\&...]\fP"
.PP
åœ¨æ²¡æœ‰ä»»ä½•å‚æ•°çš„æƒ…å†µä¸‹ï¼Œæ­¤å‘½ä»¤è¾“å‡ºä¸€ä¸ª (é€šå¸¸å¾ˆé•¿) äººç±»å¯è¯»çš„å®Œæ•´æœåŠ¡ç®¡ç†å™¨çŠ¶æ€çš„åºåˆ—åŒ– \&ã€‚å¯ä»¥æŒ‡å®šå¯é€‰çš„ glob
æ¨¡å¼ï¼Œä»è€Œå°†è¾“å‡ºé™åˆ¶ä¸ºåç§°ä¸æ¨¡å¼ä¹‹ä¸€åŒ¹é…çš„å•å…ƒ \&ã€‚è¾“å‡ºæ ¼å¼å¦‚æœ‰æ›´æ”¹ï¼Œæ•ä¸å¦è¡Œé€šçŸ¥ï¼Œå¹¶ä¸”ä¸åº”ç”±åº”ç”¨ç¨‹åºè§£æ \&ã€‚
.PP
\fBExample\ \&4.\ \&Show the internal state of user manager\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze\-\-user è½¬å‚¨
æ—¶é—´æˆ³ç”¨æˆ·ç©ºé—´: å‘¨å›› 2019\-03\-14 23:28:07 CET
æ—¶é—´æˆ³å®Œæˆ: Thu 2019\-03\-14 23:28:07 CET
æ—¶é—´æˆ³ç”Ÿæˆå™¨å¼€å§‹: Thu 2019\-03\-14 23:28:07 CET
æ—¶é—´æˆ³ç”Ÿæˆå™¨ \- å®Œæˆ: Thu 2019\-03\-14 23:28:07 CET
æ—¶é—´æˆ³å•ä½åŠ è½½å¼€å§‹: å‘¨å›› 2019\-03\-14 23:28:07 CET
æ—¶é—´æˆ³å•ä½åŠ è½½å®Œæˆ: å‘¨å›› 2019\-03\-14 23:28:07 CET
\-> å…ƒ proc\-timer_list\&.mount:
        è¯´æ˜: /proc/timer_list
        \&.\&.\&.
\-> å…ƒ default\&.target:
        æè¿°: ä¸»è¦ç”¨æˆ·ç›®æ ‡
\&.\&.\&.
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze plot"
.PP
æ­¤å‘½ä»¤æ‰“å° SVG å›¾å½¢ï¼Œè¯¦ç»†è¯´æ˜å“ªäº›ç³»ç»ŸæœåŠ¡åœ¨ä»€ä¹ˆæ—¶é—´å¯åŠ¨ï¼Œçªå‡ºæ˜¾ç¤ºå®ƒä»¬åœ¨åˆå§‹åŒ–ä¸ŠèŠ±è´¹çš„æ—¶é—´ï¼Œæˆ– JSON æˆ–è¡¨æ ¼æ ¼å¼çš„åŸå§‹æ—¶é—´æ•°æ® \&ã€‚
.PP
\fBExample\ \&5.\ \&Plot a bootchart\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd \- åˆ†æå›¾ >bootup\&.svg
$ eog å¯åŠ¨ \&.svg&
.fi
.if  n \{\
.RE
.\}
.PP
è¯·æ³¨æ„ï¼Œæ­¤å›¾æ˜¯åŸºäºåŠ è½½å•å…ƒçš„æœ€æ–°æ¯å•ä½æ—¶åºæ•°æ® \&ã€‚è¿™æ„å‘³ç€å¦‚æœå…ƒå¼€å§‹ï¼Œç„¶ååœæ­¢ç„¶åå†æ¬¡å¯åŠ¨ï¼Œæ˜¾ç¤ºçš„ä¿¡æ¯å°†æ¶µç›–æœ€è¿‘çš„å¯åŠ¨å‘¨æœŸï¼Œè€Œä¸æ˜¯ç¬¬ä¸€ä¸ª
\&ã€‚å› æ­¤å®ƒ \*(Aqs å»ºè®®ä»…åœ¨å¯åŠ¨åä¸ä¹…æŸ¥é˜…æ­¤ä¿¡æ¯ï¼Œä»¥ä¾¿æ­¤åŒºåˆ«ä¸ \*(Aqt é‡è¦ \&ã€‚æ­¤å¤–ï¼Œæœªé€šè¿‡ä¾èµ–å…³ç³»è¢«ä»»ä½•å…¶ä»–å•å…ƒå¼•ç”¨çš„å•å…ƒä¸€æ—¦ç»ˆæ­¢
(å¹¶ä¸”æ²¡æœ‰å¤±è´¥) \& å¯èƒ½ä¼šè¢«æœåŠ¡ç®¡ç†å™¨å¸è½½ã€‚è¿™æ ·çš„å•ä½ä¸ä¼šå‡ºç°åœ¨å‰§æƒ… \& ä¸­ã€‚
.SS "systemd\-analyze dot [\fIpattern\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤ä»¥ç‚¹æ ¼å¼ç”Ÿæˆæ–‡æœ¬ä¾èµ–å›¾æè¿°ï¼Œä»¥ä¾¿ä½¿ç”¨ GraphViz \fBdot\fP(1) å·¥å…·è¿›è¡Œè¿›ä¸€æ­¥å¤„ç† \&ã€‚ä½¿ç”¨ \fBsystemd\-analyze dot | dot \-Tsvg >systemd\&.svg\fP ä¹‹ç±»çš„å‘½ä»¤è¡Œç”Ÿæˆå›¾å½¢ä¾èµ–æ ‘ \&ã€‚é™¤éä¼ é€’ \fB\-\-order\fP æˆ–
\fB\-\-require\fPï¼Œå¦åˆ™ç”Ÿæˆçš„å›¾å½¢å°†åŒæ—¶æ˜¾ç¤ºæ’åºå’Œéœ€æ±‚ä¾èµ–æ€§ \&ã€‚å¯é€‰çš„æ¨¡å¼ globbing æ ·å¼è§„èŒƒ
(e\&.g\&. *\&.target) å¯ä»¥åœ¨æœ«å°¾ç»™å‡º \&ã€‚å¦‚æœè¿™äº›æ¨¡å¼ä¸­çš„ä»»ä½•ä¸€ä¸ªä¸æºèŠ‚ç‚¹æˆ–ç›®æ ‡èŠ‚ç‚¹ \& åŒ¹é…ï¼Œå›¾å½¢ä¸­å°±ä¼šåŒ…å«ä¸€ä¸ªå…ƒä¾èµ–é¡¹ã€‚
.PP
\fBExample\ \&6.\ \&Plot all dependencies of any unit whose name starts with "avahi\-daemon"\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze dot \*(Aqavahi\-daemon\&.*\*(Aq | dot \-Tsvg >avahi\&.svg
$ eog avahi\&.svg
.fi
.if  n \{\
.RE
.\}
.PP
\fBExample\ \&7.\ \&Plot the dependencies between all known target units\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze dot \-\-to\-pattern=\*(Aq*\&.target\*(Aq \-\-from\-pattern=\*(Aq*\&.target\*(Aq \e
      | ç‚¹ \-Tsvg >targets\&.svg
$ eog targets\&.svg
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze unit\-paths"
.PP
æ­¤å‘½ä»¤è¾“å‡ºæ‰€æœ‰ç›®å½•çš„åˆ—è¡¨ï¼Œä»ä¸­å¯ä»¥åŠ è½½å…ƒæ–‡ä»¶ã€\&.d è¦†ç›–å’Œ \&.wantsã€\&.requires ç¬¦å·é“¾æ¥ \&ã€‚ç»“åˆ \fB\-\-user\fP
æ£€ç´¢ç”¨æˆ·ç®¡ç†å™¨å®ä¾‹åˆ—è¡¨ï¼Œ\fB\-\-global\fP æ£€ç´¢ç”¨æˆ·ç®¡ç†å™¨å®ä¾‹çš„å…¨å±€é…ç½® \&ã€‚
.PP
\fBExample\ \&8.\ \&Show all paths for generated units\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze å…ƒ \- paths |grep\*(Aq^/run\*(Aq
/run/systemd/system\&.control
/run/systemd/transient
/run/systemd/generator\&.early
/run/systemd/system
/run/systemd/system\&.attached
/run/systemd/generator
/run/systemd/generator\&.late
.fi
.if  n \{\
.RE
.\}
.PP
è¯·æ³¨æ„ï¼Œæ­¤åŠ¨è¯æ‰“å°ç¼–è¯‘åˆ° \fBsystemd\-analyze\fP æœ¬èº«çš„åˆ—è¡¨ï¼Œå¹¶ä¸”ä¸ä¸è¿è¡Œç®¡ç†å™¨é€šä¿¡ \&ã€‚Use
.sp
.if  n \{\
.RS 4
.\}
.nf
systemctl [\-\-user] [\-\-global] show \-p UnitPath \-\-value
.fi
.if  n \{\
.RE
.\}
.sp
æ£€ç´¢ç®¡ç†å™¨ä½¿ç”¨çš„å®é™…åˆ—è¡¨ï¼Œçœç•¥ä»»ä½•ç©ºç›®å½• \&ã€‚
.SS "systemd\-analyze exit\-status [\fISTATUS\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤æ‰“å°é€€å‡ºçŠ¶æ€åˆ—è¡¨åŠå…¶ "class"ï¼Œi\&.e\&ã€‚å®šä¹‰çš„æ¥æº ("glibc"ã€"systemd"ã€"LSB" æˆ– "BSD" ä¹‹ä¸€)ï¼Œè¯·å‚è§
\fBsystemd.exec\fP(5)\& ä¸­çš„è¿›ç¨‹é€€å‡ºä»£ç éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šé¢å¤–çš„å‚æ•°ï¼Œåˆ™æ˜¾ç¤ºæ‰€æœ‰å·²çŸ¥çŠ¶æ€ \&ã€‚å¦åˆ™ï¼Œä»…æ˜¾ç¤ºæŒ‡å®šä»£ç çš„å®šä¹‰ \&ã€‚
.PP
\fBExample\ \&9.\ \&Show some example exit status names\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd \- åˆ†æé€€å‡ºçŠ¶æ€ 0 1 {63\&.\&.65}
å§“åèº«ä»½ç­‰çº§
æˆåŠŸ 0 glibc
å¤±è´¥ 1 glibc
\-       63     \-
ç”¨æ³• 64 BSD
æ•°æ®é”™è¯¯ 65 BSD
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze capability [\fICAPABILITY\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤æ‰“å° Linux åŠŸèƒ½åˆ—è¡¨åŠå…¶æ•°å­— ID\&ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§
\fBcapabilities\fP(7)\&ã€‚å¦‚æœæœªæŒ‡å®šå‚æ•°ï¼Œåˆ™æ˜¾ç¤ºæœåŠ¡ç®¡ç†å™¨å’Œå†…æ ¸å·²çŸ¥çš„å®Œæ•´åŠŸèƒ½åˆ—è¡¨ \&ã€‚ç”±å†…æ ¸å®šä¹‰ä½†æœåŠ¡ç®¡ç†å™¨ä¸çŸ¥é“çš„åŠŸèƒ½æ˜¾ç¤ºä¸º
`cap_????`\&ã€‚å¯é€‰åœ°ï¼Œå¦‚æœæŒ‡å®šäº†å‚æ•°ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡åç§°æˆ–æ•°å­— ID å¼•ç”¨ç‰¹å®šçš„åŠŸèƒ½ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¡¨ä¸­ä»…æ˜¾ç¤ºæŒ‡å®šçš„åŠŸèƒ½ \&ã€‚
.PP
\fBExample\ \&10.\ \&Show some example capability names\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd åˆ†æèƒ½åŠ› 0 1 {30\&.\&.32}
å§“åå·ç 
cap_chown              0
cap_dac_override       1
cap_audit_control     30
cap_setfcap           31
cap_mac_override      32
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze condition \fICONDITION\fP\fR\&.\&.\&.\fP"
.PP
æ­¤å‘½ä»¤å°†è¯„ä¼° \fICondition*=\&.\&.\&.\fP å’Œ \fIAssert*=\&.\&.\&.\fP èµ‹å€¼ï¼Œå¹¶æ‰“å°å®ƒä»¬çš„å€¼ï¼Œä»¥åŠç»„åˆæ¡ä»¶é›†çš„ç»“æœå€¼
\&ã€‚æœ‰å…³å¯ç”¨æ¡ä»¶å’Œæ–­è¨€ \& çš„åˆ—è¡¨ï¼Œè¯·å‚è§ \fBsystemd.unit\fP(5)ã€‚
.PP
\fBExample\ \&11.\ \&Evaluate conditions that check kernel versions\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze condition \*(AqConditionKernelVersion = ! <4\&.0\*(Aq \e
        \*(AqConditionKernelVersion = >=5\&.1\*(Aq \e
        \*(AqConditionACPower=|false\*(Aq \e
        \*(AqConditionArchitecture=|!arm\*(Aq \e
        \*(AqAssertPathExists=/etc/os\-release\*(Aq
test\&.service: AssertPathExists=/etc/os\-release succeeded\&.
æ–­è¨€æˆåŠŸ \&ã€‚
test\&.service: æ¡ä»¶æ¶æ„ =|! åˆ†æ”¯æˆåŠŸ \&.
test\&.service: ConditionACPower=|false å¤±è´¥ \&ã€‚
test\&.service: ConditionKernelVersion=>=5\&.1 æˆåŠŸ \&ã€‚
test\&.service: ConditionKernelVersion=!<4\&.0 æˆåŠŸ \&ã€‚
æ¡ä»¶æˆåŠŸ \&ã€‚
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze syscall\-filter [\fISET\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤å°†åˆ—å‡ºåŒ…å«åœ¨æŒ‡å®šç³»ç»Ÿè°ƒç”¨é›† \fISET\fP ä¸­çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šé›†ï¼Œåˆ™åˆ—å‡ºæ‰€æœ‰å·²çŸ¥é›† \&ã€‚å‚æ•° \fISET\fP å¿…é¡»åŒ…å« "@" å‰ç¼€ \&ã€‚
.SS "systemd\-analyze filesystems [\fISET\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤å°†åˆ—å‡ºæŒ‡å®šæ–‡ä»¶ç³»ç»Ÿé›† \fISET\fP ä¸­çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¦‚æœæœªæŒ‡å®šé›†ï¼Œåˆ™åˆ—å‡ºæ‰€æœ‰å·²çŸ¥é›† \&ã€‚å‚æ•° \fISET\fP å¿…é¡»åŒ…å« "@" å‰ç¼€ \&ã€‚
.SS "systemd\-analyze calendar \fIEXPRESSION\fP\fR\&.\&.\&.\fP"
.PP
æ­¤å‘½ä»¤å°†è§£æå’Œè§„èŒƒåŒ–é‡å¤çš„æ—¥å†æ—¶é—´äº‹ä»¶ï¼Œå¹¶å°†è®¡ç®—å®ƒä»¬æ¥ä¸‹æ¥çš„æ—¶é—´ \&ã€‚è¿™é‡‡ç”¨ä¸ \fBsystemd.timer\fP(5) ä¸­çš„
\fIOnCalendar=\fP è®¾ç½®ç›¸åŒçš„è¾“å…¥ï¼Œéµå¾ª \fBsystemd.time\fP(7)\&
ä¸­æè¿°çš„è¯­æ³•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä»…æ˜¾ç¤ºä¸‹ä¸€æ¬¡æ—¥å†è¡¨è¾¾å¼å°†è¿‡å»çš„æ—¶é—´; ä½¿ç”¨ \fB\-\-iterations=\fP æ¥æ˜¾ç¤ºä¸‹ä¸€æ¬¡è¡¨è¾¾å¼ç»è¿‡çš„æŒ‡å®šæ¬¡æ•°
\&ã€‚æ¯æ¬¡è¡¨è¾¾å¼ç»è¿‡æ—¶éƒ½ä¼šå½¢æˆä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¯·å‚è§ä¸‹é¢çš„ \fBtimestamp\fP åŠ¨è¯ \&ã€‚
.PP
\fBExample\ \&12.\ \&Show leap days in the near future\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze calendar \-\-iterations=5 \*(Aq*\-2\-29 0:0:0\*(Aq
  åŸå§‹å½¢å¼: *\-2\-29 0:0:0
è§„èŒƒåŒ–å½¢å¼: *\-02\-29 00:00:00
    ä¸‹ä¸€æ¬¡è¿‡å»: æ˜ŸæœŸå…­ 2020\-02\-29 00:00:00 UTC
       ä»ç°åœ¨å¼€å§‹: è¿˜å‰© 11 ä¸ªæœˆ 15 å¤©
       Iter\&.     #2: æ˜ŸæœŸå›› 2024\-02\-29 00:00:00 UTC
       ä»ç°åœ¨å¼€å§‹: è¿˜å‰© 4 å¹´ 11 ä¸ªæœˆ
       Iter\&. #3: æ˜ŸæœŸäºŒ 2028\-02\-29 00:00:00 UTC
       ä»ç°åœ¨å¼€å§‹: è¿˜å‰© 8 å¹´ 11 ä¸ªæœˆ
       Iter\&. #4: æ˜ŸæœŸæ—¥ 2032\-02\-29 00:00:00 UTC
       ä»ç°åœ¨å¼€å§‹: è¿˜å‰© 12 å¹´ 11 ä¸ªæœˆ
       Iter\&. #5: æ˜ŸæœŸäº” 2036\-02\-29 00:00:00 UTC
       ä»ç°åœ¨å¼€å§‹: è¿˜å‰© 16 å¹´ 11 ä¸ªæœˆ
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze timestamp \fITIMESTAMP\fP\fR\&.\&.\&.\fP"
.PP
æ­¤å‘½ä»¤è§£ææ—¶é—´æˆ³ (i\&.e\&. å•ä¸ªæ—¶é—´ç‚¹) å¹¶è¾“å‡ºè§„èŒƒåŒ–å½¢å¼ä»¥åŠæ­¤æ—¶é—´æˆ³ä¸ now\& ä¹‹é—´çš„å·®å¼‚ã€‚æ—¶é—´æˆ³åº”éµå¾ª
\fBsystemd.time\fP(7) ä¸­ `PARSING TIMESTAMPS`\& éƒ¨åˆ†ä¸­è®°å½•çš„è¯­æ³•ã€‚
.PP
\fBExample\ \&13.\ \&Show parsing of timestamps\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze timestamp æ˜¨å¤©ç°åœ¨æ˜å¤©
  åŸå½¢: æ˜¨å¤©
è§„èŒƒåŒ–å½¢å¼: Mon 2019\-05\-20 00:00:00 CEST
       (UTC æ—¶é—´) : Sun 2019\-05\-19 22:00:00 UTC
   UNIX ç§’: @15583032000
       ä»ç°åœ¨å¼€å§‹: 1 å¤© 9 å°æ—¶å‰

  åŸå½¢: ç°åœ¨
è§„èŒƒåŒ–å½¢å¼: æ˜ŸæœŸäºŒ 2019\-05\-21 09:48:39 CEST
       (UTC) : UTC 2019\-05\-21 æ˜ŸæœŸäºŒ 07:48:39
   UNIX ç§’: @1558424919\&.659757
       ä»ç°åœ¨å¼€å§‹: 43us å‰

  åŸå½¢: æ˜å¤©
è§„èŒƒåŒ–å½¢å¼: Wed 2019\-05\-22 00:00:00 CEST
       (UTC) : UTC 2019\-05\-21 æ˜ŸæœŸäºŒ 22:00:00
   UNIX ç§’: @15584760000
       ä»ç°åœ¨å¼€å§‹: è¿˜å‰© 14 å°æ—¶
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze timespan \fIEXPRESSION\fP\fR\&.\&.\&.\fP"
.PP
æ­¤å‘½ä»¤è§£ææ—¶é—´è·¨åº¦ (i\&.e\&. ä¸¤ä¸ªæ—¶é—´æˆ³ä¹‹é—´çš„å·®å¼‚) å¹¶è¾“å‡ºè§„èŒƒåŒ–å½¢å¼å’Œä»¥å¾®ç§’ä¸ºå•ä½çš„ç­‰æ•ˆå€¼ \&ã€‚æ—¶é—´è·¨åº¦åº”éµå¾ª
\fBsystemd.time\fP(7) ä¸­ `PARSING TIME SPANS`\& éƒ¨åˆ†ä¸­è®°å½•çš„è¯­æ³•ã€‚æ²¡æœ‰å•ä½çš„å€¼è¢«è§£æä¸ºç§’ \&ã€‚
.PP
\fBExample\ \&14.\ \&Show parsing of timespans\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze timespan 1s 300s \*(Aq1year 0\&.000001s\*(Aq
åŸæ–‡: 1s
      å¾®ç§’: 1000000
   äººç±»: 1 ç§’

åŸç‰ˆ: 300s
      å¾®ç§’: 300000000
   äººç±»: 5 åˆ†é’Ÿ

åŸä»¶: 1 å¹´ 0\&.000001s
      å¾®ç§’: 31557600000001
   äººç±»: 1y 1us
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze cat\-config \fINAME\fP\fR|\fP\fIPATH\fP\fR\&.\&.\&.\fP"
.PP
æ­¤å‘½ä»¤ç±»ä¼¼äº \fBsystemctl cat\fPï¼Œä½†å¯¹é…ç½®æ–‡ä»¶ \& è¿›è¡Œæ“ä½œã€‚å®ƒä¼šå°†é…ç½®æ–‡ä»¶çš„å†…å®¹å’Œä»»ä½•ä¸¢å¼ƒ \- ins å¤åˆ¶åˆ°æ ‡å‡†è¾“å‡ºï¼Œä½¿ç”¨é€šå¸¸çš„
systemd ç›®å½•é›†å’Œä¼˜å…ˆçº§è§„åˆ™ \&ã€‚æ¯ä¸ªå‚æ•°å¿…é¡»æ˜¯åŒ…å«å‰ç¼€çš„ç»å¯¹è·¯å¾„ (ä¾‹å¦‚ /etc/systemd/logind\&.conf æˆ–
/usr/lib/systemd/logind\&.conf)ï¼Œæˆ–è€…æ˜¯ç›¸å¯¹äºå‰ç¼€çš„åç§° (ä¾‹å¦‚ systemd/logind\&.conf) \&ã€‚
.PP
\fBExample\ \&15.\ \&Showing logind configuration\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd \- åˆ†æ cat\-config systemd/logind\&.conf
# /etc/systemd/logind\&.conf
\&.\&.\&.
[Login]
NAutoVTs=8
\&.\&.\&.

# /usr/lib/systemd/logind\&.conf\&.d/20\-test\&.conf
\&.\&.\&. ä¸€äº›æ¥è‡ªå¦ä¸€ä¸ªåŒ…çš„è¦†ç›–

# /etc/systemd/logind\&.conf\&.d/50\-override\&.conf
\&.\&.\&. ä¸€äº›ç®¡ç†å‘˜è¦†ç›–
        
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze compare\-versions \fIVERSION1\fP\fR [\fP\fIOP\fP\fR] \fP\fIVERSION2\fP"
.PP
æ­¤å‘½ä»¤æœ‰ä¸¤ç§ä¸åŒçš„æ“ä½œæ¨¡å¼ï¼Œå…·ä½“å–å†³äºæ˜¯å¦æŒ‡å®šäº†è¿ç®—ç¬¦ \fIOP\fP\&ã€‚
.PP
åœ¨ç¬¬ä¸€ç§æ¨¡å¼ä¸‹ \(em å½“æ²¡æœ‰æŒ‡å®š \fIOP\fP\(em å®ƒå°†æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å­—ç¬¦ä¸²å¹¶æ ¹æ®éœ€è¦æ‰“å° "\fIVERSION1\fP <
\fIVERSION2\fP"ï¼Œæˆ– "\fIVERSION1\fP == \fIVERSION2\fP"ï¼Œæˆ– "\fIVERSION1\fP >
\fIVERSION2\fP"\&ã€‚
.PP
ç‰ˆæœ¬ç›¸ç­‰åˆ™é€€å‡ºçŠ¶æ€ä¸º \fB0\fPï¼Œå³è¾¹ç‰ˆæœ¬å°åˆ™ä¸º \fB11\fPï¼Œå·¦è¾¹ç‰ˆæœ¬å°åˆ™ä¸º \fB12\fP\&ã€‚(è¿™ç¬¦åˆ \fBrpmdev\-vercmp\fP\&.)
ä½¿ç”¨çš„çº¦å®š
.PP
åœ¨ç¬¬äºŒç§æ¨¡å¼ \(em å½“æŒ‡å®š \fIOP\fP\(em å®ƒå°†ä½¿ç”¨æ“ä½œ \fIOP\fP æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬å­—ç¬¦ä¸²ï¼Œå¦‚æœæ»¡è¶³æ¡ä»¶åˆ™è¿”å› \fB0\fP
(success)ï¼Œå¦åˆ™è¿”å› \fB1\fP (failure)\&ã€‚ \fBOP\fP å¯èƒ½æ˜¯
\fBlt\fPã€\fBle\fPã€\fBeq\fPã€\fBne\fPã€\fBge\fPã€\fBgt\fP\&ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œä¸æ‰“å°ä»»ä½•è¾“å‡º \&ã€‚(è¿™ç¬¦åˆ \fBdpkg\fP(1)
\fB\-\-compare\-versions\fP\&.) ä½¿ç”¨çš„çº¦å®š
.PP
\fBExample\ \&16.\ \&Compare versions of a package\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze æ¯”è¾ƒç‰ˆæœ¬ systemd\-250~rc1\&.fc36\&.aarch64 systemd\-251\&.fc36\&.aarch64
systemd\-250~rc1\&.fc36\&.aarch64 < systemd\-251\&.fc36\&.aarch64
$ å›å£° $?
12

$ systemd\-analyze compare\-versions 1  lt 2; å›å£° $?
0
$ systemd\-analyze compare\-versions 1 ge 2; å›å£° $?
1
        
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze verify \fIFILE\fP\fR\&.\&.\&.\fP"
.PP
å¦‚æœæ£€æµ‹åˆ°ä»»ä½•é”™è¯¯ï¼Œæ­¤å‘½ä»¤å°†åŠ è½½å…ƒæ–‡ä»¶å¹¶æ‰“å°è­¦å‘Š \&ã€‚å°†åŠ è½½åœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šçš„æ–‡ä»¶ï¼Œä½†ä¹Ÿå°†åŠ è½½å®ƒä»¬å¼•ç”¨çš„ä»»ä½•å…¶ä»–å•å…ƒ \&ã€‚A å…ƒ
\*(å¯ä»¥é€šè¿‡åœ¨å†’å·åæŒ‡å®šåˆ«åæ¥è¦†ç›–ç£ç›˜ä¸Šçš„ Aqs åç§°; è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹ \&ã€‚å®Œæ•´çš„å…ƒæœç´¢è·¯å¾„ç”±æ‰€æœ‰å‘½ä»¤è¡Œå‚æ•°çš„ç›®å½•å’Œé€šå¸¸çš„å…ƒåŠ è½½è·¯å¾„ \&
ç»„åˆè€Œæˆã€‚æ”¯æŒå˜é‡ \fI$SYSTEMD_UNIT_PATH\fPï¼Œå¯ç”¨äºæ›¿æ¢æˆ–æ‰©å……å·²ç¼–è¯‘çš„å•å…ƒåŠ è½½è·¯å¾„é›†; è¯·å‚è§
\fBsystemd.unit\fP(5)\&ã€‚åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„ç›®å½•ä¸­å­˜åœ¨çš„æ‰€æœ‰å•å…ƒæ–‡ä»¶å°†ä¼˜å…ˆäºå…¶ä»–è·¯å¾„ \& ä½¿ç”¨ã€‚
.PP
ç›®å‰æ£€æµ‹åˆ°ä»¥ä¸‹é”™è¯¯:
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
æœªçŸ¥çš„éƒ¨åˆ†å’ŒæŒ‡ä»¤ï¼Œ
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
ç¼ºå°‘å¯åŠ¨ç»™å®šå…ƒæ‰€éœ€çš„ä¾èµ–é¡¹ï¼Œ
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
åœ¨ç³»ç»Ÿä¸­æ‰¾ä¸åˆ°çš„ \fIDocumentation=\fP ä¸­åˆ—å‡ºçš„æ‰‹å†Œé¡µï¼Œ
.RE
.sp
.RS 4
.ie  n \{\
\h'-04'\(bu\h'+03'\c
.\}
.el \{\
.sp -1
.IP \(bu 2.3
.\}
åœ¨ \fIExecStart=\fP ä¸­åˆ—å‡ºçš„å‘½ä»¤å’Œåœ¨ç³»ç»Ÿä¸­æ‰¾ä¸åˆ°æˆ–ä¸å¯æ‰§è¡Œçš„ç±»ä¼¼å‘½ä»¤ \&ã€‚
.RE
.PP
\fBExample\ \&17.\ \&Misspelt directives\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ cat \&./user\&.slice
[Unit]
WhatIsThis=11
Documentation=man:nosuchfile(1)
Requires=different\&.service

[Service]
Description=x

$ systemd\-analyze verify \&./user\&.slice
[\&./user\&.slice:9] Unknown lvalue \*(AqWhatIsThis\*(Aq in section \*(AqUnit\*(Aq
[\&./user\&.slice:13] Unknown section \*(AqService\*(Aq\&.  Ignoring\&.
Error: org\&.freedesktop\&.systemd1\&.LoadFailed:
   Unit different\&.service failed to load:
   No such file or directory\&.
Failed to create user\&.slice/start: Invalid argument
user\&.slice: man nosuchfile(1) command failed with code 16
        
.fi
.if  n \{\
.RE
.\}
.PP
\fBExample\ \&18.\ \&Missing service units\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ tail \&./a\&.socket \&./b\&.socket
==> \&./a\&.socket <==
[Socket]
ListenStream=100

==> \&./b\&.socket <==
[Socket]
ListenStream=100
Accept=yes

$ systemd\-analyze verify \&./a\&.socket \&./b\&.socket
Service a\&.service not loaded, a\&.socket cannot be started\&.
Service b@0\&.service not loaded, b\&.socket cannot be started\&.
        
.fi
.if  n \{\
.RE
.\}
.PP
\fBExample\ \&19.\ \&Aliasing a unit\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ cat /tmp/source
[Unit]
Description=Hostname printer

[Service]
Type=simple
ExecStart=/usr/bin/echo %H
MysteryKey=true

$ systemd\-analyze éªŒè¯ /tmp/source
æ— æ³•å‡†å¤‡æ–‡ä»¶å /tmp/source: æ— æ•ˆå‚æ•°

$ systemd\-analyze éªŒè¯ /tmp/source:alias\&.service
/tmp/systemd\-analyze\-XXXXXX/alias\&.service:7: æœªçŸ¥å¯†é’¥åç§° \*(AqMysteryKey\*(Aq åœ¨éƒ¨åˆ† \*(AqService\*(Aqï¼Œå¿½ç•¥ \&ã€‚
        
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze security [\fIUNIT\fP\fR\&.\&.\&.]\fP"
.PP
æ­¤å‘½ä»¤åˆ†æä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šæœåŠ¡å•å…ƒçš„å®‰å…¨å’Œæ²™ç›’è®¾ç½® \&ã€‚å¦‚æœæŒ‡å®šäº†è‡³å°‘ä¸€ä¸ªå…ƒåç§°ï¼Œåˆ™æ£€æŸ¥æŒ‡å®šæœåŠ¡å•å…ƒçš„å®‰å…¨è®¾ç½®å¹¶æ˜¾ç¤ºè¯¦ç»†åˆ†æ
\&ã€‚å¦‚æœæœªæŒ‡å®šå…ƒåç§°ï¼Œåˆ™ä¼šæ£€æŸ¥æ‰€æœ‰å½“å‰åŠ è½½çš„é•¿æœŸè¿è¡Œçš„æœåŠ¡å•å…ƒï¼Œå¹¶æ˜¾ç¤ºä¸€ä¸ªåŒ…å«ç»“æœçš„ç®€æ´è¡¨æ ¼
\&ã€‚è¯¥å‘½ä»¤æ£€æŸ¥å„ç§ä¸å®‰å…¨ç›¸å…³çš„æœåŠ¡è®¾ç½®ï¼Œå¹¶æ ¹æ®è®¾ç½®çš„é‡è¦æ€§ \& ä¸ºæ¯ä¸ªåˆ†é…ä¸€ä¸ªæ•°å­— "exposure level"
å€¼ã€‚ç„¶åè®¡ç®—æ•´ä¸ªå…ƒçš„æ€»ä½“æš´éœ²çº§åˆ«ï¼Œè¿™æ˜¯ 0\&.0\&...10\&.0 èŒƒå›´å†…çš„ä¼°è®¡å€¼ï¼ŒæŒ‡ç¤ºæœåŠ¡åœ¨å®‰å…¨æ–¹é¢çš„æš´éœ²ç¨‹åº¦
\&ã€‚é«˜æš´éœ²çº§åˆ«è¡¨æ˜åº”ç”¨çš„æ²™ç›’éå¸¸å°‘ã€‚ä½æš´éœ²çº§åˆ«è¡¨ç¤ºä¸¥å¯†çš„æ²™ç›’å’Œæœ€å¼ºçš„å®‰å…¨é™åˆ¶ \&ã€‚è¯·æ³¨æ„ï¼Œè¿™ä»…åˆ†æ systemd æœ¬èº«å®ç°çš„æ¯æœåŠ¡å®‰å…¨ï¼Œç‰¹æ€§
\&ã€‚è¿™æ„å‘³ç€ä¸è€ƒè™‘æœåŠ¡ä»£ç æœ¬èº«åº”ç”¨çš„ä»»ä½•é™„åŠ å®‰å…¨æœºåˆ¶ã€‚ä¸åº”è¯¯è§£ä»¥è¿™ç§æ–¹å¼ç¡®å®šçš„æš´éœ²çº§åˆ«:
é«˜æš´éœ²çº§åˆ«æ—¢ä¸æ„å‘³ç€æœåŠ¡ä»£ç æœ¬èº«æ²¡æœ‰åº”ç”¨æœ‰æ•ˆçš„æ²™ç®±ï¼Œä¹Ÿä¸æ„å‘³ç€è¯¥æœåŠ¡å®é™…ä¸Šå®¹æ˜“å—åˆ°è¿œç¨‹æˆ–æœ¬åœ°æ”»å‡»
\&ã€‚ç„¶è€Œï¼Œé«˜æš´éœ²çº§åˆ«ç¡®å®è¡¨æ˜è¯¥æœåŠ¡å¾ˆå¯èƒ½ä¼šå—ç›Šäºåº”ç”¨äºå®ƒä»¬çš„å…¶ä»–è®¾ç½® \&ã€‚
.PP
è¯·æ³¨æ„ï¼Œè®¸å¤šå®‰å…¨å’Œæ²™ç›’è®¾ç½®éƒ½å¯ä»¥å•ç‹¬è§„é¿ \(em é™¤éä¸å…¶ä»–è®¾ç½® \&ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœåŠ¡ä¿ç•™å»ºç«‹æˆ–æ’¤æ¶ˆæŒ‚è½½ç‚¹çš„ç‰¹æƒï¼Œåˆ™è®¸å¤šæ²™ç›’é€‰é¡¹å¯ä»¥é€šè¿‡æœåŠ¡ä»£ç æœ¬èº«
\& æ’¤æ¶ˆã€‚å› æ­¤ï¼Œæ¯é¡¹æœåŠ¡éƒ½å¿…é¡»å°½å¯èƒ½ä½¿ç”¨æœ€å…¨é¢ã€æœ€ä¸¥æ ¼çš„æ²™ç›’å’Œå®‰å…¨è®¾ç½® \&ã€‚è¯¥å·¥å…·å°†è€ƒè™‘å…¶ä¸­ä¸€äº›ç»„åˆå’Œè®¾ç½®ä¹‹é—´çš„å…³ç³»ï¼Œä½†ä¸æ˜¯æ‰€æœ‰
\&ã€‚å¦è¯·æ³¨æ„ï¼Œæ­¤å¤„åˆ†æçš„å®‰å…¨å’Œæ²™ç›’è®¾ç½®ä»…é€‚ç”¨äºæœåŠ¡ä»£ç æœ¬èº«æ‰§è¡Œçš„æ“ä½œã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å¯ä»¥è®¿é—® IPC ç³»ç»Ÿ (ä¾‹å¦‚
D\-Bus)ï¼Œå®ƒå¯èƒ½ä¼šè¯·æ±‚ä¸å—ç›¸åŒé™åˆ¶çš„å…¶ä»–æœåŠ¡çš„æ“ä½œ \&ã€‚å¦‚æœ IPC è®¿é—®ç­–ç•¥ä¹Ÿæœªç»è¿‡éªŒè¯ï¼Œåˆ™ä»»ä½•å…¨é¢çš„å®‰å…¨å’Œæ²™ç›’åˆ†æéƒ½æ˜¯ä¸å®Œæ•´çš„ã€‚
.PP
\fBExample\ \&20.\ \&Analyze systemd\-logind\&.service\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze security \-\-no\-pager systemd\-logind\&.service
  åç§°æè¿°æ›å…‰
âœ— PrivateNetwork=     Service has access to the host\*(Aqs network      0\&.5
âœ— User=/DynamicUser = æœåŠ¡ä»¥æ ¹ç”¨æˆ· 0\&.4 è¿è¡Œ
âœ— DeviceAllow = æœåŠ¡æ²¡æœ‰è®¾å¤‡ ACL 0\&.2
âœ“ IPAddressDeny = æœåŠ¡é˜»æ­¢æ‰€æœ‰ IP åœ°å€èŒƒå›´
\&.\&.\&.
â†’ systemd\-logind\&.service çš„æ€»ä½“æ›å…‰æ°´å¹³: 4\&.1 OK ğŸ™‚
.fi
.if  n \{\
.RE
.\}
.SS "systemd\-analyze inspect\-elf \fIFILE\fP\fR\&.\&.\&.\fP"
.PP
æ­¤å‘½ä»¤å°†åŠ è½½æŒ‡å®šçš„æ–‡ä»¶ï¼Œå¦‚æœå®ƒä»¬æ˜¯ ELF å¯¹è±¡ (å¯æ‰§è¡Œæ–‡ä»¶ã€åº“ã€æ ¸å¿ƒæ–‡ä»¶ç­‰ \&.)ï¼Œå®ƒå°†è§£æåµŒå…¥çš„æ‰“åŒ…å…ƒæ•°æ® (å¦‚æœæœ‰)ï¼Œå¹¶ä»¥è¡¨æ ¼æˆ– json
æ ¼å¼æ‰“å° \&ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ \m[blue]\fBPackaging Metadata\fP\m[]\&\s-2\u[1]\d\s+2 æ–‡æ¡£ \&ã€‚
.PP
\fBExample\ \&21.\ \&Table output\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ systemd\-analyze inspect\-elf\-\-json = æ¼‚äº®çš„ /tmp/core\&.fsverity\&.1000\&.f77dac5dc161402aa44e15b7dd9dcf97\&.58561\&.1637106137000000
{
        "elfType" : "coredump",
        "elfArchitecture" : "AMD x86\-64",
        "/home/bluca/git/fsverity\-utils/fsverity" : {
                "type" : "deb",
                "name" : "fsverity\-utils",
                "version" : "1\&.3\-1",
                "buildId" : "7c895ecd2a271f93e96268f479fdc3c64a2ec4ee"
        },
        "/home/bluca/git/fsverity\-utils/libfsverity\&.so\&.0" : {
                "type" : "deb",
                "name" : "fsverity\-utils",
                "version" : "1\&.3\-1",
                "buildId" : "b5e428254abf14237b0ae70ed85fffbb98a78f88"
        }
}
        
.fi
.if  n \{\
.RE
.\}
.SH OPTIONS
.PP
ç†è§£ä»¥ä¸‹é€‰é¡¹:
.PP
\fB\-\-system\fP
.RS 4
åœ¨ç³»ç»Ÿ systemd å®ä¾‹ä¸Šè¿è¡Œ \&ã€‚è¿™æ˜¯éšå«çš„é»˜è®¤ \&ã€‚
.RE
.PP
\fB\-\-user\fP
.RS 4
åœ¨ç”¨æˆ· systemd å®ä¾‹ä¸Šè¿è¡Œ \&ã€‚
.RE
.PP
\fB\-\-global\fP
.RS 4
å¯¹ç”¨æˆ· systemd å®ä¾‹ \& çš„ç³»ç»ŸèŒƒå›´é…ç½®è¿›è¡Œæ“ä½œã€‚
.RE
.PP
\fB\-\-order\fP, \fB\-\-require\fP
.RS 4
å½“ä¸ \fBdot\fP å‘½ä»¤ (è§ä¸Šæ–‡) ç»“åˆä½¿ç”¨æ—¶ï¼Œé€‰æ‹©åœ¨ä¾èµ–å…³ç³»å›¾ä¸­æ˜¾ç¤ºå“ªäº›ä¾èµ–å…³ç³» \&ã€‚å¦‚æœä¼ é€’ \fB\-\-order\fPï¼Œåˆ™ä»…æ˜¾ç¤º \fIAfter=\fP
æˆ– \fIBefore=\fP ç±»å‹çš„ä¾èµ–é¡¹ \&ã€‚å¦‚æœä¼ é€’ \fB\-\-require\fPï¼Œåˆ™ä»…æ˜¾ç¤º
\fIRequires=\fPã€\fIRequisite=\fPã€\fIWants=\fP å’Œ \fIConflicts=\fP ç±»å‹çš„ä¾èµ–é¡¹
\&ã€‚å¦‚æœä¸¤è€…å‡æœªé€šè¿‡ï¼Œåˆ™æ˜¾ç¤ºæ‰€æœ‰è¿™äº›ç±»å‹çš„ä¾èµ–æ€§ \&ã€‚
.RE
.PP
\fB\-\-from\-pattern=\fP, \fB\-\-to\-pattern=\fP
.RS 4
å½“ä¸ \fBdot\fP å‘½ä»¤ (è§ä¸Šæ–‡) ç»“åˆä½¿ç”¨æ—¶ï¼Œè¿™ä¼šé€‰æ‹©åœ¨ä¾èµ–å›¾ä¸­æ˜¾ç¤ºå“ªäº›å…³ç³» \&ã€‚è¿™ä¸¤ä¸ªé€‰é¡¹éƒ½éœ€è¦ä¸€ä¸ª \fBglob\fP(7)
æ¨¡å¼ä½œä¸ºå‚æ•°ï¼Œå®ƒå°†åˆ†åˆ«ä¸å…³ç³»çš„å·¦ä¾§å’Œå³ä¾§èŠ‚ç‚¹åŒ¹é… \&ã€‚
.sp
è¿™äº›ä¸­çš„æ¯ä¸€ä¸ªéƒ½å¯ä»¥ä½¿ç”¨å¤šæ¬¡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…ƒåç§°å¿…é¡»ä¸å…¶ä¸­ä¸€ä¸ªå€¼ \& åŒ¹é…ã€‚å½“å­˜åœ¨å…³ç³»ä¸¤ä¾§çš„æµ‹è¯•æ—¶ï¼Œå…³ç³»å¿…é¡»é€šè¿‡ä¸¤ä¸ªæµ‹è¯•æ‰èƒ½æ˜¾ç¤º
\&ã€‚å½“æ¨¡å¼ä¹Ÿè¢«æŒ‡å®šä¸ºä½ç½®å‚æ•°æ—¶ï¼Œå®ƒä»¬å¿…é¡»è‡³å°‘åŒ¹é…å…³ç³»çš„ä¸€ä¾§ \&ã€‚æ¢å¥è¯è¯´ï¼Œç”¨è¿™ä¸¤ä¸ªé€‰é¡¹æŒ‡å®šçš„æ¨¡å¼å°†ä¿®å‰ªä¸ä½ç½®å‚æ•°åŒ¹é…çš„ edges åˆ—è¡¨
(å¦‚æœç»™å‡º)ï¼Œå¹¶å®Œå…¨ç¡®å®šå¦åˆ™æ˜¾ç¤ºçš„ edges åˆ—è¡¨ \&ã€‚
.RE
.PP
\fB\-\-fuzz=\fP\fItimespan\fP
.RS 4
ä¸ \fBcritical\-chain\fP å‘½ä»¤ (è§ä¸Š) ç»“åˆä½¿ç”¨æ—¶ï¼Œè¿˜æ˜¾ç¤ºå•ä½ï¼Œ\fItimespan\fP æ—©äºåŒçº§æœ€æ–°çš„å•ä½ \&ã€‚\fItimespan\fP
çš„å•ä½æ˜¯ç§’ï¼Œé™¤éæŒ‡å®šä¸åŒçš„å•ä½ï¼Œe\&.g\&ã€‚"50ms"\&.
.RE
.PP
\fB\-\-man=no\fP
.RS 4
ä¸è¦è°ƒç”¨ \fBman\fP(1) æ¥éªŒè¯ \fIDocumentation=\fP\& ä¸­åˆ—å‡ºçš„æ‰‹å†Œé¡µæ˜¯å¦å­˜åœ¨ã€‚
.RE
.PP
\fB\-\-generators\fP
.RS 4
è°ƒç”¨å…ƒç”Ÿæˆå™¨ï¼Œå‚è§ \fBsystemd.generator\fP(7)\&ã€‚ä¸€äº›ç”Ÿæˆå™¨éœ€è¦ root æƒé™
\&ã€‚åœ¨æ™®é€šç”¨æˆ·ä¸‹ï¼Œå¯ç”¨ç”Ÿæˆå™¨è¿è¡Œé€šå¸¸ä¼šå¯¼è‡´ä¸€äº›è­¦å‘Š \&ã€‚
.RE
.PP
\fB\-\-recursive\-errors=\fP\fIMODE\fP
.RS 4
æ§åˆ¶å•å…ƒåŠå…¶ä¾èµ–å…³ç³»çš„éªŒè¯ä»¥åŠ \fBsystemd\-analyze verify\fP æ˜¯å¦ä»¥éé›¶è¿›ç¨‹é€€å‡ºçŠ¶æ€é€€å‡º \&ã€‚ä½¿ç”¨
\fByes\fPï¼Œå½“åœ¨éªŒè¯æŒ‡å®šå…ƒæˆ–å…¶ä»»ä½•å…³è”ä¾èµ–é¡¹ \& æœŸé—´å‡ºç°è­¦å‘Šæ—¶ï¼Œè¿”å›éé›¶è¿›ç¨‹é€€å‡ºçŠ¶æ€ã€‚ä½¿ç”¨ \fBno\fPï¼Œåœ¨ä»…éªŒè¯æŒ‡å®šçš„å…ƒ \&
æœŸé—´å‡ºç°è­¦å‘Šæ—¶ï¼Œè¿”å›éé›¶è¿›ç¨‹é€€å‡ºçŠ¶æ€ã€‚ä½¿ç”¨ \fBone\fPï¼Œå½“åœ¨éªŒè¯æŒ‡å®šå…ƒæˆ–å…¶ immediate ä¾èµ–é¡¹ \&
æœŸé—´å‡ºç°è­¦å‘Šæ—¶ï¼Œè¿”å›éé›¶è¿›ç¨‹é€€å‡ºçŠ¶æ€ã€‚å¦‚æœæœªæŒ‡å®šæ­¤é€‰é¡¹ï¼Œåˆ™æ— è®ºæ˜¯å¦åœ¨éªŒè¯è¿‡ç¨‹ä¸­å‡ºç°è­¦å‘Š \&ï¼Œéƒ½å°†è¿”å›é›¶ä½œä¸ºé€€å‡ºçŠ¶æ€ã€‚
.RE
.PP
\fB\-\-root=\fP\fIPATH\fP
.RS 4
ä½¿ç”¨ \fBcat\-files\fP å’Œ \fBverify\fPï¼Œå¯¹æŒ‡å®šæ ¹è·¯å¾„ \fIPATH\fP\& ä¸‹çš„æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚
.RE
.PP
\fB\-\-image=\fP\fIPATH\fP
.RS 4
ä½¿ç”¨ \fBcat\-files\fP å’Œ \fBverify\fPï¼Œå¯¹æŒ‡å®šå›¾ç‰‡è·¯å¾„ \fIPATH\fP\& å†…çš„æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚
.RE
.PP
\fB\-\-offline=\fP\fIBOOL\fP
.RS 4
ä½¿ç”¨ \fBsecurity\fPï¼Œå¯¹æŒ‡å®šå…ƒæ–‡ä»¶ i\&.e\& è¿›è¡Œç¦»çº¿å®‰å…¨å®¡æŸ¥ã€‚ä¸å¿…ä¾èµ– PID 1 æ¥è·å–æ–‡ä»¶çš„å®‰å…¨ä¿¡æ¯ï¼Œå°±åƒ \fBsecurity\fP
åŠ¨è¯å•ç‹¬ä½¿ç”¨æ—¶ä¸€æ · \&ã€‚è¿™æ„å‘³ç€ \fB\-\-offline=\fP ä¹Ÿå¯ä»¥ä¸ \fB\-\-root=\fP å’Œ \fB\-\-image=\fP ä¸€èµ·ä½¿ç”¨ \&ã€‚å¦‚æœå…ƒ
\*(Aqs æ•´ä½“æ›å…‰æ°´å¹³é«˜äº \fB\-\-threshold=\fP è®¾ç½®çš„æ°´å¹³ (é»˜è®¤å€¼ä¸º 100)ï¼Œ\fB\-\-offline=\fP å°†è¿”å›é”™è¯¯ \&ã€‚
.RE
.PP
\fB\-\-profile=\fP\fIPATH\fP
.RS 4
å¯¹äº \fBsecurity\fP \fB\-\-offline=\fPï¼Œåœ¨è¯„ä¼°å…ƒè®¾ç½® \&
æ—¶è€ƒè™‘æŒ‡å®šçš„ä¾¿æºå¼é…ç½®æ–‡ä»¶ã€‚é…ç½®æ–‡ä»¶å¯ä»¥æŒ‰åç§°ä¼ é€’ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å°†æœç´¢ä¼—æ‰€å‘¨çŸ¥çš„ç³»ç»Ÿä½ç½®ï¼Œæˆ–è€…å®ƒå¯ä»¥æ˜¯ç‰¹å®šä¸¢å¼ƒ \- in æ–‡ä»¶çš„å®Œæ•´è·¯å¾„ \&ã€‚
.RE
.PP
\fB\-\-threshold=\fP\fINUMBER\fP
.RS 4
ä½¿ç”¨ \fBsecurity\fPï¼Œå…è®¸ç”¨æˆ·ä¸ºæŒ‡å®šçš„å…ƒæ–‡ä»¶è®¾ç½®ä¸€ä¸ªè‡ªå®šä¹‰å€¼æ¥æ¯”è¾ƒæ•´ä½“æ›å…‰çº§åˆ« \&ã€‚å¦‚æœä¸€ä¸ªå…ƒ \*(Aqs
æ•´ä½“æš´éœ²æ°´å¹³ï¼Œå¤§äºç”¨æˆ·è®¾ç½®çš„ï¼Œ\fBsecurity\fP å°†è¿”å›ä¸€ä¸ªé”™è¯¯ \&ã€‚ \fB\-\-threshold=\fP ä¹Ÿå¯ä»¥ä¸ \fB\-\-offline=\fP
ä¸€èµ·ä½¿ç”¨ï¼Œå…¶é»˜è®¤å€¼ä¸º 100\&ã€‚
.RE
.PP
\fB\-\-security\-policy=\fP\fIPATH\fP
.RS 4
ä½¿ç”¨ \fBsecurity\fPï¼Œå…è®¸ç”¨æˆ·å®šä¹‰ä¸€ç»„æ ¼å¼ä¸º JSON æ–‡ä»¶çš„è‡ªå®šä¹‰è¦æ±‚ï¼Œç”¨äºæ¯”è¾ƒæŒ‡å®šçš„å…ƒ file(s) å¹¶ç¡®å®šä»–ä»¬å¯¹å®‰å…¨å¨èƒçš„æ€»ä½“æš´éœ²çº§åˆ«
\&ã€‚
.sp
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.br
\fBTable\ \&1.\ \&Accepted Assessment Test Identifiers\fP
.TS
allbox tab(:);
lB.
T{
Assessment Test Identifier
T}
.T&
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l
l.
T{
UserOrDynamicUser
T}
T{
SupplementaryGroups
T}
T{
PrivateMounts
T}
T{
PrivateDevices
T}
T{
PrivateTmp
T}
T{
PrivateNetwork
T}
T{
PrivateUsers
T}
T{
ProtectControlGroups
T}
T{
ProtectKernelModules
T}
T{
ProtectKernelTunables
T}
T{
ProtectKernelLogs
T}
T{
ProtectClock
T}
T{
ProtectHome
T}
T{
ProtectHostname
T}
T{
ProtectSystem
T}
T{
RootDirectoryOrRootImage
T}
T{
LockPersonality
T}
T{
MemoryDenyWriteExecute
T}
T{
NoNewPrivileges
T}
T{
CapabilityBoundingSet_CAP_SYS_ADMIN
T}
T{
CapabilityBoundingSet_CAP_SET_UID_GID_PCAP
T}
T{
CapabilityBoundingSet_CAP_SYS_PTRACE
T}
T{
CapabilityBoundingSet_CAP_SYS_TIME
T}
T{
CapabilityBoundingSet_CAP_NET_ADMIN
T}
T{
CapabilityBoundingSet_CAP_SYS_RAWIO
T}
T{
CapabilityBoundingSet_CAP_SYS_MODULE
T}
T{
CapabilityBoundingSet_CAP_AUDIT
T}
T{
CapabilityBoundingSet_CAP_SYSLOG
T}
T{
CapabilityBoundingSet_CAP_SYS_NICE_RESOURCE
T}
T{
CapabilityBoundingSet_CAP_MKNOD
T}
T{
CapabilityBoundingSet_CAP_CHOWN_FSETID_SETFCAP
T}
T{
CapabilityBoundingSet_CAP_DAC_FOWNER_IPC_OWNER
T}
T{
CapabilityBoundingSet_CAP_KILL
T}
T{
CapabilityBoundingSet_CAP_NET_BIND_SERVICE_BROADCAST_RAW
T}
T{
CapabilityBoundingSet_CAP_SYS_BOOT
T}
T{
CapabilityBoundingSet_CAP_MAC
T}
T{
CapabilityBoundingSet_CAP_LINUX_IMMUTABLE
T}
T{
CapabilityBoundingSet_CAP_IPC_LOCK
T}
T{
CapabilityBoundingSet_CAP_SYS_CHROOT
T}
T{
CapabilityBoundingSet_CAP_BLOCK_SUSPEND
T}
T{
CapabilityBoundingSet_CAP_WAKE_ALARM
T}
T{
CapabilityBoundingSet_CAP_LEASE
T}
T{
CapabilityBoundingSet_CAP_SYS_TTY_CONFIG
T}
T{
UMask
T}
T{
KeyringMode
T}
T{
ProtectProc
T}
T{
ProcSubset
T}
T{
NotifyAccess
T}
T{
RemoveIPC
T}
T{
Delegate
T}
T{
RestrictRealtime
T}
T{
RestrictSUIDSGID
T}
T{
RestrictNamespaces_user
T}
T{
RestrictNamespaces_mnt
T}
T{
RestrictNamespaces_ipc
T}
T{
RestrictNamespaces_pid
T}
T{
RestrictNamespaces_cgroup
T}
T{
RestrictNamespaces_uts
T}
T{
RestrictNamespaces_net
T}
T{
RestrictAddressFamilies_AF_INET_INET6
T}
T{
RestrictAddressFamilies_AF_UNIX
T}
T{
RestrictAddressFamilies_AF_NETLINK
T}
T{
RestrictAddressFamilies_AF_PACKET
T}
T{
RestrictAddressFamilies_OTHER
T}
T{
SystemCallArchitectures
T}
T{
SystemCallFilter_swap
T}
T{
SystemCallFilter_obsolete
T}
T{
SystemCallFilter_clock
T}
T{
SystemCallFilter_cpu_emulation
T}
T{
SystemCallFilter_debug
T}
T{
SystemCallFilter_mount
T}
T{
SystemCallFilter_module
T}
T{
SystemCallFilter_raw_io
T}
T{
SystemCallFilter_reboot
T}
T{
SystemCallFilter_privileged
T}
T{
SystemCallFilter_resources
T}
T{
IPAddressDeny
T}
T{
DeviceAllow
T}
T{
AmbientCapabilities
T}
.TE
.sp 1
è¯·å‚è§ä¸‹é¢çš„ç¤ºä¾‹ "JSON Policy"\&ã€‚
.RE
.PP
\fB\-\-json=\fP\fIMODE\fP
.RS 4
ä½¿ç”¨ \fBsecurity\fP å‘½ä»¤ï¼Œç”Ÿæˆå®‰å…¨åˆ†æè¡¨çš„ JSON æ ¼å¼è¾“å‡º \&ã€‚æ ¼å¼æ˜¯ä¸€ä¸ª JSON æ•°ç»„ï¼Œå…¶å¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µ: \fIset\fP
æŒ‡ç¤ºè®¾ç½®æ˜¯å¦å·²å¯ç”¨ï¼Œ\fIname\fP ç”¨äºå¼•ç”¨è®¾ç½®ï¼Œ\fIjson_field\fP æ˜¯è®¾ç½®çš„ JSON å…¼å®¹æ ‡è¯†ç¬¦ï¼Œ\fIdescription\fP
æ˜¯è®¾ç½®çŠ¶æ€çš„è½®å»“ï¼Œ\fIexposure\fP æ˜¯ 0\&.0\&...10\&.0 èŒƒå›´å†…çš„æ•°å­—ï¼Œå…¶ä¸­è¾ƒé«˜çš„å€¼å¯¹åº”äºè¾ƒé«˜çš„å®‰å…¨å¨èƒ \&ã€‚è¡¨çš„ JSON
ç‰ˆæœ¬è¢«æ‰“å°åˆ°æ ‡å‡†è¾“å‡º \&ã€‚ä¼ é€’ç»™è¯¥é€‰é¡¹çš„ \fIMODE\fP å¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰ä¸ªä¹‹ä¸€: é»˜è®¤çš„ \fBoff\fPã€\fBpretty\fP å’Œ
\fBshort\fPï¼Œå®ƒä»¬åˆ†åˆ«è¾“å‡ºå®‰å…¨è¡¨çš„ç¾åŒ–æˆ–ç¼©çŸ­çš„ JSON ç‰ˆæœ¬ \&ã€‚ä½¿ç”¨ \fBplot\fP å‘½ä»¤ï¼Œç”ŸæˆåŸå§‹æ—¶é—´æ•°æ®çš„ JSON æ ¼å¼è¾“å‡º
\&ã€‚æ ¼å¼ä¸º JSON æ•°ç»„ï¼Œå¯¹è±¡åŒ…å«ä»¥ä¸‹å­—æ®µ: \fIname\fP ä¸ºå…ƒåç§°ï¼Œ\fIactivated\fP
ä¸ºå¯åŠ¨åæœåŠ¡è¢«æ¿€æ´»çš„æ—¶é—´ï¼Œ\fIactivating\fP ä¸ºå¯åŠ¨åæœåŠ¡æœ€åˆå¯åŠ¨çš„æ—¶é—´ï¼Œ\fItime\fP
ä¸ºå¤šé•¿æ—¶é—´æœåŠ¡ä»æœ€åˆå¯åŠ¨æ—¶å¼€å§‹æ¿€æ´»ï¼Œ\fIdeactivated\fP æ˜¯å¯åŠ¨åæœåŠ¡è¢«åœç”¨çš„æ—¶é—´ï¼Œ\fIdeactivating\fP
æ˜¯å¯åŠ¨åæœåŠ¡æœ€åˆè¢«å‘ŠçŸ¥åœç”¨çš„æ—¶é—´ \&ã€‚
.RE
.PP
\fB\-\-iterations=\fP\fINUMBER\fP
.RS 4
å½“ä¸ \fBcalendar\fP å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ˜¾ç¤ºæŒ‡å®šæ—¥å†è¡¨è¾¾å¼æ¥ä¸‹æ¥å°†ç»è¿‡çš„æŒ‡å®šè¿­ä»£æ¬¡æ•° \&ã€‚é»˜è®¤ä¸º 1\&ã€‚
.RE
.PP
\fB\-\-base\-time=\fP\fITIMESTAMP\fP
.RS 4
ä¸ \fBcalendar\fP å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ˜¾ç¤ºç›¸å¯¹äºæŒ‡å®šæ—¶é—´ç‚¹çš„ä¸‹ä¸€æ¬¡è¿­ä»£ \&ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºå½“å‰æ—¶é—´ \&ã€‚
.RE
.PP
\fB\-\-unit=\fP\fIUNIT\fP
.RS 4
ä¸ \fBcondition\fP å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè®¡ç®—æŒ‡å®šå…ƒæ–‡ä»¶ä¸­çš„æ‰€æœ‰ \fICondition*=\&.\&.\&.\fP å’Œ
\fIAssert*=\&.\&.\&.\fP èµ‹å€¼ \&ã€‚å®Œæ•´çš„å…ƒæœç´¢è·¯å¾„æ˜¯é€šè¿‡å°†æŒ‡å®šå…ƒçš„ç›®å½•ä¸é€šå¸¸çš„å…ƒåŠ è½½è·¯å¾„ \& ç»„åˆè€Œæˆçš„ã€‚æ”¯æŒå˜é‡
\fI$SYSTEMD_UNIT_PATH\fPï¼Œå¯ç”¨äºæ›¿æ¢æˆ–æ‰©å……å·²ç¼–è¯‘çš„å•å…ƒåŠ è½½è·¯å¾„é›†; è¯·å‚è§
\fBsystemd.unit\fP(5)\&ã€‚åŒ…å«æŒ‡å®šå…ƒçš„ç›®å½•ä¸­å­˜åœ¨çš„æ‰€æœ‰å•å…ƒæ–‡ä»¶å°†ä¼˜å…ˆäºå…¶ä»–è·¯å¾„ \& ä½¿ç”¨ã€‚
.RE
.PP
\fB\-\-table\fP
.RS 4
å½“ä¸ \fBplot\fP å‘½ä»¤ä¸€èµ·ä½¿ç”¨æ—¶ï¼ŒåŸå§‹æ—¶é—´æ•°æ®åœ¨è¡¨ä¸­è¾“å‡º \&ã€‚
.RE
.PP
\fB\-\-no\-legend\fP
.RS 4
å½“ \fBplot\fP å‘½ä»¤ä¸ \fB\-\-table\fP æˆ– \fB\-\-json=\fP ç»“åˆä½¿ç”¨æ—¶ï¼Œè¾“å‡ºä¸­ä¸åŒ…å«å›¾ä¾‹æˆ–æç¤º \&ã€‚
.RE
.PP
\fB\-H\fP, \fB\-\-host=\fP
.RS 4
è¿œç¨‹æ‰§è¡Œæ“ä½œ \&ã€‚æŒ‡å®šä¸»æœºåï¼Œæˆ–ç”¨ "@" åˆ†éš”çš„ç”¨æˆ·åå’Œä¸»æœºåï¼Œä»¥è¿æ¥åˆ° \&ã€‚ä¸»æœºåå¯ä»¥é€‰æ‹©ä»¥ ssh æ­£åœ¨ä¾¦å¬çš„ç«¯å£ä¸ºåç¼€ï¼Œç”± ":"
åˆ†éš”ï¼Œç„¶åæ˜¯å®¹å™¨åç§°ï¼Œç”± "/" åˆ†éš”ï¼Œå®ƒç›´æ¥è¿æ¥åˆ°æŒ‡å®šä¸»æœºä¸Šçš„ç‰¹å®šå®¹å™¨ \&ã€‚è¿™å°†ä½¿ç”¨ SSH ä¸è¿œç¨‹æœºå™¨ç®¡ç†å™¨å®ä¾‹å¯¹è¯ã€‚å®¹å™¨åç§°å¯ä»¥ç”¨
\fBmachinectl \-H \fP\fIHOST\fP\& æšä¸¾ã€‚å°† IPv6 åœ°å€æ”¾åœ¨æ‹¬å· \& ä¸­ã€‚
.RE
.PP
\fB\-M\fP, \fB\-\-machine=\fP
.RS 4
åœ¨æœ¬åœ°å®¹å™¨ä¸Šæ‰§è¡Œæ“ä½œ \&ã€‚æŒ‡å®šè¦è¿æ¥çš„å®¹å™¨åç§°ï¼Œå¯ä»¥é€‰æ‹©ä»¥è¦è¿æ¥çš„ç”¨æˆ·åå’Œåˆ†éš”ç¬¦ "@"\& ä½œä¸ºå‰ç¼€ã€‚å¦‚æœä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ä¸² "\&.host"
ä»£æ›¿å®¹å™¨åç§°ï¼Œåˆ™ä¼šå»ºç«‹åˆ°æœ¬åœ°ç³»ç»Ÿçš„è¿æ¥ (è¿™å¯¹äºè¿æ¥åˆ°ç‰¹å®šç”¨æˆ· \* (Aqs ç”¨æˆ·æ€»ï¼Œå­—ç¬¦ä¸²: "\-\-user
\-\-machine=lennart@\&.host") \& å¾ˆæœ‰ç”¨ã€‚å¦‚æœä¸ä½¿ç”¨ "@" è¯­æ³•ï¼Œåˆ™ä»¥ root ç”¨æˆ·èº«ä»½å»ºç«‹è¿æ¥ \&ã€‚å¦‚æœä½¿ç”¨ "@"
è¯­æ³•ï¼Œåˆ™å¯ä»¥çœç•¥å·¦ä¾§æˆ–å³ä¾§ (ä½†ä¸èƒ½åŒæ—¶çœç•¥ä¸¤è€…)ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéšå«æœ¬åœ°ç”¨æˆ·åå’Œ "\&.host"\&ã€‚
.RE
.PP
\fB\-\-quiet\fP
.RS 4
æŠ‘åˆ¶æç¤ºå’Œå…¶ä»–éå¿…è¦çš„è¾“å‡º \&ã€‚
.RE
.PP
\fB\-h\fP, \fB\-\-help\fP
.RS 4
æ‰“å°ä¸€ä¸ªç®€çŸ­çš„å¸®åŠ©æ–‡æœ¬å¹¶é€€å‡º \&ã€‚
.RE
.PP
\fB\-\-version\fP
.RS 4
æ‰“å°ä¸€ä¸ªçŸ­ç‰ˆæœ¬å­—ç¬¦ä¸²å¹¶é€€å‡º \&ã€‚
.RE
.PP
\fB\-\-no\-pager\fP
.RS 4
ä¸è¦å°†è¾“å‡ºé€šè¿‡ç®¡é“ä¼ è¾“åˆ°å¯»å‘¼æœº \&ã€‚
.RE
.SH "EXIT STATUS"
.PP
å¯¹äºå¤§å¤šæ•°å‘½ä»¤ï¼ŒæˆåŠŸæ—¶è¿”å› 0ï¼Œå¦åˆ™è¿”å›éé›¶å¤±è´¥ä»£ç  \&ã€‚
.PP
å¯¹äºåŠ¨è¯ \fBcompare\-versions\fPï¼Œåœ¨åŒå‚æ•°å½¢å¼ä¸­ï¼Œå¦‚æœç¬¬äºŒä¸ªç‰ˆæœ¬å­—ç¬¦ä¸²åˆ†åˆ«å¤§äºã€ç­‰äºæˆ–å°äºç¬¬ä¸€ä¸ª \&ï¼Œåˆ™è¿”å›
\fB12\fPã€\fB0\fPã€\fB11\fPã€‚åœ¨ä¸‰å‚æ•°å½¢å¼ä¸­ï¼Œå¦‚æœæ¡ä»¶ä¸ºçœŸæˆ–å‡åˆ™åˆ†åˆ«ä¸º \fB0\fP æˆ– \fB1\fP\&ã€‚
.SH ENVIRONMENT
.PP
\fI$SYSTEMD_LOG_LEVEL\fP
.RS 4
å‘å‡ºæ¶ˆæ¯çš„æœ€å¤§æ—¥å¿—çº§åˆ« (å…·æœ‰æ›´é«˜æ—¥å¿—çº§åˆ«çš„æ¶ˆæ¯ï¼Œi\&.e\&ã€‚ä¸å¤ªé‡è¦çš„æ¶ˆæ¯å°†è¢«æŠ‘åˆ¶)
\&ã€‚\fBemerg\fPã€\fBalert\fPã€\fBcrit\fPã€\fBerr\fPã€\fBwarning\fPã€\fBnotice\fPã€\fBinfo\fPã€\fBdebug\fP ä¹‹ä¸€
(æŒ‰é‡è¦æ€§é€’å‡é¡ºåº) æˆ– 0\&...7\& èŒƒå›´å†…çš„æ•´æ•°ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ \fBsyslog\fP(3)\&ã€‚
.RE
.PP
\fI$SYSTEMD_LOG_COLOR\fP
.RS 4
ä¸€ä¸ªå¸ƒå°”å€¼ \&ã€‚å¦‚æœä¸ºçœŸï¼Œå†™å…¥ tty çš„æ¶ˆæ¯å°†æ ¹æ®ä¼˜å…ˆçº§ç€è‰²ã€‚
.sp
è¿™ä¸ªè®¾ç½®åªåœ¨æ¶ˆæ¯ç›´æ¥å†™å…¥ç»ˆç«¯æ—¶æ‰æœ‰ç”¨ï¼Œå› ä¸º \fBjournalctl\fP(1) ç­‰æ˜¾ç¤ºæ—¥å¿—çš„å·¥å…·ä¼šè‡ªè¡Œæ ¹æ®æ—¥å¿—çº§åˆ«ç»™æ¶ˆæ¯ç€è‰² \&ã€‚
.RE
.PP
\fI$SYSTEMD_LOG_TIME\fP
.RS 4
ä¸€ä¸ªå¸ƒå°”å€¼ \&ã€‚å¦‚æœä¸º trueï¼Œæ§åˆ¶å°æ—¥å¿—æ¶ˆæ¯å°†ä»¥æ—¶é—´æˆ³ \& ä¸ºå‰ç¼€ã€‚
.sp
è¿™ä¸ªè®¾ç½®åªåœ¨æ¶ˆæ¯ç›´æ¥å†™å…¥ç»ˆç«¯æˆ–æ–‡ä»¶æ—¶æ‰æœ‰ç”¨ï¼Œå› ä¸º \fBjournalctl\fP(1) ç­‰æ˜¾ç¤ºæ—¥å¿—çš„å·¥å…·ä¼šæ ¹æ®æ¡ç›®å…ƒæ•°æ®è‡ªè¡Œé™„åŠ æ—¶é—´æˆ³ \&ã€‚
.RE
.PP
\fI$SYSTEMD_LOG_LOCATION\fP
.RS 4
ä¸€ä¸ªå¸ƒå°”å€¼ \&ã€‚å¦‚æœä¸º trueï¼Œæ¶ˆæ¯å°†åœ¨æºä»£ç ä¸­ä»¥æ–‡ä»¶åå’Œè¡Œå·ä¸ºå‰ç¼€ \&ã€‚
.sp
è¯·æ³¨æ„ï¼Œæ—¥å¿—ä½ç½®é€šå¸¸ä½œä¸ºå…ƒæ•°æ®é™„åŠ åˆ°æ—¥å¿—æ¡ç›®ä¸­ã€‚å°½ç®¡å¦‚æ­¤ï¼Œåœ¨è°ƒè¯•ç¨‹åºæ—¶å°†å®ƒç›´æ¥åŒ…å«åœ¨æ¶ˆæ¯æ–‡æœ¬ä¸­è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ \&ã€‚
.RE
.PP
\fI$SYSTEMD_LOG_TID\fP
.RS 4
ä¸€ä¸ªå¸ƒå°”å€¼ \&ã€‚å¦‚æœä¸ºçœŸï¼Œæ¶ˆæ¯å°†ä»¥å½“å‰æ•°å­—çº¿ç¨‹ ID (TID)\& ä¸ºå‰ç¼€ã€‚
.sp
è¯·æ³¨æ„ï¼Œæ­¤ä¿¡æ¯æ— è®ºå¦‚ä½•éƒ½ä½œä¸ºå…ƒæ•°æ®é™„åŠ åˆ°æ—¥è®°æ¡ç›® \&ã€‚å°½ç®¡å¦‚æ­¤ï¼Œåœ¨è°ƒè¯•ç¨‹åºæ—¶å°†å®ƒç›´æ¥åŒ…å«åœ¨æ¶ˆæ¯æ–‡æœ¬ä¸­è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ \&ã€‚
.RE
.PP
\fI$SYSTEMD_LOG_TARGET\fP
.RS 4
æ—¥å¿—æ¶ˆæ¯çš„ç›®çš„åœ° \&ã€‚\fBconsole\fP (è®°å½•åˆ°é™„åŠ çš„ tty)ã€\fBconsole\-prefixed\fP (è®°å½•åˆ°é™„åŠ çš„
ttyï¼Œä½†å¸¦æœ‰ç¼–ç æ—¥å¿—çº§åˆ«å’Œ "facility" çš„å‰ç¼€ï¼Œå‚è§ \fBsyslog\fP(3)ã€\fBkmsg\fP
(è®°å½•åˆ°å†…æ ¸å¾ªç¯æ—¥å¿—ç¼“å†²åŒº)ã€\fBjournal\fP (è®°å½•åˆ°æ—¥å¿—) ä¹‹ä¸€ï¼Œ\fBjournal\-or\-kmsg\fP (å¦‚æœå¯ç”¨åˆ™è®°å½•åˆ°æ—¥å¿—ï¼Œå¦åˆ™è®°å½•åˆ°
kmsg)ï¼Œ\fBauto\fP (è‡ªåŠ¨ç¡®å®šé€‚å½“çš„æ—¥å¿—ç›®æ ‡ï¼Œé»˜è®¤)ï¼Œ\fBnull\fP (ç¦ç”¨æ—¥å¿—è¾“å‡º) \&ã€‚
.RE
.PP
\fI$SYSTEMD_PAGER\fP
.RS 4
æœªç»™å‡º \fB\-\-no\-pager\fP æ—¶ä½¿ç”¨çš„å¯»å‘¼æœº; è¦†ç›– \fI$PAGER\fP\&ã€‚å¦‚æœ \fI$SYSTEMD_PAGER\fP å’Œ \fI$PAGER\fP
éƒ½æ²¡æœ‰è®¾ç½®ï¼Œåˆ™ä¾æ¬¡å°è¯•ä¸€ç»„ä¼—æ‰€å‘¨çŸ¥çš„å¯»å‘¼æœºå®ç°ï¼ŒåŒ…æ‹¬ \fBless\fP(1) å’Œ \fBmore\fP(1)ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ª
\&ã€‚å¦‚æœæ²¡æœ‰å‘ç°å¯»å‘¼æœºå®ç°ï¼Œåˆ™ä¸è°ƒç”¨å¯»å‘¼æœº \&ã€‚å°†æ­¤ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²æˆ–å€¼ "cat" ç­‰åŒäºä¼ é€’ \fB\-\-no\-pager\fP\&ã€‚
.sp
Note: å¦‚æœæœªè®¾ç½® \fI$SYSTEMD_PAGERSECURE\fPï¼Œ\fI$SYSTEMD_PAGER\fP (ä»¥åŠ \fI$PAGER\fP) å°†è¢«å¿½ç•¥
\&ã€‚
.RE
.PP
\fI$SYSTEMD_LESS\fP
.RS 4
è¦†ç›–ä¼ é€’ç»™ \fBless\fP (é»˜è®¤ "FRSXMK") \& çš„é€‰é¡¹ã€‚
.sp
ç”¨æˆ·å¯èƒ½å¸Œæœ›ç‰¹åˆ«æ›´æ”¹ä¸¤ä¸ªé€‰é¡¹:
.PP
\fBK\fP
.RS 4
æ­¤é€‰é¡¹æŒ‡ç¤ºå¯»å‘¼æœºåœ¨æŒ‰ä¸‹ Ctrl+C æ—¶ç«‹å³é€€å‡º \&ã€‚è¦å…è®¸ \fBless\fP è‡ªå·±å¤„ç† Ctrl+C ä»¥åˆ‡æ¢å›å¯»å‘¼æœºå‘½ä»¤æç¤ºç¬¦ï¼Œè¯·å–æ¶ˆè®¾ç½®æ­¤é€‰é¡¹
\&ã€‚
.sp
å¦‚æœ \fI$SYSTEMD_LESS\fP çš„å€¼ä¸åŒ…æ‹¬ "K"ï¼Œè°ƒç”¨çš„åˆ†é¡µå™¨æ˜¯ \fBless\fPï¼ŒCtrl+C ä¼šè¢«å¯æ‰§è¡Œæ–‡ä»¶å¿½ç•¥ï¼Œéœ€è¦åˆ†é¡µå™¨å¤„ç† \&ã€‚
.RE
.PP
\fBX\fP
.RS 4
æ­¤é€‰é¡¹æŒ‡ç¤ºå¯»å‘¼æœºä¸å°† termcap åˆå§‹åŒ–å’Œå–æ¶ˆåˆå§‹åŒ–å­—ç¬¦ä¸²å‘é€åˆ°ç»ˆç«¯ \&ã€‚å®ƒé»˜è®¤è®¾ç½®ä¸ºå…è®¸å‘½ä»¤è¾“å‡ºåœ¨ç»ˆç«¯ä¸­ä¿æŒå¯è§ï¼Œå³ä½¿åœ¨å¯»å‘¼æœºé€€å‡º \&
ä¹‹åä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç„¶è€Œï¼Œè¿™ä¼šé˜»æ­¢æŸäº›å¯»å‘¼æœºåŠŸèƒ½å·¥ä½œï¼Œç‰¹åˆ«æ˜¯æ— æ³•ä½¿ç”¨é¼ æ ‡æ»šåŠ¨åˆ†é¡µè¾“å‡ºã€‚
.RE
.sp
æœ‰å…³æ›´å¤šè®¨è®ºï¼Œè¯·å‚è§ \fBless\fP(1)\&ã€‚
.RE
.PP
\fI$SYSTEMD_LESSCHARSET\fP
.RS 4
è¦†ç›–ä¼ é€’ç»™ \fBless\fP çš„å­—ç¬¦é›† (é»˜è®¤ä¸º "utf\-8"ï¼Œå¦‚æœè°ƒç”¨ç»ˆç«¯è¢«ç¡®å®šä¸ºä¸ UTF\-8 å…¼å®¹) \&ã€‚
.RE
.PP
\fI$SYSTEMD_PAGERSECURE\fP
.RS 4
é‡‡ç”¨å¸ƒå°”å‹å‚æ•° \&ã€‚ä¸ºçœŸæ—¶ï¼Œå¯ç”¨å¯»å‘¼æœºçš„ "secure" æ¨¡å¼; å¦‚æœä¸ºå‡ï¼Œåˆ™ç¦ç”¨ \&ã€‚å¦‚æœæ ¹æœ¬æœªè®¾ç½®
\fI$SYSTEMD_PAGERSECURE\fPï¼Œåˆ™åœ¨æœ‰æ•ˆ UID ä¸ç™»å½•ä¼šè¯çš„æ‰€æœ‰è€…ä¸åŒæ—¶å¯ç”¨å®‰å…¨æ¨¡å¼ï¼Œè¯·å‚è§ \fBgeteuid\fP(2) å’Œ
\fBsd_pid_get_owner_uid\fP(3)\&ã€‚åœ¨å®‰å…¨æ¨¡å¼ä¸‹ï¼Œè°ƒç”¨å¯»å‘¼æœºæ—¶å°†è®¾ç½®
\fBLESSSECURE=1\fPï¼Œå¯»å‘¼æœºåº”ç¦ç”¨æ‰“å¼€æˆ–åˆ›å»ºæ–°æ–‡ä»¶æˆ–å¯åŠ¨æ–°å­è¿›ç¨‹çš„å‘½ä»¤ \&ã€‚å½“æ ¹æœ¬æ²¡æœ‰è®¾ç½® \fI$SYSTEMD_PAGERSECURE\fP
æ—¶ï¼Œå°†ä¸ä¼šä½¿ç”¨æœªçŸ¥å®ç°å®‰å…¨æ¨¡å¼çš„å¯»å‘¼æœº \&ã€‚(ç›®å‰åªæœ‰ \fBless\fP(1) å®ç°äº†å®‰å…¨æ¨¡å¼ \&ã€‚)
.sp
Note: å½“ä»¥æå‡çš„æƒé™è°ƒç”¨å‘½ä»¤æ—¶ï¼Œä¾‹å¦‚åœ¨ \fBsudo\fP(8) æˆ– \fBpkexec\fP(1) ä¸‹ï¼Œå¿…é¡»å°å¿ƒç¡®ä¿æœªå¯ç”¨æ„å¤–çš„äº¤äº’ï¼Œç‰¹æ€§ \&ã€‚å¯»å‘¼æœºçš„
"Secure" æ¨¡å¼å¯ä»¥å¦‚ä¸Šæ‰€è¿°è‡ªåŠ¨å¯ç”¨ \&ã€‚è®¾ç½® \fISYSTEMD_PAGERSECURE=0\fP æˆ–ä¸å°†å…¶ä»ç»§æ‰¿ç¯å¢ƒä¸­åˆ é™¤å…è®¸ç”¨æˆ·è°ƒç”¨ä»»æ„å‘½ä»¤
\&ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœè¦å…‘ç° \fI$SYSTEMD_PAGER\fP æˆ– \fI$PAGER\fP å˜é‡ï¼Œåˆ™å¿…é¡»åŒæ—¶è®¾ç½®
\fI$SYSTEMD_PAGERSECURE\fP\&ã€‚æ”¹ä¸ºä½¿ç”¨ \fB\-\-no\-pager\fP\& å®Œå…¨ç¦ç”¨å¯»å‘¼æœºå¯èƒ½æ˜¯åˆç†çš„ã€‚
.RE
.PP
\fI$SYSTEMD_COLORS\fP
.RS 4
é‡‡ç”¨å¸ƒå°”å‹å‚æ•° \&ã€‚å½“ä¸ºçœŸæ—¶ï¼Œ\fBsystemd\fP å’Œç›¸å…³çš„å®ç”¨å·¥å…·å°†åœ¨å…¶è¾“å‡ºä¸­ä½¿ç”¨é¢œè‰²ï¼Œå¦åˆ™è¾“å‡ºå°†ä¸ºå•è‰² \&ã€‚æ­¤å¤–ï¼Œè¯¥å˜é‡å¯ä»¥é‡‡ç”¨ä»¥ä¸‹ç‰¹æ®Šå€¼ä¹‹ä¸€:
"16"ã€"256"ï¼Œåˆ†åˆ«å°†é¢œè‰²çš„ä½¿ç”¨é™åˆ¶ä¸ºåŸºæœ¬ 16 æˆ– 256 ANSI é¢œè‰² \&ã€‚è¿™å¯ä»¥è¢«æŒ‡å®šä»¥è¦†ç›–åŸºäº \fI$TERM\fP
å’Œæ§åˆ¶å°è¿æ¥åˆ°ä»€ä¹ˆçš„è‡ªåŠ¨å†³å®š \&ã€‚
.RE
.PP
\fI$SYSTEMD_URLIFY\fP
.RS 4
è¯¥å€¼å¿…é¡»æ˜¯å¸ƒå°”å€¼ \&ã€‚æ§åˆ¶æ˜¯å¦åº”åœ¨æ”¯æŒæ­¤ \& çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨çš„è¾“å‡ºä¸­ç”Ÿæˆå¯ç‚¹å‡»é“¾æ¥ã€‚è¿™å¯ä»¥è¢«æŒ‡å®šæ¥è¦†ç›– \fBsystemd\fP åŸºäº \fI$TERM\fP
å’Œå…¶ä»–æ¡ä»¶åšå‡ºçš„å†³å®š \&ã€‚
.RE
.SH EXAMPLES
.PP
\fBExample\ \&22.\ \&JSON Policy\fP
.PP
ä½œä¸ºè·¯å¾„å‚æ•°ä¼ é€’ç»™ \fB\-\-security\-policy=\fP çš„ JSON æ–‡ä»¶æœ‰ä¸€ä¸ªé¡¶çº§ JSON å¯¹è±¡ï¼Œé”®æ˜¯ä¸Šé¢æåˆ°çš„è¯„ä¼°æµ‹è¯•æ ‡è¯†ç¬¦
\&ã€‚æ–‡ä»¶ä¸­çš„å€¼åº”è¯¥æ˜¯å…·æœ‰ä»¥ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªå­—æ®µçš„ JSON å¯¹è±¡: \fBdescription_na\fP
(string)ã€\fBdescription_good\fP (string)ã€\fBdescription_bad\fP (string)ã€\fBweight\fP
(æ— ç¬¦å·æ•´æ•°) å’Œ \fBrange\fP (æ— ç¬¦å·æ•´æ•°) \&ã€‚å¦‚æœ JSON å¯¹è±¡ä¸­ç¼ºå°‘ä¸å…ƒæ–‡ä»¶çš„ç‰¹å®š id å¯¹åº”çš„è¿™äº›å­—æ®µä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œåˆ™ä½¿ç”¨ä¸ç›¸åŒ
id å¯¹åº”çš„é»˜è®¤å†…ç½®å­—æ®µå€¼ä½œä¸º default\& è¿›è¡Œå®‰å…¨åˆ†æã€‚weight å’Œ range å­—æ®µç”¨äºç¡®å®šå…ƒæ–‡ä»¶çš„æ•´ä½“æ›å…‰çº§åˆ«:
æ¯ä¸ªè®¾ç½®çš„å€¼éƒ½åˆ†é…äº†ä¸€ä¸ªä¸è‰¯åˆ†æ•°ï¼Œä¹˜ä»¥ç­–ç•¥æƒé‡å¹¶é™¤ä»¥ç­–ç•¥èŒƒå›´ä»¥ç¡®å®šè®¾ç½®çš„æ•´ä½“æ›å…‰åº¦æš—ç¤º \&ã€‚è®¡ç®—å‡ºçš„ä¸è‰¯åº¦åœ¨å…ƒæ–‡ä»¶ä¸­çš„æ‰€æœ‰è®¾ç½®ä¸­æ±‚å’Œï¼Œå½’ä¸€åŒ–åˆ°
1\&...100 èŒƒå›´ï¼Œå¹¶ç”¨äºç¡®å®šå…ƒ \& çš„æ•´ä½“æ›å…‰çº§åˆ«ã€‚é€šè¿‡å…è®¸ç”¨æˆ·æ“çºµè¿™äº›å­—æ®µï¼Œ\*(Aqsecurity\*(Aq
åŠ¨è¯è®©ä»–ä»¬å¯ä»¥é€‰æ‹©è‡ªå·±å†³å®šå“ªäº› ID æ›´é‡è¦ï¼Œå› æ­¤åº”è¯¥å¯¹æ›å…‰çº§åˆ«äº§ç”Ÿæ›´å¤§çš„å½±å“ \&ã€‚"0" çš„æƒé‡è¡¨ç¤ºä¸ä¼šæ£€æŸ¥è®¾ç½® \&ã€‚
.sp
.if  n \{\
.RS 4
.\}
.nf
{
  "PrivateDevices":
    {
    "description_good": "Service has no access to hardware devices",
    "description_bad": "Service potentially has access to hardware devices",
    "weight": 1000,
    "range": 1
    },
  "PrivateMounts":
    {
    "description_good": "Service cannot install system mounts",
    "description_bad": "Service may install system mounts",
    "weight": 1000,
    "range": 1
    },
  "PrivateNetwork":
    {
    "description_good": "Service has no access to the host\*(Aqs network",
    "description_bad": "Service has access to the host\*(Aqs network",
    "weight": 2500,
    "range": 1
    },
  "PrivateTmp":
    {
    "description_good": "Service has no access to other software\*(Aqs temporary files",
    "description_bad": "Service has access to other software\*(Aqs temporary files",
    "weight": 1000,
    "range": 1
    },
  "PrivateUsers":
    {
    "description_good": "Service does not have access to other users",
    "description_bad": "Service has access to other users",
    "weight": 1000,
    "range": 1
    }
}
      
.fi
.if  n \{\
.RE
.\}
.SH "SEE ALSO"
.PP
\fBsystemd\fP(1), \fBsystemctl\fP(1)
.SH NOTES
.IP " 1." 4
æ‰“åŒ…å…ƒæ•°æ®
.RS 4
\%https://systemd.io/COREDUMP_PACKAGE_METADATA/
.RE
.PP
.SH [æ‰‹å†Œé¡µä¸­æ–‡ç‰ˆ]
.PP
æœ¬ç¿»è¯‘ä¸ºå…è´¹æ–‡æ¡£ï¼›é˜…è¯»
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU é€šç”¨å…¬å…±è®¸å¯è¯ç¬¬ 3 ç‰ˆ
.UE
æˆ–ç¨åçš„ç‰ˆæƒæ¡æ¬¾ã€‚å› ä½¿ç”¨è¯¥ç¿»è¯‘è€Œé€ æˆçš„ä»»ä½•é—®é¢˜å’ŒæŸå¤±å®Œå…¨ç”±æ‚¨æ‰¿æ‹…ã€‚
.PP
è¯¥ä¸­æ–‡ç¿»è¯‘ç”± wtklbm
.B <wtklbm@gmail.com>
æ ¹æ®ä¸ªäººå­¦ä¹ éœ€è¦åˆ¶ä½œã€‚
.PP
é¡¹ç›®åœ°å€:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME ã€‚
