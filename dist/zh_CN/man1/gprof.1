.\" -*- coding: UTF-8 -*-
.de  Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.43)
.\"
.\" Standard preamble:
.\" ========================================================================
.de  Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de  Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie  n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.de  IX
..
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.nr rF 0
.if  \n(.g .if rF .nr rF 1
.if  (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" fudge factors for nroff and troff
.    
.if  n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.if  t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.\" simple accents for nroff and troff
.    
.if  n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if  t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.\" troff and (daisy-wheel) nroff accents
.    
.ds : \k:\h'-(\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \k:\h'-(\n(.wu+\w'\(de'u\-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\fI\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.\" corrections for vroff
.    
.if  v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if  v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.\" for low resolution devices (crt and lpr)
.    
.if  \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "GPROF 1"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH GPROF 1 2023\-02\-03 binutils\-2.40 GNU
.if  n .ad l
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.nh
.SH NAME
gprof \- 显示调用图剖面数据
.SH SYNOPSIS
.IX Header SYNOPSIS
gprof [ \-[abcDhilLrsTvwxyz] ] [ \-[ABCeEfFJnNOpPqQRStZ][\fIname\fP] ]
 [ \-I \fIdirs\fP ] [ \-d[\fInum\fP] ] [ \-k \fIfrom/to\fP ]
 [ \-m \fImin\-count\fP ] [ \-R \fImap_file\fP ] [ \-t \fItable\-length\fP ]
 [ \-\-[no\-]annotated\-source[=\fIname\fP] ]
 [ \-\-[no\-]exec\-counts[=\fIname\fP] ]
 [ \-\-[no\-]flat\-profile[=\fIname\fP] ] [ \-\-[no\-]graph[=\fIname\fP] ]
 [ \-\-[no\-]time=\fIname\fP] [ \-\-all\-lines ] [ \-\-brief ]
 [ \-\-debug[=\fIlevel\fP] ] [ \-\-function\-ordering ]
 [ \-\-file\-ordering \fImap_file\fP ] [ \-\-directory\-path=\fIdirs\fP ]
 [ \-\-display\-unused\-functions ] [ \-\-file\-format=\fIname\fP ]
 [ \-\-file\-info ] [ \-\-help ] [ \-\-line ] [ \-\-inline\-file\-names ]
 [ \-\-min\-count=\fIn\fP ] [ \-\-no\-static ] [ \-\-print\-path ]
 [ \-\-separate\-files ] [ \-\-static\-call\-graph ] [ \-\-sum ]
 [ \-\-table\-length=\fIlen\fP ] [ \-\-traditional ] [ \-\-version ]
 [ \-\-width=\fIn\fP ] [ \-\-ignore\-non\-functions ]
 [ \-\-demangle[=\fI\s-1STYLE\s0\fP] ] [ \-\-no\-demangle ]
 [\-\-external\-symbol\-table=name]
 [ \fIimage\-file\fP ] [ \fIprofile\-file\fP ... ]
.SH DESCRIPTION
.IX Header DESCRIPTION
\&\f(CW\*(C`gprof\*(C'\fP 生成 C、Pascal 或 Fortran77 程序的执行配置文件。
被调用例程的效果包含在每个调用者的配置文件中。 配置文件数据取自调用图形配置文件文件 (默认为 (\fIgmon.out\fP)，该文件由使用
\&\f(CW\*(C`cc\*(C'\fP、\f(CW\*(C`pc\*(C'\fP 和 \f(CW\*(C`f77\*(C'\fP 的 \fB\-pg\fP 选项编译的程序创建。
\fB\-pg\fP 选项还链接到为分析而编译的库例程的版本。 \f(CW\*(C`Gprof\*(C'\fP 读取给定的目标文件 (默认为
\f(CW\*(C`a.out\*(C'\fP)，并建立其符号表与来自 \fIgmon.out\fP 的调用图配置文件之间的关系。 如果指定了多个概要文件，则
\f(CW\*(C`gprof\*(C'\fP 输出显示给定概要文件中的概要信息的总和。
.PP
\&\f(CW\*(C`Gprof\*(C'\fP 计算在每个例程中花费的时间量。 接下来，这些时间沿着调用图的 edges 传播。
发现周期，并调用一个周期来共享周期的时间。
.PP
从分析中可以得到几种形式的输出。
.PP
\fIflat profile\fP 显示您的程序在每个函数中花费了多少时间，以及该函数被调用了多少次。
如果您只是想知道哪个函数燃烧了最多的周期，这里简明扼要地说明了。
.PP
\fIcall graph\fP 显示，对于每个函数，哪个函数调用了它，它调用了哪个其他函数，以及调用了多少次。 还有一个估计每个函数的子程序花费了多少时间。
这可以建议您可以尝试消除占用大量时间的函数调用的地方。
.PP
\fIannotated source\fP 列表是程序源代码的副本，标有程序每行执行的次数。
.SH OPTIONS
.IX Header OPTIONS
这些选项指定 \&\f(CW\*(C`gprof\*(C'\fP 应生成几种输出格式中的哪一种。
.PP
其中许多选项采用可选的 \fIsymspec\fP 来指定要包含或排除的函数。 这些选项可以使用不同的符号规范多次指定，以包含或排除符号集。
.PP
指定这些选项中的任何一个都会覆盖默认的 (\fB\-p \-q\fP)，它会打印平面轮廓和所有函数的调用图分析。
.ie  n .IP """\-A[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-A[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-A[symspec]
.PD 0
.ie  n .IP """\-\-annotated\-source[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-annotated\-source[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-annotated\-source[=symspec]
.PD
\fB\-A\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 打印注解源代码。 如果指定了 \fIsymspec\fP，则只打印匹配符号的输出。
.ie  n .IP """\-b""" 4
.el .IP "\f(CW\-b\fR" 4
.IX Item \-b
.PD 0
.ie  n .IP """\-\-brief""" 4
.el .IP "\f(CW\-\-brief\fR" 4
.IX Item \-\-brief
.PD
如果给出 \fB\-b\fP 选项，则 \f(CW\*(C`gprof\*(C'\fP 不会打印试图解释表中所有字段含义的冗长内容。
如果您打算打印输出，或者厌倦了看到这些宣传信息，这将很有用。
.ie  n .IP """\-B""" 4
.el .IP "\f(CW\-B\fR" 4
.IX Item \-B
\fB\-B\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 打印调用图分析。
.ie  n .IP """\-C[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-C[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-C[symspec]
.PD 0
.ie  n .IP """\-\-exec\-counts[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-exec\-counts[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-exec\-counts[=symspec]
.PD
\fB\-C\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 打印一个函数计数和每个函数被调用的次数。 如果指定了
\fIsymspec\fP，则只为匹配的符号打印计数。
.Sp
如果配置文件数据文件包含基本块计数记录，则指定 \fB\-l\fP 选项以及 \fB\-C\fP 将导致计算和显示基本块执行计数。
.ie  n .IP """\-i""" 4
.el .IP "\f(CW\-i\fR" 4
.IX Item \-i
.PD 0
.ie  n .IP """\-\-file\-info""" 4
.el .IP "\f(CW\-\-file\-info\fR" 4
.IX Item \-\-file\-info
.PD
\fB\-i\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 显示有关配置文件数据 file(s) 的总结信息，然后退出。
显示直方图、调用图和基本块计数记录的数量。
.ie  n .IP """\-I \fIdirs\fP""" 4
.el .IP "\f(CW\-I \f(CIdirs\f(CW\fR" 4
.IX Item "\-I dirs"
.PD 0
.ie  n .IP """\-\-directory\-path=\fIdirs\fP""" 4
.el .IP "\f(CW\-\-directory\-path=\f(CIdirs\f(CW\fR" 4
.IX Item \-\-directory\-path=dirs
.PD
\fB\-I\fP 选项指定要在其中查找源文件的搜索目录列表。 环境变量 \fI\s-1GPROF_PATH\s0\fP 也可用于传达此信息。 主要用于注解源输出。
.ie  n .IP """\-J[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-J[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-J[symspec]
.PD 0
.ie  n .IP """\-\-no\-annotated\-source[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-no\-annotated\-source[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-no\-annotated\-source[=symspec]
.PD
\fB\-J\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 不打印注解源代码。 如果指定了 \fIsymspec\fP，则
\f(CW\*(C`gprof\*(C'\fP 打印注解源，但不包括匹配的符号。
.ie  n .IP """\-L""" 4
.el .IP "\f(CW\-L\fR" 4
.IX Item \-L
.PD 0
.ie  n .IP """\-\-print\-path""" 4
.el .IP "\f(CW\-\-print\-path\fR" 4
.IX Item \-\-print\-path
.PD
通常，打印源文件名时会抑制路径部分。 \fB\-L\fP 选项使 \f(CW\*(C`gprof\*(C'\fP
打印源文件名的完整路径名，该路径名由图像文件中的符号调试信息确定，并且与调用编译器的目录相关。
.ie  n .IP """\-p[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-p[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-p[symspec]
.PD 0
.ie  n .IP """\-\-flat\-profile[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-flat\-profile[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-flat\-profile[=symspec]
.PD
\fB\-p\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 打印平面轮廓。 如果指定了 \fIsymspec\fP，则仅为匹配的符号打印平面轮廓。
.ie  n .IP """\-P[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-P[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-P[symspec]
.PD 0
.ie  n .IP """\-\-no\-flat\-profile[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-no\-flat\-profile[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-no\-flat\-profile[=symspec]
.PD
\fB\-P\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 禁止打印平面配置文件。 如果指定 \fIsymspec\fP，则
\f(CW\*(C`gprof\*(C'\fP 打印平面轮廓，但不包括匹配符号。
.ie  n .IP """\-q[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-q[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-q[symspec]
.PD 0
.ie  n .IP """\-\-graph[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-graph[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-graph[=symspec]
.PD
\fB\-q\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 打印调用图分析。 如果指定了 \fIsymspec\fP，则只为匹配的符号及其子项打印调用图。
.ie  n .IP """\-Q[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-Q[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-Q[symspec]
.PD 0
.ie  n .IP """\-\-no\-graph[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-no\-graph[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-no\-graph[=symspec]
.PD
\fB\-Q\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 禁止打印调用图。 如果指定了 \fIsymspec\fP，则
\f(CW\*(C`gprof\*(C'\fP 打印调用图，但不包括匹配的符号。
.ie  n .IP """\-t""" 4
.el .IP "\f(CW\-t\fR" 4
.IX Item \-t
.PD 0
.ie  n .IP """\-\-table\-length=\fInum\fP""" 4
.el .IP "\f(CW\-\-table\-length=\f(CInum\f(CW\fR" 4
.IX Item \-\-table\-length=num
.PD
当启用源注解时，\fB\-t\fP 选项会导致列出每个源文件中 \fInum\fP 最活跃的源代码行。 默认值为 10。
.ie  n .IP """\-y""" 4
.el .IP "\f(CW\-y\fR" 4
.IX Item \-y
.PD 0
.ie  n .IP """\-\-separate\-files""" 4
.el .IP "\f(CW\-\-separate\-files\fR" 4
.IX Item \-\-separate\-files
.PD
此选项仅影响注解源输出。 通常，\f(CW\*(C`gprof\*(C'\fP 将源文件打印到标准输出。 如果指定了此选项，则会在文件
\fIfilename\-ann\fP 中生成名为 \fIpath/filename\fP 的文件的源代码。 如果底层文件系统将截断 \fIfilename\-ann\fP
以覆盖原始 \fIfilename\fP，则 \f(CW\*(C`gprof\*(C'\fP 会在文件 \fIfilename.ann\fP 中生成注解源
(如果原始文件名有扩展名，则该扩展名是 \fIreplaced\fP 和 \fI.ann\fP)。
.ie  n .IP """\-Z[\fIsymspec\fP]""" 4
.el .IP "\f(CW\-Z[\f(CIsymspec\f(CW]\fR" 4
.IX Item \-Z[symspec]
.PD 0
.ie  n .IP """\-\-no\-exec\-counts[=\fIsymspec\fP]""" 4
.el .IP "\f(CW\-\-no\-exec\-counts[=\f(CIsymspec\f(CW]\fR" 4
.IX Item \-\-no\-exec\-counts[=symspec]
.PD
\fB\-Z\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 不打印函数和每个被调用的次数。 如果指定了
\fIsymspec\fP，则打印计数，但排除匹配的符号。
.ie  n .IP """\-r""" 4
.el .IP "\f(CW\-r\fR" 4
.IX Item \-r
.PD 0
.ie  n .IP """\-\-function\-ordering""" 4
.el .IP "\f(CW\-\-function\-ordering\fR" 4
.IX Item \-\-function\-ordering
.PD
\fB\-\-function\-ordering\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 根据分析数据为程序打印一个建议的号码顺序。
此选项建议一种排序，它可以改进系统上程序的分页、tlb 和缓存行为，该系统支持可执行文件中的任意排序。
.Sp
如何强制链接器以特定顺序放置函数的具体细节取决于系统，并且不在本手册的使用范围内。
.ie  n .IP """\-R \fImap_file\fP""" 4
.el .IP "\f(CW\-R \f(CImap_file\f(CW\fR" 4
.IX Item "\-R map_file"
.PD 0
.ie  n .IP """\-\-file\-ordering \fImap_file\fP""" 4
.el .IP "\f(CW\-\-file\-ordering \f(CImap_file\f(CW\fR" 4
.IX Item "\-\-file\-ordering map_file"
.PD
\fB\-\-file\-ordering\fP 选项会导致 \f(CW\*(C`gprof\*(C'\fP 根据分析数据为程序打印建议的 .o 链接行排序。
此选项建议一种排序，它可以改进系统上程序的分页、tlb 和缓存行为，这些系统不支持可执行文件中任意数量的排序。
.Sp
强烈建议在此选项中使用 \fB\-a\fP 参数。
.Sp
\fImap_file\fP 参数是一个文件的路径名，它提供了目标文件映射的函数名称。 该文件的格式类似于程序 \f(CW\*(C`nm\*(C'\fP 的输出。
.Sp
.Vb 8
\& c\-parse.o:00000000 T yyparse \& c\-parse.o:00000004 C yyerrflag \&
c\-lang.o:00000000 T maybe_objc_method_name \& c\-lang.o:00000000 T
print_lang_statistics \& c\-lang.o:00000000 T recognize_objc_keyword \&
c\-decl.o:00000000 T print_lang_identifier \& c\-decl.o:00000000 T
print_lang_type \& ...
.Ve
.Sp
要创建 \fImap_file\fP 和 \s-1GNU\s0 \f(CW\*(C`nm\*(C'\fP，请键入类似 \&\f(CW\*(C`nm \-\-extern\-only \-\-defined\-only \-v \-\-print\-file\-name program\-name\*(C'\fP 的命令。
.ie  n .IP """\-T""" 4
.el .IP "\f(CW\-T\fR" 4
.IX Item \-T
.PD 0
.ie  n .IP """\-\-traditional""" 4
.el .IP "\f(CW\-\-traditional\fR" 4
.IX Item \-\-traditional
.PD
\fB\-T\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 以 \&\*(L"traditional\*(R" \s-1BSD\s0 样式打印其输出。
.ie  n .IP """\-w \fIwidth\fP""" 4
.el .IP "\f(CW\-w \f(CIwidth\f(CW\fR" 4
.IX Item "\-w width"
.PD 0
.ie  n .IP """\-\-width=\fIwidth\fP""" 4
.el .IP "\f(CW\-\-width=\f(CIwidth\f(CW\fR" 4
.IX Item \-\-width=width
.PD
将输出线的宽度设置为 \fIwidth\fP。 目前仅在调用图底部打印函数指数时使用。
.ie  n .IP """\-x""" 4
.el .IP "\f(CW\-x\fR" 4
.IX Item \-x
.PD 0
.ie  n .IP """\-\-all\-lines""" 4
.el .IP "\f(CW\-\-all\-lines\fR" 4
.IX Item \-\-all\-lines
.PD
此选项仅影响注解源输出。 默认情况下，只有基本块开头的行是注解。 如果指定了此选项，则基本块中的每一行都会通过重复第一行的注解来注解。 此行为类似于
\f(CW\*(C`tcov\*(C'\fP's \fB\-a\fP。
.ie  n .IP """\-\-demangle[=\fIstyle\fP]""" 4
.el .IP "\f(CW\-\-demangle[=\f(CIstyle\f(CW]\fR" 4
.IX Item \-\-demangle[=style]
.PD 0
.ie  n .IP """\-\-no\-demangle""" 4
.el .IP "\f(CW\-\-no\-demangle\fR" 4
.IX Item \-\-no\-demangle
.PD
这些选项控制 \*(C + 符号名称在打印输出时是否应该被分解。 默认是 demangle 符号。
\&\f(CW\*(C`\-\-no\-demangle\*(C'\fP 选项可用于关闭 demangling。不同的编译器有不同的修饰风格。 可选的
demangling style 参数可用于为您的编译器选择合适的 demangling 样式。
.SS "Analysis Options"
.IX Subsection "Analysis Options"
.ie  n .IP """\-a""" 4
.el .IP "\f(CW\-a\fR" 4
.IX Item \-a
.PD 0
.ie  n .IP """\-\-no\-static""" 4
.el .IP "\f(CW\-\-no\-static\fR" 4
.IX Item \-\-no\-static
.PD
\fB\-a\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 抑制打印静态声明的 (private) 函数。
(这些是名字没有列为全局的函数，在定义它们的 file/function/block 之外是不可见的。) 这些函数所花费的时间，调用它们的
to/from 等等，都会归于直接加载的函数在可执行文件之前。 此选项会影响平面轮廓和调用图。
.ie  n .IP """\-c""" 4
.el .IP "\f(CW\-c\fR" 4
.IX Item \-c
.PD 0
.ie  n .IP """\-\-static\-call\-graph""" 4
.el .IP "\f(CW\-\-static\-call\-graph\fR" 4
.IX Item \-\-static\-call\-graph
.PD
\fB\-c\fP 选项导致程序的调用图通过检查目标文件的文本空间并识别二进制机器代码中的函数调用的试探法进行扩充。
由于正常调用图记录仅在输入函数时生成，因此此选项标识可能已被调用但从未被调用的子级。
还可以识别未在启用分析的情况下编译的对函数的调用，但前提是它们存在符号表条目。 对动态库例程的调用通常是此选项找到的 \fInot\fP。
通过此启发式确定的父母或子节点在调用图中用调用计数 \fB0\fP 指示。
.ie  n .IP """\-D""" 4
.el .IP "\f(CW\-D\fR" 4
.IX Item \-D
.PD 0
.ie  n .IP """\-\-ignore\-non\-functions""" 4
.el .IP "\f(CW\-\-ignore\-non\-functions\fR" 4
.IX Item \-\-ignore\-non\-functions
.PD
\fB\-D\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 忽略不知道是函数的符号。 此选项将在支持它的系统上提供更准确的配置文件数据 (例如
Solaris 和 \s-1HPUX\s0)。
.ie  n .IP """\-k \fIfrom\fP/\fIto\fP""" 4
.el .IP "\f(CW\-k \f(CIfrom\f(CW/\f(CIto\f(CW\fR" 4
.IX Item "\-k from/to"
\fB\-k\fP 选项允许您从调用图中删除从匹配 symspec \fIfrom\fP 到匹配 symspec \fIto\fP 的符号中的任何 arcs。
.ie  n .IP """\-l""" 4
.el .IP "\f(CW\-l\fR" 4
.IX Item \-l
.PD 0
.ie  n .IP """\-\-line""" 4
.el .IP "\f(CW\-\-line\fR" 4
.IX Item \-\-line
.PD
\fB\-l\fP 选项启用逐行分析，这会导致直方图命中被计入各个源代码行，而不是函数。 此特性仅适用于由旧版 \f(CW\*(C`gcc\*(C'\fP
编译器编译的程序。 较新版本的 \&\f(CW\*(C`gcc\*(C'\fP 设计为与 \f(CW\*(C`gcov\*(C'\fP 工具一起使用。
.Sp
如果程序是在启用基本块计数的情况下编译的，则此选项还将标识每行代码执行了多少次。 虽然逐行分析有助于隔离程序在大型函数中花费时间的位置，但它也显着增加了
\f(CW\*(C`gprof\*(C'\fP 的运行时间，并放大了统计不准确性。
.ie  n .IP """\-\-inline\-file\-names""" 4
.el .IP "\f(CW\-\-inline\-file\-names\fR" 4
.IX Item \-\-inline\-file\-names
此选项使 \f(CW\*(C`gprof\*(C'\fP 在平面轮廓和调用图中的每个符号后打印源文件。如果与 \fB\-L\fP 选项一起使用，则会打印文件的完整路径。
.ie  n .IP """\-m \fInum\fP""" 4
.el .IP "\f(CW\-m \f(CInum\f(CW\fR" 4
.IX Item "\-m num"
.PD 0
.ie  n .IP """\-\-min\-count=\fInum\fP""" 4
.el .IP "\f(CW\-\-min\-count=\f(CInum\f(CW\fR" 4
.IX Item \-\-min\-count=num
.PD
此选项仅影响执行计数输出。 执行少于 \fInum\fP 次的符号将被抑制。
.ie  n .IP """\-n\fIsymspec\fP""" 4
.el .IP "\f(CW\-n\f(CIsymspec\f(CW\fR" 4
.IX Item \-nsymspec
.PD 0
.ie  n .IP """\-\-time=\fIsymspec\fP""" 4
.el .IP "\f(CW\-\-time=\f(CIsymspec\f(CW\fR" 4
.IX Item \-\-time=symspec
.PD
\fB\-n\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 在其调用图形分析中仅传播与 \fIsymspec\fP 匹配的符号的时间。
.ie  n .IP """\-N\fIsymspec\fP""" 4
.el .IP "\f(CW\-N\f(CIsymspec\f(CW\fR" 4
.IX Item \-Nsymspec
.PD 0
.ie  n .IP """\-\-no\-time=\fIsymspec\fP""" 4
.el .IP "\f(CW\-\-no\-time=\f(CIsymspec\f(CW\fR" 4
.IX Item \-\-no\-time=symspec
.PD
\fB\-n\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 在其调用图形分析中不传播与 \fIsymspec\fP 匹配的符号的时间。
.ie  n .IP """\-S\fIfilename\fP""" 4
.el .IP "\f(CW\-S\f(CIfilename\f(CW\fR" 4
.IX Item \-Sfilename
.PD 0
.ie  n .IP """\-\-external\-symbol\-table=\fIfilename\fP""" 4
.el .IP "\f(CW\-\-external\-symbol\-table=\f(CIfilename\f(CW\fR" 4
.IX Item \-\-external\-symbol\-table=filename
.PD
\fB\-S\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 读取外部符号表文件，例如 \fI/proc/kallsyms\fP，而不是从给定的目标文件
(默认为 \f(CW\*(C`a.out\*(C'\fP). 这对于分析内核模块很有用。
.ie  n .IP """\-z""" 4
.el .IP "\f(CW\-z\fR" 4
.IX Item \-z
.PD 0
.ie  n .IP """\-\-display\-unused\-functions""" 4
.el .IP "\f(CW\-\-display\-unused\-functions\fR" 4
.IX Item \-\-display\-unused\-functions
.PD
如果您提供 \fB\-z\fP 选项，\f(CW\*(C`gprof\*(C'\fP 将在平面配置文件中提及所有函数，即使是那些从未被调用过且没有时间花费在其中的函数。
这与 \&\fB\-c\fP 选项结合使用非常有用，可以发现哪些例程从未被调用过。
.SS "Miscellaneous Options"
.IX Subsection "Miscellaneous Options"
.ie  n .IP """\-d[\fInum\fP]""" 4
.el .IP "\f(CW\-d[\f(CInum\f(CW]\fR" 4
.IX Item \-d[num]
.PD 0
.ie  n .IP """\-\-debug[=\fInum\fP]""" 4
.el .IP "\f(CW\-\-debug[=\f(CInum\f(CW]\fR" 4
.IX Item \-\-debug[=num]
.PD
\fB\-d\fP \fInum\fP 选项指定调试选项。 如果未指定 \fInum\fP，则启用所有调试。
.ie  n .IP """\-h""" 4
.el .IP "\f(CW\-h\fR" 4
.IX Item \-h
.PD 0
.ie  n .IP """\-\-help""" 4
.el .IP "\f(CW\-\-help\fR" 4
.IX Item \-\-help
.PD
\fB\-h\fP 选项打印命令行用法。
.ie  n .IP """\-O\fIname\fP""" 4
.el .IP "\f(CW\-O\f(CIname\f(CW\fR" 4
.IX Item \-Oname
.PD 0
.ie  n .IP """\-\-file\-format=\fIname\fP""" 4
.el .IP "\f(CW\-\-file\-format=\f(CIname\f(CW\fR" 4
.IX Item \-\-file\-format=name
.PD
选择配置文件数据文件的格式。 可识别的格式为 \&\fBauto\fP (默认)、\fBbsd\fP、\fB4.4bsd\fP、\fBmagic\fP 和 \&\fBprof\fP
(尚不支持)。
.ie  n .IP """\-s""" 4
.el .IP "\f(CW\-s\fR" 4
.IX Item \-s
.PD 0
.ie  n .IP """\-\-sum""" 4
.el .IP "\f(CW\-\-sum\fR" 4
.IX Item \-\-sum
.PD
\fB\-s\fP 选项使 \f(CW\*(C`gprof\*(C'\fP 汇总它读入的配置文件数据文件中的信息，并写出一个名为 \fIgmon.sum\fP
的配置文件数据文件，其中包含 \f(CW\*(C`gprof\*(C'\fP 读入的配置文件数据文件中的所有信息。 文件 \fIgmon.sum\fP
可能是指定的输入文件之一; 这样做的效果是将其他输入文件中的数据合并到 \fIgmon.sum\fP 中。
.Sp
最终您可以在没有 \fB\-s\fP 的情况下再次运行 \f(CW\*(C`gprof\*(C'\fP 来分析文件 \fIgmon.sum\fP 中的累积数据。
.ie  n .IP """\-v""" 4
.el .IP "\f(CW\-v\fR" 4
.IX Item \-v
.PD 0
.ie  n .IP """\-\-version""" 4
.el .IP "\f(CW\-\-version\fR" 4
.IX Item \-\-version
.PD
\fB\-v\fP 标志使 \f(CW\*(C`gprof\*(C'\fP 打印当前版本号，然后退出。
.SS "Deprecated Options"
.IX Subsection "Deprecated Options"
这些选项已替换为使用 symspecs 的较新版本。
.ie  n .IP """\-e \fIfunction_name\fP""" 4
.el .IP "\f(CW\-e \f(CIfunction_name\f(CW\fR" 4
.IX Item "\-e function_name"
\fB\-e\fP \fIfunction\fP 选项告诉 \f(CW\*(C`gprof\*(C'\fP 不要在调用图中打印有关函数 \fIfunction_name\fP
(及其子...) 的信息。 函数仍将列为调用它的任何函数的子代，但其索引号将显示为 \fB[not printed]\fP。 可以给出一个以上的 \fB\-e\fP
选项; 每个 \fB\-e\fP 选项只能指示一个 \fIfunction_name\fP。
.ie  n .IP """\-E \fIfunction_name\fP""" 4
.el .IP "\f(CW\-E \f(CIfunction_name\f(CW\fR" 4
.IX Item "\-E function_name"
\f(CW\*(C`\-E \fP\f(CIfunction\f(CW\*(C'\fP 选项的工作方式与 \f(CW\*(C`\-e\*(C'\fP 选项类似，但花在函数上的时间
(以及未从其他任何地方调用的子节点) 将不会用于计算调用图的时间百分比。 可以给出一个以上的 \fB\-E\fP 选项; 每个 \fB\-E\fP 选项只能指示一个
\&\fIfunction_name\fP。
.ie  n .IP """\-f \fIfunction_name\fP""" 4
.el .IP "\f(CW\-f \f(CIfunction_name\f(CW\fR" 4
.IX Item "\-f function_name"
\fB\-f\fP \fIfunction\fP 选项导致 \f(CW\*(C`gprof\*(C'\fP 将调用图限制为函数 \fIfunction_name\fP 及其子项
(及其子项...)。 可以给出一个以上的 \fB\-f\fP 选项; 每个 \fB\-f\fP 选项只能指示一个 \fIfunction_name\fP。
.ie  n .IP """\-F \fIfunction_name\fP""" 4
.el .IP "\f(CW\-F \f(CIfunction_name\f(CW\fR" 4
.IX Item "\-F function_name"
\fB\-F\fP \fIfunction\fP 选项的工作方式与 \f(CW\*(C`\-f\*(C'\fP 选项类似，但只有在函数及其子项 (及其子项...)
中花费的时间将用于确定调用图的总时间和时间百分比。 可以给出一个以上的 \fB\-F\fP 选项; 每个 \&\fB\-F\fP 选项只能指示一个
\fIfunction_name\fP。 \fB\-F\fP 选项覆盖 \fB\-E\fP 选项。
.SH FILES
.IX Header FILES
.ie  n .IP """\fIa.out\fP""" 4
.el .IP "\f(CW\f(CIa.out\f(CW\fR" 4
.IX Item a.out
名单和文本空间。
.ie  n .IP """\fIgmon.out\fP""" 4
.el .IP "\f(CW\f(CIgmon.out\f(CW\fR" 4
.IX Item gmon.out
动态调用图和剖面图。
.ie  n .IP """\fIgmon.sum\fP""" 4
.el .IP "\f(CW\f(CIgmon.sum\f(CW\fR" 4
.IX Item gmon.sum
汇总动态调用图和剖面图。
.SH BUGS
.IX Header BUGS
显示了采样的粒度，但充其量只是统计数据。 我们假设每次执行一个函数的时间可以用这个函数的总时间除以这个函数被调用的次数来表示。 因此，沿着调用图
arcs 传播到函数的父级的时间与遍历 arc 的次数成正比。
.PP
自己未被概要描述的父母会将其被概要描述的子节点的时间传播给他们，但他们似乎会在调用图表列表中自发调用，并且不会进一步传播他们的时间。
类似地，信号捕捉器，即使是异形的，也似乎是自发的 (尽管出于更隐晦的原因)。
信号捕获器的任何已分析子项都应该正确传播它们的时间，除非信号捕获器在执行分析例程期间被调用，在这种情况下，所有内容都会丢失。
.PP
被剖析的程序必须调用 \f(CW\*(C`exit\*(C'\fP(2) 或正常返回，剖析信息才会保存在 \fIgmon.out\fP 文件中。
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBmonitor\fP\|(3)、\fBprofil\fP\|(2)、\fBcc\fP\|(1)、\fBprof\fP\|(1) 和信息条目 \fIgprof\fP.
.PP
\&\*(L"An Execution Profiler for Modular Programs\*(R", by
S. 格雷厄姆，P. 凯斯勒，M. 麦库西克; 软件 \- 实践和经验，卷。第 13 页 671\-685, 1983.
.PP
\&\*(L"gprof: A 调用图形执行分析器 \*(R", by S. 格雷厄姆，P. 凯斯勒，M. 麦库西克; \s-1SIGPLAN\s0
\&'82 编译器构造研讨会论文集，\&\s-1SIGPLAN\s0 通知，卷。17，第 6 期，pp. 120\-126，1982 年 6 月。
.SH COPYRIGHT
.IX Header COPYRIGHT
Copyright (c) 1988\-2023 Free Software Foundation, Inc.
.PP
根据 \s-1GNU\s0 自由文档许可证版本 1.3 或自由软件基金会发布的任何更高版本的条款，授予复制、分发或者修改本文档的权限;
没有不变的部分，没有封面文本，也没有封底文本。 该许可证的副本包含在标题为 \*(L"\s-1GNU\s0 Free Documentation
License\*(R") 的部分中。
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
