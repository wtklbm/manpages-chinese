.\" -*- coding: UTF-8 -*-
'\" t
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH LOGINCTL 1 "" "systemd 253" loginctl
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH NAME
loginctl \- 控制 systemd 登录管理器
.SH SYNOPSIS
.HP \w'\fBloginctl\fR\ 'u
\fBloginctl\fP [OPTIONS...] {COMMAND} [NAME...]
.SH DESCRIPTION
.PP
\fBloginctl\fP 可用于内省和控制 \fBsystemd\fP(1) 登录管理器 \fBsystemd\-logind.service\fP(8)\& 的状态。
.SH COMMANDS
.PP
理解以下命令:
.SS "Session Commands"
.PP
\fBlist\-sessions\fP
.RS 4
列出当前会话 \&。
.RE
.PP
\fBsession\-status\fP [\fIID\fP\&...]
.RS 4
显示有关一个或多个会话的简洁运行时状态信息，后跟日志中的最新日志数据 \&。将一个或多个会话标识符作为参数 \&。如果没有传递会话标识符，调用者的状态
\*(显示 Aqs 会话 \&。此函数旨在生成人类可读的输出 \&。如果您正在寻找计算机可解析的输出，请改用 \fBshow\-session\fP\&。
.RE
.PP
\fBshow\-session\fP [\fIID\fP\&...]
.RS 4
显示一个或多个会话或管理器本身的属性 \&。如果没有指定参数，将显示管理器的属性 \&。如果指定了会话 ID，则显示会话的属性
\&。默认情况下，空属性被抑制 \&。也使用 \fB\-\-all\fP 来显示这些 \&。要选择要显示的特定属性，请使用
\fB\-\-property=\fP\&。只要需要计算机可解析的输出 \&，就会使用此命令。如果您正在寻找格式化的人类可读输出 \&，请使用
\fBsession\-status\fP。
.RE
.PP
\fBactivate\fP [\fIID\fP]
.RS 4
激活会话 \&。如果另一个会话当前在相应座位的前台 \&，这会将一个会话带到前台。将会话标识符作为参数 \&。如果没有指定参数，调用者的会话被置于前台
\&。
.RE
.PP
\fBlock\-session\fP [\fIID\fP\&...], \fBunlock\-session\fP [\fIID\fP\&...]
.RS 4
Activates/deactivates 一个或多个会话的屏幕锁定，如果会话支持的话 \&。将一个或多个会话标识符作为参数
\&。如果没有指定参数，调用者的会话被锁定 / 解锁 \&。
.RE
.PP
\fBlock\-sessions\fP, \fBunlock\-sessions\fP
.RS 4
Activates/deactivates 支持它的所有当前会话的屏幕锁定 \&。
.RE
.PP
\fBterminate\-session\fP \fIID\fP\& ...
.RS 4
终止会话 \&。这将终止会话的所有进程并释放附加到会话的所有资源 \&。如果参数被指定为空字符串，则调用该命令的会话将终止 \&。
.RE
.PP
\fBkill\-session\fP \fIID\fP\& ...
.RS 4
向会话的一个或多个进程发送信号 \&。使用 \fB\-\-kill\-whom=\fP 选择杀死哪个进程 \&。使用 \fB\-\-signal=\fP 选择要发送的信号
\&。如果参数被指定为空字符串，则信号被发送到调用命令 \& 的会话。
.RE
.SS "User Commands"
.PP
\fBlist\-users\fP
.RS 4
列出当前登录的用户 \&。
.RE
.PP
\fBuser\-status\fP [\fIUSER\fP\&...]
.RS 4
显示有关一个或多个登录用户的简洁运行时状态信息，后跟日志中的最新日志数据 \&。将一个或多个用户名或数字用户 ID 作为参数
\&。如果未传递任何参数，则显示调用方会话用户的状态 \&。此函数旨在生成人类可读的输出 \&。如果您正在寻找计算机可解析的输出，请改用
\fBshow\-user\fP\&。
.RE
.PP
\fBshow\-user\fP [\fIUSER\fP\&...]
.RS 4
显示一个或多个用户或管理员本身的属性 \&。如果没有指定参数，将显示管理器的属性 \&。如果指定了用户，则显示用户的属性 \&。默认情况下，空属性被抑制
\&。也使用 \fB\-\-all\fP 来显示这些 \&。要选择要显示的特定属性，请使用 \fB\-\-property=\fP\&。只要需要计算机可解析的输出
\&，就会使用此命令。如果您正在寻找格式化的人类可读输出 \&，请使用 \fBuser\-status\fP。
.RE
.PP
\fBenable\-linger\fP [\fIUSER\fP\&...], \fBdisable\-linger\fP [\fIUSER\fP\&...]
.RS 4
Enable/disable 用户为一个或多个用户逗留 \&。如果为特定用户启用，则在启动时为用户生成用户管理器并在注销后保留
\&。这允许未登录的用户运行长时间运行的服务 \&。将一个或多个用户名或数字 UID 作为参数 \&。如果没有指定参数，enables/disables
为调用者会话的用户逗留 \&。
.sp
另请详见 \fBlogind.conf\fP(5)\& 中的 \fIKillUserProcesses=\fP 设置。
.RE
.PP
\fBterminate\-user\fP \fIUSER\fP\& ...
.RS 4
终止用户的所有会话 \&。这会终止用户所有会话的所有进程，并释放所有附加到用户的运行时资源。如果参数指定为空字符串，则调用该命令的用户会话将终止 \&。
.RE
.PP
\fBkill\-user\fP \fIUSER\fP\& ...
.RS 4
向用户的所有进程发送信号 \&。使用 \fB\-\-signal=\fP 选择要发送的信号 \&。如果参数指定为空字符串，信号将发送到调用命令 \&
的用户的会话。
.RE
.SS "Seat Commands"
.PP
\fBlist\-seats\fP
.RS 4
列出本地系统上当前可用的席位 \&。
.RE
.PP
\fBseat\-status\fP [\fINAME\fP\&...]
.RS 4
显示有关一个或多个席位的简洁运行时状态信息 \&。将一个或多个座位名称作为参数 \&。如果没有传递座位名称，则，调用者，的状态 \*(Aqs
session\*(Aqs seat is shown\&. 此函数旨在生成人类可读的输出 \&。如果您正在寻找计算机可解析的输出，请改用
\fBshow\-seat\fP\&。
.RE
.PP
\fBshow\-seat\fP [\fINAME\fP\&...]
.RS 4
显示一个或多个席位或经理本身的属性 \&。如果没有指定参数，将显示管理器的属性 \&。如果指定了座位，则会显示座位的属性 \&。默认情况下，空属性被抑制
\&。也使用 \fB\-\-all\fP 来显示这些 \&。要选择要显示的特定属性，请使用 \fB\-\-property=\fP\&。只要需要计算机可解析的输出
\&，就会使用此命令。如果您正在寻找格式化的人类可读输出 \&，请使用 \fBseat\-status\fP。
.RE
.PP
\fBattach\fP \fINAME\fP \fIDEVICE\fP\& ...
.RS 4
始终将一个或多个设备连接到一个座位 \&。应通过 /sys / 文件系统 \&
中的设备路径指定设备。要创建新席位，请将至少一张显卡连接到以前未使用的席位名称 \&。席位名称可能仅包含 \(enz、A\(enZ、0\(en9、"\-"
和 "_"，并且必须以 `席位`\& 为前缀。要丢弃将设备分配给特定席位，只需将其重新分配给不同的座位，或使用 \fBflush\-devices\fP\&。
.RE
.PP
\fBflush\-devices\fP
.RS 4
删除之前使用 \fBattach\fP\& 创建的所有设备分配。在这个调用之后，将只剩下自动生成的席位，并且所有席位硬件都分配给他们 \&。
.RE
.PP
\fBterminate\-seat\fP \fINAME\fP\& ...
.RS 4
终止一个席位上的所有会话 \&。这会杀死座位上所有会话的所有进程，并释放所有附加到它们的运行时资源 \&。
.RE
.SH OPTIONS
.PP
理解以下选项:
.PP
\fB\-\-no\-ask\-password\fP
.RS 4
不要向用户查询特权操作的身份验证 \&。
.RE
.PP
\fB\-p\fP, \fB\-\-property=\fP
.RS 4
显示 session/user/seat 属性时，将显示限制为指定为参数 \& 的某些属性。如果未指定，则显示所有设置的属性
\&。参数应该是一个属性名，例如 `Sessions`\&。如果多次指定，则显示具有指定名称的所有属性 \&。
.RE
.PP
\fB\-\-value\fP
.RS 4
显示 session/user/seat 属性时，只打印值，跳过属性名和 `=`\&。
.RE
.PP
\fB\-a\fP, \fB\-\-all\fP
.RS 4
显示 session/user/seat 属性时，显示所有属性，无论是否设置 \&。
.RE
.PP
\fB\-l\fP, \fB\-\-full\fP
.RS 4
不要省略进程树条目 \&。
.RE
.PP
\fB\-\-kill\-whom=\fP
.RS 4
与 \fBkill\-session\fP 一起使用时，选择要杀死哪些进程 \&。必须是 \fBleader\fP，或者 \fBall\fP 其中之一来选择是只杀死会话的
leader 进程还是杀死会话的所有进程 \&。如果省略，则默认为 \fBall\fP\&。
.RE
.PP
\fB\-s\fP, \fB\-\-signal=\fP
.RS 4
与 \fBkill\-session\fP 或 \fBkill\-user\fP 一起使用时，选择要发送给选定进程的信号 \&。必须是众所周知的信号说明符之一，例如
\fBSIGTERM\fP、\fBSIGINT\fP 或 \fBSIGSTOP\fP\&。如果省略，则默认为 \fBSIGTERM\fP\&。
.sp
特殊值 "help" 将列出已知值，程序将立即退出，特殊值 "list" 将列出已知值和数字信号编号，程序将立即退出 \&。
.RE
.PP
\fB\-n\fP, \fB\-\-lines=\fP
.RS 4
与 \fBuser\-status\fP 和 \fBsession\-status\fP 一起使用时，控制要显示的日志行数，从最近的行开始计算 \&。取一个正整数参数
\&。默认为 10\&。
.RE
.PP
\fB\-o\fP, \fB\-\-output=\fP
.RS 4
与 \fBuser\-status\fP 和 \fBsession\-status\fP 一起使用时，控制显示的日记帐条目的格式 \&。有关可用选项，请参见
\fBjournalctl\fP(1)\&。默认为 `短`\&。
.RE
.PP
\fB\-H\fP, \fB\-\-host=\fP
.RS 4
远程执行操作 \&。指定主机名，或用 "@" 分隔的用户名和主机名，以连接到 \&。主机名可以选择以 ssh 正在侦听的端口为后缀，由 ":"
分隔，然后是容器名称，由 "/" 分隔，它直接连接到指定主机上的特定容器 \&。这将使用 SSH 与远程机器管理器实例对话。容器名称可以用
\fBmachinectl \-H \fP\fIHOST\fP\& 枚举。将 IPv6 地址放在括号 \& 中。
.RE
.PP
\fB\-M\fP, \fB\-\-machine=\fP
.RS 4
在本地容器上执行操作 \&。指定要连接的容器名称，可以选择以要连接的用户名和分隔符 "@"\& 作为前缀。如果使用特殊字符串 "\&.host"
代替容器名称，则会建立到本地系统的连接 (这对于连接到特定用户 \* (Aqs 用户总，字符串: "\-\-user
\-\-machine=lennart@\&.host") \& 很有用。如果不使用 "@" 语法，则以 root 用户身份建立连接 \&。如果使用 "@"
语法，则可以省略左侧或右侧 (但不能同时省略两者)，在这种情况下，隐含本地用户名和 "\&.host"\&。
.RE
.PP
\fB\-\-no\-pager\fP
.RS 4
不要将输出通过管道传输到寻呼机 \&。
.RE
.PP
\fB\-\-no\-legend\fP
.RS 4
不要打印图例，i\&.e\&。带有提示的列标题和页脚 \&。
.RE
.PP
\fB\-h\fP, \fB\-\-help\fP
.RS 4
打印一个简短的帮助文本并退出 \&。
.RE
.PP
\fB\-\-version\fP
.RS 4
打印一个短版本字符串并退出 \&。
.RE
.SH "EXIT STATUS"
.PP
成功时返回 0，否则返回非零失败代码 \&。
.SH EXAMPLES
.PP
\fBExample\ \&1.\ \&Querying user status\fP
.sp
.if  n \{\
.RS 4
.\}
.nf
$ loginctl 用户状态
法蒂玛 (1005)
           自: 美国东部时间 2016\-04\-09 星期六 14:23:31; 54 分钟前
           状态: 活跃
        会话: 5 *3
            单位: user\-1005\&.slice
                  ├─user@1005\&.service
                    \&...
                  ├─session\-3\&.scope
                    \&...
                  └─session\-5\&.scope
                    ├─3473 登录 \-\- 法蒂玛
                    └─3515 \-zsh

4 月 9 日 14:40:30 笔记本电脑登录 [2325]: pam_unix(login:session):
                       LOGIN(uid=0) 为用户 fatima 打开的会话
4 月 9 日 14:40:30 笔记本电脑登录 [2325]: 法蒂玛在 tty3 上登录
.fi
.if  n \{\
.RE
.\}
.PP
有两个会话，3 和 5\&。会话 3 是图形会话，标有星号 \&。处理树包括对应的两个工作域单元和用户管理单元显示 \&。
.SH ENVIRONMENT
.PP
\fI$SYSTEMD_LOG_LEVEL\fP
.RS 4
发出消息的最大日志级别 (具有更高日志级别的消息，i\&.e\&。不太重要的消息将被抑制)
\&。\fBemerg\fP、\fBalert\fP、\fBcrit\fP、\fBerr\fP、\fBwarning\fP、\fBnotice\fP、\fBinfo\fP、\fBdebug\fP 之一
(按重要性递减顺序) 或 0\&...7\& 范围内的整数。有关详细信息，请参见 \fBsyslog\fP(3)\&。
.RE
.PP
\fI$SYSTEMD_LOG_COLOR\fP
.RS 4
一个布尔值 \&。如果为真，写入 tty 的消息将根据优先级着色。
.sp
这个设置只在消息直接写入终端时才有用，因为 \fBjournalctl\fP(1) 等显示日志的工具会自行根据日志级别给消息着色 \&。
.RE
.PP
\fI$SYSTEMD_LOG_TIME\fP
.RS 4
一个布尔值 \&。如果为 true，控制台日志消息将以时间戳 \& 为前缀。
.sp
这个设置只在消息直接写入终端或文件时才有用，因为 \fBjournalctl\fP(1) 等显示日志的工具会根据条目元数据自行附加时间戳 \&。
.RE
.PP
\fI$SYSTEMD_LOG_LOCATION\fP
.RS 4
一个布尔值 \&。如果为 true，消息将在源代码中以文件名和行号为前缀 \&。
.sp
请注意，日志位置通常作为元数据附加到日志条目中。尽管如此，在调试程序时将它直接包含在消息文本中还是很方便的 \&。
.RE
.PP
\fI$SYSTEMD_LOG_TID\fP
.RS 4
一个布尔值 \&。如果为真，消息将以当前数字线程 ID (TID)\& 为前缀。
.sp
请注意，此信息无论如何都作为元数据附加到日记条目 \&。尽管如此，在调试程序时将它直接包含在消息文本中还是很方便的 \&。
.RE
.PP
\fI$SYSTEMD_LOG_TARGET\fP
.RS 4
日志消息的目的地 \&。\fBconsole\fP (记录到附加的 tty)、\fBconsole\-prefixed\fP (记录到附加的
tty，但带有编码日志级别和 "facility" 的前缀，参见 \fBsyslog\fP(3)、\fBkmsg\fP
(记录到内核循环日志缓冲区)、\fBjournal\fP (记录到日志) 之一，\fBjournal\-or\-kmsg\fP (如果可用则记录到日志，否则记录到
kmsg)，\fBauto\fP (自动确定适当的日志目标，默认)，\fBnull\fP (禁用日志输出) \&。
.RE
.PP
\fI$SYSTEMD_PAGER\fP
.RS 4
未给出 \fB\-\-no\-pager\fP 时使用的寻呼机; 覆盖 \fI$PAGER\fP\&。如果 \fI$SYSTEMD_PAGER\fP 和 \fI$PAGER\fP
都没有设置，则依次尝试一组众所周知的寻呼机实现，包括 \fBless\fP(1) 和 \fBmore\fP(1)，直到找到一个
\&。如果没有发现寻呼机实现，则不调用寻呼机 \&。将此环境变量设置为空字符串或值 "cat" 等同于传递 \fB\-\-no\-pager\fP\&。
.sp
Note: 如果未设置 \fI$SYSTEMD_PAGERSECURE\fP，\fI$SYSTEMD_PAGER\fP (以及 \fI$PAGER\fP) 将被忽略
\&。
.RE
.PP
\fI$SYSTEMD_LESS\fP
.RS 4
覆盖传递给 \fBless\fP (默认 "FRSXMK") \& 的选项。
.sp
用户可能希望特别更改两个选项:
.PP
\fBK\fP
.RS 4
此选项指示寻呼机在按下 Ctrl+C 时立即退出 \&。要允许 \fBless\fP 自己处理 Ctrl+C 以切换回寻呼机命令提示符，请取消设置此选项
\&。
.sp
如果 \fI$SYSTEMD_LESS\fP 的值不包括 "K"，调用的分页器是 \fBless\fP，Ctrl+C 会被可执行文件忽略，需要分页器处理 \&。
.RE
.PP
\fBX\fP
.RS 4
此选项指示寻呼机不将 termcap 初始化和取消初始化字符串发送到终端 \&。它默认设置为允许命令输出在终端中保持可见，即使在寻呼机退出 \&
之后也是如此。然而，这会阻止某些寻呼机功能工作，特别是无法使用鼠标滚动分页输出。
.RE
.sp
有关更多讨论，请参见 \fBless\fP(1)\&。
.RE
.PP
\fI$SYSTEMD_LESSCHARSET\fP
.RS 4
覆盖传递给 \fBless\fP 的字符集 (默认为 "utf\-8"，如果调用终端被确定为与 UTF\-8 兼容) \&。
.RE
.PP
\fI$SYSTEMD_PAGERSECURE\fP
.RS 4
采用布尔型参数 \&。为真时，启用寻呼机的 "secure" 模式; 如果为假，则禁用 \&。如果根本未设置
\fI$SYSTEMD_PAGERSECURE\fP，则在有效 UID 与登录会话的所有者不同时启用安全模式，请参见 \fBgeteuid\fP(2) 和
\fBsd_pid_get_owner_uid\fP(3)\&。在安全模式下，调用寻呼机时将设置
\fBLESSSECURE=1\fP，寻呼机应禁用打开或创建新文件或启动新子进程的命令 \&。当根本没有设置 \fI$SYSTEMD_PAGERSECURE\fP
时，将不会使用未知实现安全模式的寻呼机 \&。(目前只有 \fBless\fP(1) 实现了安全模式 \&。)
.sp
Note: 当以提升的权限调用命令时，例如在 \fBsudo\fP(8) 或 \fBpkexec\fP(1) 下，必须小心确保未启用意外的交互，特性 \&。寻呼机的
"Secure" 模式可以如上所述自动启用 \&。设置 \fISYSTEMD_PAGERSECURE=0\fP 或不将其从继承环境中删除允许用户调用任意命令
\&。请注意，如果要兑现 \fI$SYSTEMD_PAGER\fP 或 \fI$PAGER\fP 变量，则必须同时设置
\fI$SYSTEMD_PAGERSECURE\fP\&。改为使用 \fB\-\-no\-pager\fP\& 完全禁用寻呼机可能是合理的。
.RE
.PP
\fI$SYSTEMD_COLORS\fP
.RS 4
采用布尔型参数 \&。当为真时，\fBsystemd\fP 和相关的实用工具将在其输出中使用颜色，否则输出将为单色 \&。此外，该变量可以采用以下特殊值之一:
"16"、"256"，分别将颜色的使用限制为基本 16 或 256 ANSI 颜色 \&。这可以被指定以覆盖基于 \fI$TERM\fP
和控制台连接到什么的自动决定 \&。
.RE
.PP
\fI$SYSTEMD_URLIFY\fP
.RS 4
该值必须是布尔值 \&。控制是否应在支持此 \& 的终端模拟器的输出中生成可点击链接。这可以被指定来覆盖 \fBsystemd\fP 基于 \fI$TERM\fP
和其他条件做出的决定 \&。
.RE
.SH "SEE ALSO"
.PP
\fBsystemd\fP(1), \fBsystemctl\fP(1), \fBsystemd\-logind.service\fP(8),
\fBlogind.conf\fP(5)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
