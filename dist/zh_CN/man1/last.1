.\" -*- coding: UTF-8 -*-
'\" t
.\"     Title: last
.\"    Author: [see the "AUTHOR(S)" section]
.\" Generator: Asciidoctor 2.0.15
.\"      Date: 2022-05-11
.\"    Manual: User Commands
.\"    Source: util-linux 2.38.1
.\"  Language: English
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH LAST 1 2022\-05\-11 "util\-linux 2.38.1" "User Commands"
.ie  \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de  URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if  \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.SH NAME
last, lastb \- 显示最后登录的用户列表
.SH SYNOPSIS
.sp
\fBlast\fP [options] [\fIusername\fP...] [\fItty\fP...]
.sp
\fBlastb\fP [options] [\fIusername\fP...] [\fItty\fP...]
.SH DESCRIPTION
.sp
\fBlast\fP 向后搜索 \fI/var/log/wtmp\fP 文件 (或由 \fB\-f\fP 选项指定的文件) 并显示自该文件创建以来登录 (和注销)
的所有用户的列表。可以给出一个或多个 \fIusernames\fP 或者 \fIttys\fP，在这种情况下，\fBlast\fP
将仅显示与那些参数匹配的条目。\fIttys\fP 的名称可以缩写，因此 \fBlast 0\fP 与 \fBlast tty0\fP 相同。
.sp
当捕捉到 \fBSIGINT\fP 信号 (由中断键产生，通常是 control\-C) 或 \fBSIGQUIT\fP 信号时，\fBlast\fP
将显示它已经搜索了多远的文件; 在 \fBSIGINT\fP 信号的情况下，\fBlast\fP 将终止。
.sp
每次系统重启时，伪用户 \fBreboot\fP 登录。因此 \fBlast reboot\fP 将显示自创建日志文件以来所有重新启动的日志。
.sp
\fBlastb\fP 与 \fBlast\fP 相同，除了默认情况下它显示 \fI/var/log/btmp\fP 文件的日志，其中包含所有错误的登录尝试。
.SH OPTIONS
.sp
\fB\-a\fP, \fB\-\-hostlast\fP
.RS 4
在最后一列显示主机名。与 \fB\-\-dns\fP 选项结合使用很有用。
.RE
.sp
\fB\-d\fP, \fB\-\-dns\fP
.RS 4
对于非本地登录，Linux 不仅存储远程主机的主机名，还存储其 IP 号。此选项将 IP 号转换回主机名。
.RE
.sp
\fB\-f\fP, \fB\-\-file\fP \fIfile\fP
.RS 4
告诉 \fBlast\fP 使用特定的 \fIfile\fP 而不是 \fI/var/log/wtmp\fP。\fB\-\-file\fP
选项可以多次给出，所有指定的文件都将被处理。
.RE
.sp
\fB\-F\fP, \fB\-\-fulltimes\fP
.RS 4
打印完整的登录和注销时间和日期。
.RE
.sp
\fB\-i\fP, \fB\-\-ip\fP
.RS 4
像 \fB\-\-dns ,\fP 但显示主机 \(cqs IP 号码而不是名称。
.RE
.sp
\fB\-\fP\fInumber\fP; \fB\-n\fP, \fB\-\-limit\fP \fInumber\fP
.RS 4
告诉 \fBlast\fP 显示多少行。
.RE
.sp
\fB\-p\fP, \fB\-\-present\fP \fItime\fP
.RS 4
显示指定时间在场的用户。这就像将选项 \fB\-\-since\fP 和 \fB\-\-until\fP 与相同的 \fItime\fP 一起使用。
.RE
.sp
\fB\-R\fP, \fB\-\-nohostname\fP
.RS 4
禁止显示主机名字段。
.RE
.sp
\fB\-s\fP, \fB\-\-since\fP \fItime\fP
.RS 4
显示自指定 \fItime\fP 以来的登录状态。这很有用，例如，可以轻松确定谁在特定时间登录。该选项通常与 \fB\-\-until\fP 结合使用。
.RE
.sp
\fB\-t\fP, \fB\-\-until\fP \fItime\fP
.RS 4
显示指定 \fItime\fP 之前的登录状态。
.RE
.sp
\fB\-\-time\-format\fP \fIformat\fP
.RS 4
将输出时间戳 \fIformat\fP 定义为 \fInotime\fP、\fIshort\fP、\fIfull\fP 或 \fIiso\fP 之一。\fInotime\fP
变体根本不会打印任何时间戳，\fIshort\fP 是默认值，\fIfull\fP 与 \fB\-\-fulltimes\fP 选项相同。\fIiso\fP 变体将以
ISO\-8601 格式显示时间戳。ISO 格式包含时区信息，因此在系统外部调查打印输出时更适合使用它。
.RE
.sp
\fB\-w\fP, \fB\-\-fullnames\fP
.RS 4
在输出中显示完整的用户名和域名。
.RE
.sp
\fB\-x\fP, \fB\-\-system\fP
.RS 4
显示系统关闭条目和运行级别更改。
.RE
.sp
\fB\-h\fP, \fB\-\-help\fP
.RS 4
显示帮助文本并退出。
.RE
.sp
\fB\-V\fP, \fB\-\-version\fP
.RS 4
打印版本并退出。
.RE
.SH "TIME FORMATS"
.sp
带 \fItime\fP 参数的选项理解以下格式:
.TS
allbox tab(:);
lt lt.
T{
.sp
YYYYMMDDhhmmss
T}:T{
.sp

T}
T{
.sp
YYYY\-MM\-DD hh:mm:ss
T}:T{
.sp

T}
T{
.sp
YYYY\-MM\-DD hh:mm
T}:T{
.sp
(seconds will be set to 00)
T}
T{
.sp
YYYY\-MM\-DD
T}:T{
.sp
(time will be set to 00:00:00)
T}
T{
.sp
hh:mm:ss
T}:T{
.sp
(date will be set to today)
T}
T{
.sp
hh:mm
T}:T{
.sp
(date will be set to today, seconds to 00)
T}
T{
.sp
now
T}:T{
.sp

T}
T{
.sp
yesterday
T}:T{
.sp
(time is set to 00:00:00)
T}
T{
.sp
today
T}:T{
.sp
(time is set to 00:00:00)
T}
T{
.sp
tomorrow
T}:T{
.sp
(time is set to 00:00:00)
T}
T{
.sp
+5min
T}:T{
.sp

T}
T{
.sp
\-5days
T}:T{
.sp

T}
.TE
.sp
.SH FILES
.sp
\fI/var/log/wtmp\fP, \fI/var/log/btmp\fP
.SH NOTES
.sp
可能找不到文件 \fIwtmp\fP 和 \fIbtmp\fP。如果这些文件存在，系统只会在这些文件中记录信息。这是本地配置问题。如果要使用这些文件，可以使用简单的
\fBtouch\fP(1) 命令 (例如，\fBtouch /var/log/wtmp\fP).x) 创建它们。
.sp
空条目是有效类型的 wtmp 条目。这意味着空文件或包含零的文件不会被解释为错误。
.SH AUTHORS
.sp
.MTO miquels\(atcistron.nl "Miquel van Smoorenburg" ""
.SH "SEE ALSO"
.sp
\fBlogin\fP(1), \fBwtmp\fP(5), \fBinit\fP(8), \fBshutdown\fP(8)
.SH "REPORTING BUGS"
.sp
对于错误报告，请使用问题跟踪器
.URL https://github.com/util\-linux/util\-linux/issues "" .
.SH AVAILABILITY
.sp
\fBlast\fP 命令是 util\-linux 包的一部分，可以从
.URL https://www.kernel.org/pub/linux/utils/util\-linux/ "Linux Kernel Archive" .
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
