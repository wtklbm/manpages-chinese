.\" -*- coding: UTF-8 -*-
.\" A man page for locate(1). -*- nroff -*-
.\"
.\" Copyright (C) 2012 Red Hat, Inc. All rights reserved.
.\"
.\" This copyrighted material is made available to anyone wishing to use,
.\" modify, copy, or redistribute it subject to the terms and conditions of the
.\" GNU General Public License v.2.
.\"
.\" This program is distributed in the hope that it will be useful, but WITHOUT
.\" ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
.\" FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
.\" more details.
.\"
.\" You should have received a copy of the GNU General Public License along
.\" with this program; if not, write to the Free Software Foundation, Inc.,
.\" 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
.\"
.\" Author: Miloslav Trmac <mitr@redhat.com>
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH locate 1 "Sep 2012" mlocate 

.SH NAME
locate \- 按名称查找文件

.SH SYNOPSIS

\fBlocate\fP [\fIOPTION\fP]... \fIPATTERN\fP ...

.SH DESCRIPTION
\fBlocate\fP 读取一个或多个由 \fBupdatedb\fP(8) 准备的数据库，并将至少与 \fIPATTERN\fPs
之一匹配的文件名写入标准输出，每行一个。

如果未指定 \fB\-\-regex\fP，则 \fIPATTERN\fPs 可以包含通配符。 如果任何 \fIPATTERN\fP 不包含通配符，则 \fBlocate\fP
的行为就好像模式是 \fB*\fP\fIPATTERN\fP\fB*\fP 一样。

默认情况下，\fBlocate\fP 不会检查在数据库中找到的文件是否仍然存在 (但如果数据库是使用 \fB\-\-require\-visibility no\fP)
构建的，它确实需要所有父目录都存在。 \fBlocate\fP 永远不会报告在相关数据库的最新更新之后创建的文件。

.SH "EXIT STATUS"
如果找到任何匹配项或者如果使用 \fB\-\-limit 0\fP、\fB\-\-help\fP、\fB\-\-statistics\fP 或 \fB\-\-version\fP 选项之一调用
\fBlocate\fP，\fBlocate\fP 将以状态 0 退出。 如果未找到匹配项或遇到致命错误，则 \fBlocate\fP 以状态退出 1.

读取数据库时遇到的错误不是致命的，搜索继续在其他指定的数据库中，如果有的话。

.SH OPTIONS
.TP 
\fB\-A\fP, \fB\-\-all\fP
只打印与所有 \fIPATTERN\fPs 匹配的条目，而不是只要求其中一个匹配。

.TP 
\fB\-b\fP, \fB\-\-basename\fP
仅将基本名称与指定模式匹配。 这与 \fB\-\-wholename\fP 相反。

.TP 
\fB\-c\fP, \fB\-\-count\fP
不要在标准输出上写文件名，而只写匹配条目的数量。

.TP 
\fB\-d, \-\-database\fP \fIDBPATH\fP
将默认数据库替换为 \fIDBPATH\fP。 \fIDBPATH\fP 是数据库文件名的 \fB:\fP\-separated 列表。 如果指定了多个
\fB\-\-database\fP 选项，则生成的路径是单独路径的串联。

空数据库文件名被默认数据库替换。 数据库文件名 \fB\-\fP 指的是标准输入。 请注意，数据库只能从标准输入中读取一次。

.TP 
\fB\-e\fP, \fB\-\-existing\fP
仅打印引用 \fBlocate\fP 运行时存在的文件的条目。

.TP 
\fB\-L\fP, \fB\-\-follow\fP
检查文件是否存在时 (如果指定了 \fB\-\-existing\fP 选项)，遵循尾随符号链接。 这会导致从输出中省略损坏的符号链接。

这是默认行为。 相反的可以使用 \fB\-\-nofollow\fP 指定。

.TP 
\fB\-h\fP, \fB\-\-help\fP
将可用选项的总结写入标准输出并成功退出。

.TP 
\fB\-i\fP, \fB\-\-ignore\-case\fP
匹配模式时忽略大小写区别。

.TP 
\fB\-l\fP, \fB\-\-limit\fP, \fB\-n\fP \fILIMIT\fP
找到 \fILIMIT\fP 表项后成功退出。 如果指定了 \fB\-\-count\fP 选项，则结果计数也将限制为 \fILIMIT\fP。

.TP 
\fB\-m\fP, \fB\-\-mmap\fP
忽略，为了与
.SM BSD
和
.SM GNU
\fBlocate\fP 兼容。

.TP 
\fB\-P\fP, \fB\-\-nofollow\fP, \fB\-H\fP
检查文件是否存在时 (如果指定了 \fB\-\-existing\fP 选项)，不要跟随尾随符号链接。 这会导致损坏的符号链接像其他文件一样被报告。

这与 \fB\-\-follow\fP 相反。

.TP 
\fB\-0\fP, \fB\-\-null\fP
使用
.SM ASCII NUL
字符分隔输出中的条目，而不是将每个条目写在单独的行中。 此选项旨在与
.SM GNU
\fBxargs\fP(1) 的 \fB\-\-null\fP 选项互操作。

.TP 
\fB\-S\fP, \fB\-\-statistics\fP
将有关每个读取数据库的统计信息写入标准输出，而不是搜索文件并成功退出。

.TP 
\fB\-q\fP, \fB\-\-quiet\fP
不写入有关读取和处理数据库时遇到的错误的消息。

.TP 
\fB\-r\fP, \fB\-\-regexp\fP \fIREGEXP\fP
搜索基本正则表达式 \fIREGEXP\fP。 如果使用此选项，则不允许 \fIPATTERN\fPs，但可以多次指定此选项。

.TP 
\fB\-\-regex\fP
将所有 \fIPATTERN\fPs 解释为扩展的正则表达式。

.TP 
\fB\-s\fP, \fB\-\-stdio\fP
忽略，为了与
.SM BSD
和
.SM GNU
\fBlocate\fP 兼容。

.TP 
\fB\-V\fP, \fB\-\-version\fP
在标准输出中写入 \fBlocate\fP 的版本和 license 信息，成功退出。

.TP 
\fB\-w\fP, \fB\-\-wholename\fP
仅将整个路径名与指定模式匹配。

这是默认行为。 相反的可以使用 \fB\-\-basename\fP 指定。

.SH EXAMPLES
要搜索名为 \fINAME\fP (不是 \fB*\fP\fINAME\fP\fB*\fP)，请使用
.RS
\fBlocate \-b\fP \fB'\e\fP\fINAME\fP\fB'\fP
.RE
因为 \fB\e\fP 是一个通配符，所以这会禁用 \fB*\fP\fINAME\fP\fB*\fP 对 \fINAME\fP 的隐式替换。

.SH FILES
.TP 
\fB/var/lib/mlocate/mlocate.db\fP
默认搜索的数据库。

.SH ENVIRONMENT
.TP 
\fBLOCATE_PATH\fP
在默认数据库或使用 \fB\-\-database\fP 选项指定的数据库之后添加的其他数据库的路径。

.SH NOTES
处理请求的数据库的顺序是未指定的，这允许 \fBlocate\fP 出于安全原因重新排序数据库路径。

\fBlocate\fP 尝试按顺序与 \fBslocate\fP (没有用于创建数据库的选项) 和
.SM GNU
\fBlocate\fP 兼容。
这就是不切实际的默认 \fB\-\-follow\fP 选项以及令人困惑的 \fB\-\-regex\fP 和 \fB\-\-regexp\fP 选项集的原因。

\fB\-r\fP 选项的缩写与
.SM GNU
\fBlocate\fP 不兼容，它对应于 \fB\-\-regex\fP 选项。 使用长选项名称以避免混淆。

\fBLOCATE_PATH\fP 环境变量替换了
.SM BSD
和
.SM GNU
\fBlocate\fP 中的默认数据库，但在本实现和
\fBslocate\fP 中添加到其他数据库中。

.SH AUTHOR
米洛斯拉夫・特马克 <mitr@redhat.com>

.SH "SEE ALSO"
\fBupdatedb\fP(8)
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
