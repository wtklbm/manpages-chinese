.\" -*- coding: UTF-8 -*-
.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.48.5.
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH SED 1 "February 2023" "GNU sed 4.9" "User Commands"
.SH NAME
sed \- 用于过滤和转换文本的流编辑器
.SH SYNOPSIS
.nf
sed [\-V] [\-\-version] [\-\-help] [\-n] [\-\-quiet] [\-\-silent]
    [\-l N] [\-\-line\-length=N] [\-u] [\-\-unbuffered]
    [\-E] [\-r] [\-\-regexp\-extended]
    [\-e script] [\-\-expression=script]
    [\-f script\-file] [\-\-file=script\-file]
    [script\-if\-no\-other\-script]
    [file...]
.fi
.SH DESCRIPTION
.ds sd \fIsed\fP
.ds Sd \fISed\fP
\*(Sd 是一个流编辑器。 流编辑器用于对输入流 (文件或来自管道的输入) 执行基本文本转换。 虽然在某些方面类似于允许脚本编辑的编辑器 (例如
\fIed\fP)，但 \*(sd 只对 input(s) 进行一次传递，因此效率更高。 但正是 \*(sd
在管道中过滤文本的能力使其与其他类型的编辑器特别不同。
.HP
\fB\-n\fP, \fB\-\-quiet\fP, \fB\-\-silent\fP
.IP
抑制模式空间的自动打印
.HP
\fB\-\-debug\fP
.IP
注解程序执行
.HP
\fB\-e\fP 脚本，\fB\-\-expression\fP=\fI\,script\/\fP
.IP
将脚本添加到要执行的命令中
.HP
\fB\-f\fP 脚本文件，\fB\-\-file\fP=\fI\,script\-file\/\fP
.IP
将脚本文件的内容添加到要执行的命令中
.HP
\fB\-\-follow\-symlinks\fP
.IP
就地处理时遵循符号链接
.HP
\fB\-i[SUFFIX]\fP, \fB\-\-in\-place\fP[=\fI\,SUFFIX\/\fP]
.IP
就地编辑文件 (如果提供后缀则进行备份)
.HP
\fB\-l\fP N, \fB\-\-line\-length\fP=\fI\,N\/\fP
.IP
为 `l' 命令指定所需的换行长度
.HP
\fB\-\-posix\fP
.IP
禁用所有 GNU 扩展。
.HP
\fB\-E\fP, \fB\-r\fP, \fB\-\-regexp\-extended\fP
.IP
在脚本中使用扩展的正则表达式 (为了可移植性使用 POSIX \fB\-E\fP).
.HP
\fB\-s\fP, \fB\-\-separate\fP
.IP
将文件视为独立的而不是单个连续的长流。
.HP
\fB\-\-sandbox\fP
.IP
在沙盒模式下运行 (禁用 e/w 命令)。
.HP
\fB\-u\fP, \fB\-\-unbuffered\fP
.IP
从输入文件加载最少数量的数据并更频繁地刷新输出缓冲区
.HP
\fB\-z\fP, \fB\-\-null\-data\fP
.IP
用 NUL 字符分隔行
.TP 
\fB\-\-help\fP
显示此帮助并退出
.TP 
\fB\-\-version\fP
输出版本信息并退出
.PP
如果没有给出 \fB\-e\fP、\fB\-\-expression\fP、\fB\-f\fP 或 \fB\-\-file\fP 选项，则将第一个非选项参数作为 sed 脚本进行解释。
剩下的所有参数都是输入文件的名称; 如果没有指定输入文件，则读取标准输入。
.PP
GNU sed 主页: <https://www.gnu.org/software/sed/>。 使用 GNU 软件的一般帮助:
<https://www.gnu.org/gethelp/>。 通过电子邮件将错误报告发送至:
<bug\-sed@gnu.org>。
.SH "COMMAND SYNOPSIS"
这只是 \*(sd 命令的简要介绍，以提醒那些已经知道 \*(sd; 必须查阅其他文档 (例如 texinfo 文档) 以获得更完整的描述。
.SS "Zero\-address \*(lqcommands\*(rq"
.TP 
:\ \fIlabel\fP
\fBb\fP 和 \fBt\fP 命令的标签。
.TP 
#\fIcomment\fP
注释一直延伸到下一个换行符 (或 \fB\-e\fP 脚本片段的末尾)。
.TP 
}
{ } 块的右括号。
.SS "Zero\- or One\- address commands"
.TP 
=
打印当前行号。
.TP 
a \e
.TP 
\fItext\fP
追加 \fItext\fP，其中每个嵌入的换行符前面都有一个反斜杠。
.TP 
i \e
.TP 
\fItext\fP
插入 \fItext\fP，每个嵌入的换行符前面都有一个反斜杠。
.TP 
q [\fIexit\-code\fP]
立即退出 \*(sd 脚本而不处理任何更多输入，除非自动打印未禁用，否则将打印当前模式空间。 退出代码参数是 GNU 扩展名。
.TP 
Q [\fIexit\-code\fP]
立即退出 \*(sd 脚本，不再处理任何输入。 这是一个 GNU 扩展。
.TP 
r\ \fIfilename\fP
追加，从 \fIfilename\fP 读取的文本。
.TP 
R\ \fIfilename\fP
追加从 \fIfilename\fP 读取的一行。 每次调用该命令都会从文件中读取一行。 这是一个 GNU 扩展。
.SS "Commands which accept address ranges"
.TP 
{
开始一个命令块 (以} 结尾)。
.TP 
b\ \fIlabel\fP
分支到 \fIlabel\fP; 如果省略 \fIlabel\fP，则分支到脚本末尾。
.TP 
c \e
.TP 
\fItext\fP
用 \fItext\fP 替换选定的行，其中每个嵌入的换行符前面都有一个反斜杠。
.TP 
d
删除模式空间。 开始下一个循环。
.TP 
D
如果模式空间不包含换行符，则开始正常的新循环，就像发出 d 命令一样。
否则，删除模式空间中直到第一个换行符的文本，并使用结果模式空间重新开始循环，而不读取新的输入行。
.TP 
h H
Copy/append 模式空间容纳空间。
.TP 
g G
Copy/append 保持空间到模式空间。
.TP 
l
以 `视觉上明确` 的形式列出当前行。
.TP 
l\ \fIwidth\fP
以 `视觉上明确` 的形式列出当前行，在 \fIwidth\fP 个字符处将其打断。 这是一个 GNU 扩展。
.TP 
n N
Read/append 将下一行输入到模式空间。
.TP 
p
打印当前模式空间。
.TP 
P
打印到当前模式空间的第一个嵌入换行符。
.TP 
s/\fIregexp\fP/\fIreplacement\fP/
尝试将 \fIregexp\fP 与模式空间进行匹配。 如果成功，则替换与 \fIreplacement\fP 匹配的部分。 \fIreplacement\fP
可能包含特殊字符 \fB&\fP 以引用模式空间中匹配的那部分，特殊转义符 \e1 到 \e9 以引用 \fIregexp\fP 中相应的匹配子表达式。
.TP 
t\ \fIlabel\fP
如果 as/// 自读取最后一个输入行和最后一个 t 或 T 命令以来已成功替换，则分支到 \fIlabel\fP; 如果省略
\fIlabel\fP，则分支到脚本末尾。
.TP 
T\ \fIlabel\fP
如果自从最后一个输入行被读取和自最后一个 t 或 T 命令以来没有 s/// 完成成功的替换，则分支到 \fIlabel\fP; 如果省略
\fIlabel\fP，则分支到脚本末尾。 这是一个 GNU 扩展。
.TP 
w\ \fIfilename\fP
将当前模式空间写入 \fIfilename\fP。
.TP 
W\ \fIfilename\fP
将当前模式空间的第一行写入 \fIfilename\fP。 这是一个 GNU 扩展。
.TP 
x
交换保持空间和模式空间的内容。
.TP 
y/\fIsource\fP/\fIdest\fP/
将 \fIsource\fP 中出现的模式空间中的字符音译为 \fIdest\fP 中对应的字符。
.SH Addresses
\*(sd 命令可以不带地址，在这种情况下，命令将对所有输入行执行; 有一个地址，在这种情况下，命令将只对匹配该地址的输入行执行;
或者有两个地址，在这种情况下，将对所有匹配从第一个地址开始并继续到第二个地址的行的包含范围的输入行执行命令。 关于地址范围需要注意的三点: 语法为
\fIaddr1\fP,\fIaddr2\fP (即地址之间用逗号隔开) ; 与 \fIaddr1\fP 匹配的行将始终被接受，即使 \fIaddr2\fP 选择了较早的行;
如果 \fIaddr2\fP 是 \fIregexp\fP，则不会针对 \fIaddr1\fP 匹配的行进行测试。
.PP
在地址 (或地址范围) 之后和命令之前，可以插入一个 \fB!\fP，它指定只有当地址 (或地址范围) 与 \fBnot\fP 匹配时才执行该命令。
.PP
支持以下地址类型:
.TP 
\fInumber\fP
仅匹配指定的行 \fInumber\fP (跨文件递增，除非在命令行上指定了 \fB\-s\fP 选项)。
.TP 
\fIfirst\fP~\fIstep\fP
匹配从行 \fIfirst\fP 开始的每一行 \fIstep\fP'th。 例如，\*(lqsed \-n 1~2p\*(rq 将打印输入流中的所有奇数行，地址 2~5
将匹配每五行，从第二行开始。 \fIfirst\fP 可以为零; 在这种情况下，\*(sd 就像等于 \fIstep\fP 一样运行。 (这是一个扩展。)
.TP 
$
匹配最后一行。
.TP 
/\fIregexp\fP/
匹配与正则表达式 \fIregexp\fP 匹配的行。 匹配是在当前模式空间上进行的，可以用 \*(lqs///\*(rq 等命令进行修改。
.TP 
\e\fBc\fP\fIregexp\fP\fBc\fP
匹配与正则表达式 \fIregexp\fP 匹配的行。 \fBc\fP 可以是任何字符。
.PP
GNU\*(sd 还支持一些特殊的双地址形式:
.TP 
0,\fIaddr2\fP
从 "matched first address" 状态开始，直到找到 \fIaddr2\fP。 这类似于 1,\fIaddr2\fP，不同之处在于如果
\fIaddr2\fP 匹配输入的第一行，则 0,\fIaddr2\fP 形式将位于其范围的末尾，而 1,\fIaddr2\fP 形式仍将位于其范围的开头。 这仅在
\fIaddr2\fP 是正则表达式时有效。
.TP 
\fIaddr1\fP,+\fIN\fP
将匹配 \fIaddr1\fP 和 \fIaddr1\fP 之后的 \fIN\fP 行。
.TP 
\fIaddr1\fP,~\fIN\fP
将匹配 \fIaddr1\fP 和 \fIaddr1\fP 之后的行，直到输入行号是 \fIN\fP 的倍数的下一行。
.SH "REGULAR EXPRESSIONS"
POSIX.2 BREs \fIshould\fP 得到支持，但不完全是因为性能问题。 正则表达式中的 \fB\en\fP
序列匹配换行符，\fB\ea\fP、\fB\et\fP 和其他序列也类似。 \fI\-E\fP 选项改为使用扩展的正则表达式; GNU sed 多年来一直支持它，现在包含在
POSIX 中。
.SH BUGS
.PP
通过电子邮件向 \fBbug\-sed@gnu.org\fP 报告错误。 另外，如果可能的话，请在报告正文中包含 `sed\-\-version` 的输出。
.SH AUTHOR
由 Jay Fenlason、Tom Lord、Ken Pizzini、Paolo Bonzini、Jim Meyering 和 Assaf
Gordon 撰写。
.PP
这个 sed 程序是在没有 SELinux 支持的情况下构建的。
.PP
GNU sed 主页: <https://www.gnu.org/software/sed/>。 使用 GNU 软件的一般帮助:
<https://www.gnu.org/gethelp/>。 通过电子邮件将错误报告发送至:
<bug\-sed@gnu.org>。
.SH COPYRIGHT
Copyright \(co 2022 Free Software Foundation, Inc.   License GPLv3+: GNU GPL
version 3 or later <https://gnu.org/licenses/gpl.html>.
.br
这是免费软件: 您可以自由更改和重新分发它。 在法律允许的范围内，不提供任何保证。
.SH "SEE ALSO"
\fBawk\fP(1)、\fBed\fP(1)、\fBgrep\fP(1)、\fBtr\fP(1)、\fBperlre\fP(1)、sed.info，关于 \*(sd,
.na
the \*(sd FAQ (http://sed.sf.net/grabbag/tutorials/sedfaq.txt),
http://sed.sf.net/grabbag/.
.PP
\fBsed\fP 的完整文档作为 Texinfo 手册进行维护。 如果 \fBinfo\fP 和 \fBsed\fP 程序在您的站点上正确安装，则命令
.IP
\fBinfo sed\fP
.PP
应该可以让您访问完整的手册。
.PP
.SH [手册页中文版]
.PP
本翻译为免费文档；阅读
.UR https://www.gnu.org/licenses/gpl-3.0.html
GNU 通用公共许可证第 3 版
.UE
或稍后的版权条款。因使用该翻译而造成的任何问题和损失完全由您承担。
.PP
该中文翻译由 wtklbm
.B <wtklbm@gmail.com>
根据个人学习需要制作。
.PP
项目地址:
.UR \fBhttps://github.com/wtklbm/manpages-chinese\fR
.ME 。
